function pP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Fh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Xw={exports:{}},Mh={},Zw={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ou=Symbol.for("react.element"),mP=Symbol.for("react.portal"),gP=Symbol.for("react.fragment"),_P=Symbol.for("react.strict_mode"),yP=Symbol.for("react.profiler"),vP=Symbol.for("react.provider"),EP=Symbol.for("react.context"),xP=Symbol.for("react.forward_ref"),wP=Symbol.for("react.suspense"),TP=Symbol.for("react.memo"),CP=Symbol.for("react.lazy"),Lv=Symbol.iterator;function SP(t){return t===null||typeof t!="object"?null:(t=Lv&&t[Lv]||t["@@iterator"],typeof t=="function"?t:null)}var eT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tT=Object.assign,nT={};function wl(t,e,n){this.props=t,this.context=e,this.refs=nT,this.updater=n||eT}wl.prototype.isReactComponent={};wl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};wl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function rT(){}rT.prototype=wl.prototype;function l_(t,e,n){this.props=t,this.context=e,this.refs=nT,this.updater=n||eT}var a_=l_.prototype=new rT;a_.constructor=l_;tT(a_,wl.prototype);a_.isPureReactComponent=!0;var $v=Array.isArray,iT=Object.prototype.hasOwnProperty,u_={current:null},sT={key:!0,ref:!0,__self:!0,__source:!0};function oT(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)iT.call(e,r)&&!sT.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Ou,type:t,key:s,ref:o,props:i,_owner:u_.current}}function AP(t,e){return{$$typeof:Ou,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function c_(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ou}function IP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Vv=/\/+/g;function Jf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?IP(""+t.key):e.toString(36)}function nd(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ou:case mP:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Jf(o,0):r,$v(i)?(n="",t!=null&&(n=t.replace(Vv,"$&/")+"/"),nd(i,e,n,"",function(u){return u})):i!=null&&(c_(i)&&(i=AP(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Vv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",$v(t))for(var l=0;l<t.length;l++){s=t[l];var a=r+Jf(s,l);o+=nd(s,e,n,a,i)}else if(a=SP(t),typeof a=="function")for(t=a.call(t),l=0;!(s=t.next()).done;)s=s.value,a=r+Jf(s,l++),o+=nd(s,e,n,a,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Cc(t,e,n){if(t==null)return t;var r=[],i=0;return nd(t,r,"","",function(s){return e.call(n,s,i++)}),r}function kP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var An={current:null},rd={transition:null},RP={ReactCurrentDispatcher:An,ReactCurrentBatchConfig:rd,ReactCurrentOwner:u_};function lT(){throw Error("act(...) is not supported in production builds of React.")}De.Children={map:Cc,forEach:function(t,e,n){Cc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Cc(t,function(){e++}),e},toArray:function(t){return Cc(t,function(e){return e})||[]},only:function(t){if(!c_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};De.Component=wl;De.Fragment=gP;De.Profiler=yP;De.PureComponent=l_;De.StrictMode=_P;De.Suspense=wP;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RP;De.act=lT;De.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=tT({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=u_.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)iT.call(e,a)&&!sT.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Ou,type:t.type,key:i,ref:s,props:r,_owner:o}};De.createContext=function(t){return t={$$typeof:EP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:vP,_context:t},t.Consumer=t};De.createElement=oT;De.createFactory=function(t){var e=oT.bind(null,t);return e.type=t,e};De.createRef=function(){return{current:null}};De.forwardRef=function(t){return{$$typeof:xP,render:t}};De.isValidElement=c_;De.lazy=function(t){return{$$typeof:CP,_payload:{_status:-1,_result:t},_init:kP}};De.memo=function(t,e){return{$$typeof:TP,type:t,compare:e===void 0?null:e}};De.startTransition=function(t){var e=rd.transition;rd.transition={};try{t()}finally{rd.transition=e}};De.unstable_act=lT;De.useCallback=function(t,e){return An.current.useCallback(t,e)};De.useContext=function(t){return An.current.useContext(t)};De.useDebugValue=function(){};De.useDeferredValue=function(t){return An.current.useDeferredValue(t)};De.useEffect=function(t,e){return An.current.useEffect(t,e)};De.useId=function(){return An.current.useId()};De.useImperativeHandle=function(t,e,n){return An.current.useImperativeHandle(t,e,n)};De.useInsertionEffect=function(t,e){return An.current.useInsertionEffect(t,e)};De.useLayoutEffect=function(t,e){return An.current.useLayoutEffect(t,e)};De.useMemo=function(t,e){return An.current.useMemo(t,e)};De.useReducer=function(t,e,n){return An.current.useReducer(t,e,n)};De.useRef=function(t){return An.current.useRef(t)};De.useState=function(t){return An.current.useState(t)};De.useSyncExternalStore=function(t,e,n){return An.current.useSyncExternalStore(t,e,n)};De.useTransition=function(){return An.current.useTransition()};De.version="18.3.1";Zw.exports=De;var H=Zw.exports;const ye=Fh(H),NP=pP({__proto__:null,default:ye},[H]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PP=H,DP=Symbol.for("react.element"),bP=Symbol.for("react.fragment"),OP=Object.prototype.hasOwnProperty,FP=PP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,MP={key:!0,ref:!0,__self:!0,__source:!0};function aT(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)OP.call(e,r)&&!MP.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:DP,type:t,key:s,ref:o,props:i,_owner:FP.current}}Mh.Fragment=bP;Mh.jsx=aT;Mh.jsxs=aT;Xw.exports=Mh;var b=Xw.exports,uT={exports:{}},Kn={},cT={exports:{}},dT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,ae){var F=q.length;q.push(ae);e:for(;0<F;){var Ce=F-1>>>1,we=q[Ce];if(0<i(we,ae))q[Ce]=ae,q[F]=we,F=Ce;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var ae=q[0],F=q.pop();if(F!==ae){q[0]=F;e:for(var Ce=0,we=q.length,M=we>>>1;Ce<M;){var je=2*(Ce+1)-1,Ye=q[je],Pe=je+1,W=q[Pe];if(0>i(Ye,F))Pe<we&&0>i(W,Ye)?(q[Ce]=W,q[Pe]=F,Ce=Pe):(q[Ce]=Ye,q[je]=F,Ce=je);else if(Pe<we&&0>i(W,F))q[Ce]=W,q[Pe]=F,Ce=Pe;else break e}}return ae}function i(q,ae){var F=q.sortIndex-ae.sortIndex;return F!==0?F:q.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],d=1,h=null,f=3,p=!1,y=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(q){for(var ae=n(u);ae!==null;){if(ae.callback===null)r(u);else if(ae.startTime<=q)r(u),ae.sortIndex=ae.expirationTime,e(a,ae);else break;ae=n(u)}}function N(q){if(w=!1,v(q),!y)if(n(a)!==null)y=!0,Ne(L);else{var ae=n(u);ae!==null&&fe(N,ae.startTime-q)}}function L(q,ae){y=!1,w&&(w=!1,_(x),x=-1),p=!0;var F=f;try{for(v(ae),h=n(a);h!==null&&(!(h.expirationTime>ae)||q&&!R());){var Ce=h.callback;if(typeof Ce=="function"){h.callback=null,f=h.priorityLevel;var we=Ce(h.expirationTime<=ae);ae=t.unstable_now(),typeof we=="function"?h.callback=we:h===n(a)&&r(a),v(ae)}else r(a);h=n(a)}if(h!==null)var M=!0;else{var je=n(u);je!==null&&fe(N,je.startTime-ae),M=!1}return M}finally{h=null,f=F,p=!1}}var k=!1,T=null,x=-1,I=5,P=-1;function R(){return!(t.unstable_now()-P<I)}function D(){if(T!==null){var q=t.unstable_now();P=q;var ae=!0;try{ae=T(!0,q)}finally{ae?O():(k=!1,T=null)}}else k=!1}var O;if(typeof E=="function")O=function(){E(D)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,pe=ve.port2;ve.port1.onmessage=D,O=function(){pe.postMessage(null)}}else O=function(){C(D,0)};function Ne(q){T=q,k||(k=!0,O())}function fe(q,ae){x=C(function(){q(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,Ne(L))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(q){switch(f){case 1:case 2:case 3:var ae=3;break;default:ae=f}var F=f;f=ae;try{return q()}finally{f=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,ae){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var F=f;f=q;try{return ae()}finally{f=F}},t.unstable_scheduleCallback=function(q,ae,F){var Ce=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?Ce+F:Ce):F=Ce,q){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=F+we,q={id:d++,callback:ae,priorityLevel:q,startTime:F,expirationTime:we,sortIndex:-1},F>Ce?(q.sortIndex=F,e(u,q),n(a)===null&&q===n(u)&&(w?(_(x),x=-1):w=!0,fe(N,F-Ce))):(q.sortIndex=we,e(a,q),y||p||(y=!0,Ne(L))),q},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(q){var ae=f;return function(){var F=f;f=ae;try{return q.apply(this,arguments)}finally{f=F}}}})(dT);cT.exports=dT;var LP=cT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $P=H,Wn=LP;function Y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hT=new Set,Ya={};function no(t,e){sl(t,e),sl(t+"Capture",e)}function sl(t,e){for(Ya[t]=e,t=0;t<e.length;t++)hT.add(e[t])}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),im=Object.prototype.hasOwnProperty,VP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bv={},Uv={};function BP(t){return im.call(Uv,t)?!0:im.call(Bv,t)?!1:VP.test(t)?Uv[t]=!0:(Bv[t]=!0,!1)}function UP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function jP(t,e,n,r){if(e===null||typeof e>"u"||UP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function In(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var nn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){nn[t]=new In(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];nn[e]=new In(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){nn[t]=new In(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){nn[t]=new In(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){nn[t]=new In(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){nn[t]=new In(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){nn[t]=new In(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){nn[t]=new In(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){nn[t]=new In(t,5,!1,t.toLowerCase(),null,!1,!1)});var d_=/[\-:]([a-z])/g;function h_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(d_,h_);nn[e]=new In(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(d_,h_);nn[e]=new In(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(d_,h_);nn[e]=new In(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){nn[t]=new In(t,1,!1,t.toLowerCase(),null,!1,!1)});nn.xlinkHref=new In("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){nn[t]=new In(t,1,!1,t.toLowerCase(),null,!0,!0)});function f_(t,e,n,r){var i=nn.hasOwnProperty(e)?nn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(jP(e,n,i,r)&&(n=null),r||i===null?BP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var fi=$P.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sc=Symbol.for("react.element"),Io=Symbol.for("react.portal"),ko=Symbol.for("react.fragment"),p_=Symbol.for("react.strict_mode"),sm=Symbol.for("react.profiler"),fT=Symbol.for("react.provider"),pT=Symbol.for("react.context"),m_=Symbol.for("react.forward_ref"),om=Symbol.for("react.suspense"),lm=Symbol.for("react.suspense_list"),g_=Symbol.for("react.memo"),Ti=Symbol.for("react.lazy"),mT=Symbol.for("react.offscreen"),jv=Symbol.iterator;function ea(t){return t===null||typeof t!="object"?null:(t=jv&&t[jv]||t["@@iterator"],typeof t=="function"?t:null)}var mt=Object.assign,Qf;function ha(t){if(Qf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Qf=e&&e[1]||""}return`
`+Qf+t}var Yf=!1;function Xf(t,e){if(!t||Yf)return"";Yf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{Yf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ha(t):""}function zP(t){switch(t.tag){case 5:return ha(t.type);case 16:return ha("Lazy");case 13:return ha("Suspense");case 19:return ha("SuspenseList");case 0:case 2:case 15:return t=Xf(t.type,!1),t;case 11:return t=Xf(t.type.render,!1),t;case 1:return t=Xf(t.type,!0),t;default:return""}}function am(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ko:return"Fragment";case Io:return"Portal";case sm:return"Profiler";case p_:return"StrictMode";case om:return"Suspense";case lm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case pT:return(t.displayName||"Context")+".Consumer";case fT:return(t._context.displayName||"Context")+".Provider";case m_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case g_:return e=t.displayName||null,e!==null?e:am(t.type)||"Memo";case Ti:e=t._payload,t=t._init;try{return am(t(e))}catch{}}return null}function WP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return am(e);case 8:return e===p_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ns(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function HP(t){var e=gT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ac(t){t._valueTracker||(t._valueTracker=HP(t))}function _T(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=gT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function bd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function um(t,e){var n=e.checked;return mt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function zv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ns(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function yT(t,e){e=e.checked,e!=null&&f_(t,"checked",e,!1)}function cm(t,e){yT(t,e);var n=ns(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?dm(t,e.type,n):e.hasOwnProperty("defaultValue")&&dm(t,e.type,ns(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Wv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function dm(t,e,n){(e!=="number"||bd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var fa=Array.isArray;function Wo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ns(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function hm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Y(91));return mt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Hv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Y(92));if(fa(n)){if(1<n.length)throw Error(Y(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ns(n)}}function vT(t,e){var n=ns(e.value),r=ns(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Kv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ET(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ET(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ic,xT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ic=Ic||document.createElement("div"),Ic.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ic.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Xa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Sa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KP=["Webkit","ms","Moz","O"];Object.keys(Sa).forEach(function(t){KP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Sa[e]=Sa[t]})});function wT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Sa.hasOwnProperty(t)&&Sa[t]?(""+e).trim():e+"px"}function TT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=wT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var qP=mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pm(t,e){if(e){if(qP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Y(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Y(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Y(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Y(62))}}function mm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gm=null;function __(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _m=null,Ho=null,Ko=null;function qv(t){if(t=Lu(t)){if(typeof _m!="function")throw Error(Y(280));var e=t.stateNode;e&&(e=Uh(e),_m(t.stateNode,t.type,e))}}function CT(t){Ho?Ko?Ko.push(t):Ko=[t]:Ho=t}function ST(){if(Ho){var t=Ho,e=Ko;if(Ko=Ho=null,qv(t),e)for(t=0;t<e.length;t++)qv(e[t])}}function AT(t,e){return t(e)}function IT(){}var Zf=!1;function kT(t,e,n){if(Zf)return t(e,n);Zf=!0;try{return AT(t,e,n)}finally{Zf=!1,(Ho!==null||Ko!==null)&&(IT(),ST())}}function Za(t,e){var n=t.stateNode;if(n===null)return null;var r=Uh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Y(231,e,typeof n));return n}var ym=!1;if(ii)try{var ta={};Object.defineProperty(ta,"passive",{get:function(){ym=!0}}),window.addEventListener("test",ta,ta),window.removeEventListener("test",ta,ta)}catch{ym=!1}function GP(t,e,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Aa=!1,Od=null,Fd=!1,vm=null,JP={onError:function(t){Aa=!0,Od=t}};function QP(t,e,n,r,i,s,o,l,a){Aa=!1,Od=null,GP.apply(JP,arguments)}function YP(t,e,n,r,i,s,o,l,a){if(QP.apply(this,arguments),Aa){if(Aa){var u=Od;Aa=!1,Od=null}else throw Error(Y(198));Fd||(Fd=!0,vm=u)}}function ro(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function RT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Gv(t){if(ro(t)!==t)throw Error(Y(188))}function XP(t){var e=t.alternate;if(!e){if(e=ro(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Gv(i),t;if(s===r)return Gv(i),e;s=s.sibling}throw Error(Y(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(Y(189))}}if(n.alternate!==r)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?t:e}function NT(t){return t=XP(t),t!==null?PT(t):null}function PT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=PT(t);if(e!==null)return e;t=t.sibling}return null}var DT=Wn.unstable_scheduleCallback,Jv=Wn.unstable_cancelCallback,ZP=Wn.unstable_shouldYield,eD=Wn.unstable_requestPaint,kt=Wn.unstable_now,tD=Wn.unstable_getCurrentPriorityLevel,y_=Wn.unstable_ImmediatePriority,bT=Wn.unstable_UserBlockingPriority,Md=Wn.unstable_NormalPriority,nD=Wn.unstable_LowPriority,OT=Wn.unstable_IdlePriority,Lh=null,Sr=null;function rD(t){if(Sr&&typeof Sr.onCommitFiberRoot=="function")try{Sr.onCommitFiberRoot(Lh,t,void 0,(t.current.flags&128)===128)}catch{}}var hr=Math.clz32?Math.clz32:oD,iD=Math.log,sD=Math.LN2;function oD(t){return t>>>=0,t===0?32:31-(iD(t)/sD|0)|0}var kc=64,Rc=4194304;function pa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ld(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=pa(l):(s&=o,s!==0&&(r=pa(s)))}else o=n&~i,o!==0?r=pa(o):s!==0&&(r=pa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-hr(e),i=1<<n,r|=t[n],e&=~i;return r}function lD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-hr(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=lD(l,e)):a<=e&&(t.expiredLanes|=l),s&=~l}}function Em(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function FT(){var t=kc;return kc<<=1,!(kc&4194240)&&(kc=64),t}function ep(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Fu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-hr(e),t[e]=n}function uD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-hr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function v_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-hr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Je=0;function MT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var LT,E_,$T,VT,BT,xm=!1,Nc=[],Bi=null,Ui=null,ji=null,eu=new Map,tu=new Map,Ai=[],cD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qv(t,e){switch(t){case"focusin":case"focusout":Bi=null;break;case"dragenter":case"dragleave":Ui=null;break;case"mouseover":case"mouseout":ji=null;break;case"pointerover":case"pointerout":eu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":tu.delete(e.pointerId)}}function na(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Lu(e),e!==null&&E_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function dD(t,e,n,r,i){switch(e){case"focusin":return Bi=na(Bi,t,e,n,r,i),!0;case"dragenter":return Ui=na(Ui,t,e,n,r,i),!0;case"mouseover":return ji=na(ji,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return eu.set(s,na(eu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,tu.set(s,na(tu.get(s)||null,t,e,n,r,i)),!0}return!1}function UT(t){var e=Ds(t.target);if(e!==null){var n=ro(e);if(n!==null){if(e=n.tag,e===13){if(e=RT(n),e!==null){t.blockedOn=e,BT(t.priority,function(){$T(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function id(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=wm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);gm=r,n.target.dispatchEvent(r),gm=null}else return e=Lu(n),e!==null&&E_(e),t.blockedOn=n,!1;e.shift()}return!0}function Yv(t,e,n){id(t)&&n.delete(e)}function hD(){xm=!1,Bi!==null&&id(Bi)&&(Bi=null),Ui!==null&&id(Ui)&&(Ui=null),ji!==null&&id(ji)&&(ji=null),eu.forEach(Yv),tu.forEach(Yv)}function ra(t,e){t.blockedOn===e&&(t.blockedOn=null,xm||(xm=!0,Wn.unstable_scheduleCallback(Wn.unstable_NormalPriority,hD)))}function nu(t){function e(i){return ra(i,t)}if(0<Nc.length){ra(Nc[0],t);for(var n=1;n<Nc.length;n++){var r=Nc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Bi!==null&&ra(Bi,t),Ui!==null&&ra(Ui,t),ji!==null&&ra(ji,t),eu.forEach(e),tu.forEach(e),n=0;n<Ai.length;n++)r=Ai[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ai.length&&(n=Ai[0],n.blockedOn===null);)UT(n),n.blockedOn===null&&Ai.shift()}var qo=fi.ReactCurrentBatchConfig,$d=!0;function fD(t,e,n,r){var i=Je,s=qo.transition;qo.transition=null;try{Je=1,x_(t,e,n,r)}finally{Je=i,qo.transition=s}}function pD(t,e,n,r){var i=Je,s=qo.transition;qo.transition=null;try{Je=4,x_(t,e,n,r)}finally{Je=i,qo.transition=s}}function x_(t,e,n,r){if($d){var i=wm(t,e,n,r);if(i===null)cp(t,e,r,Vd,n),Qv(t,r);else if(dD(i,t,e,n,r))r.stopPropagation();else if(Qv(t,r),e&4&&-1<cD.indexOf(t)){for(;i!==null;){var s=Lu(i);if(s!==null&&LT(s),s=wm(t,e,n,r),s===null&&cp(t,e,r,Vd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else cp(t,e,r,null,n)}}var Vd=null;function wm(t,e,n,r){if(Vd=null,t=__(r),t=Ds(t),t!==null)if(e=ro(t),e===null)t=null;else if(n=e.tag,n===13){if(t=RT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Vd=t,null}function jT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tD()){case y_:return 1;case bT:return 4;case Md:case nD:return 16;case OT:return 536870912;default:return 16}default:return 16}}var bi=null,w_=null,sd=null;function zT(){if(sd)return sd;var t,e=w_,n=e.length,r,i="value"in bi?bi.value:bi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return sd=i.slice(t,1<r?1-r:void 0)}function od(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Pc(){return!0}function Xv(){return!1}function qn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Pc:Xv,this.isPropagationStopped=Xv,this}return mt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pc)},persist:function(){},isPersistent:Pc}),e}var Tl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},T_=qn(Tl),Mu=mt({},Tl,{view:0,detail:0}),mD=qn(Mu),tp,np,ia,$h=mt({},Mu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:C_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ia&&(ia&&t.type==="mousemove"?(tp=t.screenX-ia.screenX,np=t.screenY-ia.screenY):np=tp=0,ia=t),tp)},movementY:function(t){return"movementY"in t?t.movementY:np}}),Zv=qn($h),gD=mt({},$h,{dataTransfer:0}),_D=qn(gD),yD=mt({},Mu,{relatedTarget:0}),rp=qn(yD),vD=mt({},Tl,{animationName:0,elapsedTime:0,pseudoElement:0}),ED=qn(vD),xD=mt({},Tl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wD=qn(xD),TD=mt({},Tl,{data:0}),e1=qn(TD),CD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ID(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=AD[t])?!!e[t]:!1}function C_(){return ID}var kD=mt({},Mu,{key:function(t){if(t.key){var e=CD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=od(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?SD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:C_,charCode:function(t){return t.type==="keypress"?od(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?od(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),RD=qn(kD),ND=mt({},$h,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),t1=qn(ND),PD=mt({},Mu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:C_}),DD=qn(PD),bD=mt({},Tl,{propertyName:0,elapsedTime:0,pseudoElement:0}),OD=qn(bD),FD=mt({},$h,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),MD=qn(FD),LD=[9,13,27,32],S_=ii&&"CompositionEvent"in window,Ia=null;ii&&"documentMode"in document&&(Ia=document.documentMode);var $D=ii&&"TextEvent"in window&&!Ia,WT=ii&&(!S_||Ia&&8<Ia&&11>=Ia),n1=" ",r1=!1;function HT(t,e){switch(t){case"keyup":return LD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function KT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ro=!1;function VD(t,e){switch(t){case"compositionend":return KT(e);case"keypress":return e.which!==32?null:(r1=!0,n1);case"textInput":return t=e.data,t===n1&&r1?null:t;default:return null}}function BD(t,e){if(Ro)return t==="compositionend"||!S_&&HT(t,e)?(t=zT(),sd=w_=bi=null,Ro=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return WT&&e.locale!=="ko"?null:e.data;default:return null}}var UD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function i1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!UD[t.type]:e==="textarea"}function qT(t,e,n,r){CT(r),e=Bd(e,"onChange"),0<e.length&&(n=new T_("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ka=null,ru=null;function jD(t){iC(t,0)}function Vh(t){var e=Do(t);if(_T(e))return t}function zD(t,e){if(t==="change")return e}var GT=!1;if(ii){var ip;if(ii){var sp="oninput"in document;if(!sp){var s1=document.createElement("div");s1.setAttribute("oninput","return;"),sp=typeof s1.oninput=="function"}ip=sp}else ip=!1;GT=ip&&(!document.documentMode||9<document.documentMode)}function o1(){ka&&(ka.detachEvent("onpropertychange",JT),ru=ka=null)}function JT(t){if(t.propertyName==="value"&&Vh(ru)){var e=[];qT(e,ru,t,__(t)),kT(jD,e)}}function WD(t,e,n){t==="focusin"?(o1(),ka=e,ru=n,ka.attachEvent("onpropertychange",JT)):t==="focusout"&&o1()}function HD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vh(ru)}function KD(t,e){if(t==="click")return Vh(e)}function qD(t,e){if(t==="input"||t==="change")return Vh(e)}function GD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mr=typeof Object.is=="function"?Object.is:GD;function iu(t,e){if(mr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!im.call(e,i)||!mr(t[i],e[i]))return!1}return!0}function l1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function a1(t,e){var n=l1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=l1(n)}}function QT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?QT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function YT(){for(var t=window,e=bd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=bd(t.document)}return e}function A_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function JD(t){var e=YT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&QT(n.ownerDocument.documentElement,n)){if(r!==null&&A_(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=a1(n,s);var o=a1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var QD=ii&&"documentMode"in document&&11>=document.documentMode,No=null,Tm=null,Ra=null,Cm=!1;function u1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Cm||No==null||No!==bd(r)||(r=No,"selectionStart"in r&&A_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ra&&iu(Ra,r)||(Ra=r,r=Bd(Tm,"onSelect"),0<r.length&&(e=new T_("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=No)))}function Dc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Po={animationend:Dc("Animation","AnimationEnd"),animationiteration:Dc("Animation","AnimationIteration"),animationstart:Dc("Animation","AnimationStart"),transitionend:Dc("Transition","TransitionEnd")},op={},XT={};ii&&(XT=document.createElement("div").style,"AnimationEvent"in window||(delete Po.animationend.animation,delete Po.animationiteration.animation,delete Po.animationstart.animation),"TransitionEvent"in window||delete Po.transitionend.transition);function Bh(t){if(op[t])return op[t];if(!Po[t])return t;var e=Po[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in XT)return op[t]=e[n];return t}var ZT=Bh("animationend"),eC=Bh("animationiteration"),tC=Bh("animationstart"),nC=Bh("transitionend"),rC=new Map,c1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hs(t,e){rC.set(t,e),no(e,[t])}for(var lp=0;lp<c1.length;lp++){var ap=c1[lp],YD=ap.toLowerCase(),XD=ap[0].toUpperCase()+ap.slice(1);hs(YD,"on"+XD)}hs(ZT,"onAnimationEnd");hs(eC,"onAnimationIteration");hs(tC,"onAnimationStart");hs("dblclick","onDoubleClick");hs("focusin","onFocus");hs("focusout","onBlur");hs(nC,"onTransitionEnd");sl("onMouseEnter",["mouseout","mouseover"]);sl("onMouseLeave",["mouseout","mouseover"]);sl("onPointerEnter",["pointerout","pointerover"]);sl("onPointerLeave",["pointerout","pointerover"]);no("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));no("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));no("onBeforeInput",["compositionend","keypress","textInput","paste"]);no("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));no("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));no("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZD=new Set("cancel close invalid load scroll toggle".split(" ").concat(ma));function d1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,YP(r,e,void 0,t),t.currentTarget=null}function iC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;d1(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;d1(i,l,u),s=a}}}if(Fd)throw t=vm,Fd=!1,vm=null,t}function ot(t,e){var n=e[Rm];n===void 0&&(n=e[Rm]=new Set);var r=t+"__bubble";n.has(r)||(sC(e,t,2,!1),n.add(r))}function up(t,e,n){var r=0;e&&(r|=4),sC(n,t,r,e)}var bc="_reactListening"+Math.random().toString(36).slice(2);function su(t){if(!t[bc]){t[bc]=!0,hT.forEach(function(n){n!=="selectionchange"&&(ZD.has(n)||up(n,!1,t),up(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[bc]||(e[bc]=!0,up("selectionchange",!1,e))}}function sC(t,e,n,r){switch(jT(e)){case 1:var i=fD;break;case 4:i=pD;break;default:i=x_}n=i.bind(null,e,n,t),i=void 0,!ym||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function cp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Ds(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}kT(function(){var u=s,d=__(n),h=[];e:{var f=rC.get(t);if(f!==void 0){var p=T_,y=t;switch(t){case"keypress":if(od(n)===0)break e;case"keydown":case"keyup":p=RD;break;case"focusin":y="focus",p=rp;break;case"focusout":y="blur",p=rp;break;case"beforeblur":case"afterblur":p=rp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Zv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=_D;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=DD;break;case ZT:case eC:case tC:p=ED;break;case nC:p=OD;break;case"scroll":p=mD;break;case"wheel":p=MD;break;case"copy":case"cut":case"paste":p=wD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=t1}var w=(e&4)!==0,C=!w&&t==="scroll",_=w?f!==null?f+"Capture":null:f;w=[];for(var E=u,v;E!==null;){v=E;var N=v.stateNode;if(v.tag===5&&N!==null&&(v=N,_!==null&&(N=Za(E,_),N!=null&&w.push(ou(E,N,v)))),C)break;E=E.return}0<w.length&&(f=new p(f,y,null,n,d),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==gm&&(y=n.relatedTarget||n.fromElement)&&(Ds(y)||y[si]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?Ds(y):null,y!==null&&(C=ro(y),y!==C||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(w=Zv,N="onMouseLeave",_="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(w=t1,N="onPointerLeave",_="onPointerEnter",E="pointer"),C=p==null?f:Do(p),v=y==null?f:Do(y),f=new w(N,E+"leave",p,n,d),f.target=C,f.relatedTarget=v,N=null,Ds(d)===u&&(w=new w(_,E+"enter",y,n,d),w.target=v,w.relatedTarget=C,N=w),C=N,p&&y)t:{for(w=p,_=y,E=0,v=w;v;v=go(v))E++;for(v=0,N=_;N;N=go(N))v++;for(;0<E-v;)w=go(w),E--;for(;0<v-E;)_=go(_),v--;for(;E--;){if(w===_||_!==null&&w===_.alternate)break t;w=go(w),_=go(_)}w=null}else w=null;p!==null&&h1(h,f,p,w,!1),y!==null&&C!==null&&h1(h,C,y,w,!0)}}e:{if(f=u?Do(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var L=zD;else if(i1(f))if(GT)L=qD;else{L=HD;var k=WD}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(L=KD);if(L&&(L=L(t,u))){qT(h,L,n,d);break e}k&&k(t,f,u),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&dm(f,"number",f.value)}switch(k=u?Do(u):window,t){case"focusin":(i1(k)||k.contentEditable==="true")&&(No=k,Tm=u,Ra=null);break;case"focusout":Ra=Tm=No=null;break;case"mousedown":Cm=!0;break;case"contextmenu":case"mouseup":case"dragend":Cm=!1,u1(h,n,d);break;case"selectionchange":if(QD)break;case"keydown":case"keyup":u1(h,n,d)}var T;if(S_)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Ro?HT(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(WT&&n.locale!=="ko"&&(Ro||x!=="onCompositionStart"?x==="onCompositionEnd"&&Ro&&(T=zT()):(bi=d,w_="value"in bi?bi.value:bi.textContent,Ro=!0)),k=Bd(u,x),0<k.length&&(x=new e1(x,t,null,n,d),h.push({event:x,listeners:k}),T?x.data=T:(T=KT(n),T!==null&&(x.data=T)))),(T=$D?VD(t,n):BD(t,n))&&(u=Bd(u,"onBeforeInput"),0<u.length&&(d=new e1("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=T))}iC(h,e)})}function ou(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Bd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Za(t,n),s!=null&&r.unshift(ou(t,s,i)),s=Za(t,e),s!=null&&r.push(ou(t,s,i))),t=t.return}return r}function go(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function h1(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Za(n,s),a!=null&&o.unshift(ou(n,a,l))):i||(a=Za(n,s),a!=null&&o.push(ou(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var e2=/\r\n?/g,t2=/\u0000|\uFFFD/g;function f1(t){return(typeof t=="string"?t:""+t).replace(e2,`
`).replace(t2,"")}function Oc(t,e,n){if(e=f1(e),f1(t)!==e&&n)throw Error(Y(425))}function Ud(){}var Sm=null,Am=null;function Im(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var km=typeof setTimeout=="function"?setTimeout:void 0,n2=typeof clearTimeout=="function"?clearTimeout:void 0,p1=typeof Promise=="function"?Promise:void 0,r2=typeof queueMicrotask=="function"?queueMicrotask:typeof p1<"u"?function(t){return p1.resolve(null).then(t).catch(i2)}:km;function i2(t){setTimeout(function(){throw t})}function dp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),nu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);nu(e)}function zi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function m1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Cl=Math.random().toString(36).slice(2),xr="__reactFiber$"+Cl,lu="__reactProps$"+Cl,si="__reactContainer$"+Cl,Rm="__reactEvents$"+Cl,s2="__reactListeners$"+Cl,o2="__reactHandles$"+Cl;function Ds(t){var e=t[xr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[si]||n[xr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=m1(t);t!==null;){if(n=t[xr])return n;t=m1(t)}return e}t=n,n=t.parentNode}return null}function Lu(t){return t=t[xr]||t[si],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Do(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Y(33))}function Uh(t){return t[lu]||null}var Nm=[],bo=-1;function fs(t){return{current:t}}function at(t){0>bo||(t.current=Nm[bo],Nm[bo]=null,bo--)}function rt(t,e){bo++,Nm[bo]=t.current,t.current=e}var rs={},gn=fs(rs),Dn=fs(!1),js=rs;function ol(t,e){var n=t.type.contextTypes;if(!n)return rs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function bn(t){return t=t.childContextTypes,t!=null}function jd(){at(Dn),at(gn)}function g1(t,e,n){if(gn.current!==rs)throw Error(Y(168));rt(gn,e),rt(Dn,n)}function oC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Y(108,WP(t)||"Unknown",i));return mt({},n,r)}function zd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||rs,js=gn.current,rt(gn,t),rt(Dn,Dn.current),!0}function _1(t,e,n){var r=t.stateNode;if(!r)throw Error(Y(169));n?(t=oC(t,e,js),r.__reactInternalMemoizedMergedChildContext=t,at(Dn),at(gn),rt(gn,t)):at(Dn),rt(Dn,n)}var qr=null,jh=!1,hp=!1;function lC(t){qr===null?qr=[t]:qr.push(t)}function l2(t){jh=!0,lC(t)}function ps(){if(!hp&&qr!==null){hp=!0;var t=0,e=Je;try{var n=qr;for(Je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}qr=null,jh=!1}catch(i){throw qr!==null&&(qr=qr.slice(t+1)),DT(y_,ps),i}finally{Je=e,hp=!1}}return null}var Oo=[],Fo=0,Wd=null,Hd=0,Qn=[],Yn=0,zs=null,Jr=1,Qr="";function Rs(t,e){Oo[Fo++]=Hd,Oo[Fo++]=Wd,Wd=t,Hd=e}function aC(t,e,n){Qn[Yn++]=Jr,Qn[Yn++]=Qr,Qn[Yn++]=zs,zs=t;var r=Jr;t=Qr;var i=32-hr(r)-1;r&=~(1<<i),n+=1;var s=32-hr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Jr=1<<32-hr(e)+i|n<<i|r,Qr=s+t}else Jr=1<<s|n<<i|r,Qr=t}function I_(t){t.return!==null&&(Rs(t,1),aC(t,1,0))}function k_(t){for(;t===Wd;)Wd=Oo[--Fo],Oo[Fo]=null,Hd=Oo[--Fo],Oo[Fo]=null;for(;t===zs;)zs=Qn[--Yn],Qn[Yn]=null,Qr=Qn[--Yn],Qn[Yn]=null,Jr=Qn[--Yn],Qn[Yn]=null}var Un=null,Vn=null,ct=!1,cr=null;function uC(t,e){var n=er(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function y1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Un=t,Vn=zi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Un=t,Vn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=zs!==null?{id:Jr,overflow:Qr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=er(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Un=t,Vn=null,!0):!1;default:return!1}}function Pm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Dm(t){if(ct){var e=Vn;if(e){var n=e;if(!y1(t,e)){if(Pm(t))throw Error(Y(418));e=zi(n.nextSibling);var r=Un;e&&y1(t,e)?uC(r,n):(t.flags=t.flags&-4097|2,ct=!1,Un=t)}}else{if(Pm(t))throw Error(Y(418));t.flags=t.flags&-4097|2,ct=!1,Un=t}}}function v1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Un=t}function Fc(t){if(t!==Un)return!1;if(!ct)return v1(t),ct=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Im(t.type,t.memoizedProps)),e&&(e=Vn)){if(Pm(t))throw cC(),Error(Y(418));for(;e;)uC(t,e),e=zi(e.nextSibling)}if(v1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Vn=zi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Vn=null}}else Vn=Un?zi(t.stateNode.nextSibling):null;return!0}function cC(){for(var t=Vn;t;)t=zi(t.nextSibling)}function ll(){Vn=Un=null,ct=!1}function R_(t){cr===null?cr=[t]:cr.push(t)}var a2=fi.ReactCurrentBatchConfig;function sa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Y(309));var r=n.stateNode}if(!r)throw Error(Y(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Y(284));if(!n._owner)throw Error(Y(290,t))}return t}function Mc(t,e){throw t=Object.prototype.toString.call(e),Error(Y(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function E1(t){var e=t._init;return e(t._payload)}function dC(t){function e(_,E){if(t){var v=_.deletions;v===null?(_.deletions=[E],_.flags|=16):v.push(E)}}function n(_,E){if(!t)return null;for(;E!==null;)e(_,E),E=E.sibling;return null}function r(_,E){for(_=new Map;E!==null;)E.key!==null?_.set(E.key,E):_.set(E.index,E),E=E.sibling;return _}function i(_,E){return _=qi(_,E),_.index=0,_.sibling=null,_}function s(_,E,v){return _.index=v,t?(v=_.alternate,v!==null?(v=v.index,v<E?(_.flags|=2,E):v):(_.flags|=2,E)):(_.flags|=1048576,E)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function l(_,E,v,N){return E===null||E.tag!==6?(E=vp(v,_.mode,N),E.return=_,E):(E=i(E,v),E.return=_,E)}function a(_,E,v,N){var L=v.type;return L===ko?d(_,E,v.props.children,N,v.key):E!==null&&(E.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Ti&&E1(L)===E.type)?(N=i(E,v.props),N.ref=sa(_,E,v),N.return=_,N):(N=fd(v.type,v.key,v.props,null,_.mode,N),N.ref=sa(_,E,v),N.return=_,N)}function u(_,E,v,N){return E===null||E.tag!==4||E.stateNode.containerInfo!==v.containerInfo||E.stateNode.implementation!==v.implementation?(E=Ep(v,_.mode,N),E.return=_,E):(E=i(E,v.children||[]),E.return=_,E)}function d(_,E,v,N,L){return E===null||E.tag!==7?(E=Ls(v,_.mode,N,L),E.return=_,E):(E=i(E,v),E.return=_,E)}function h(_,E,v){if(typeof E=="string"&&E!==""||typeof E=="number")return E=vp(""+E,_.mode,v),E.return=_,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Sc:return v=fd(E.type,E.key,E.props,null,_.mode,v),v.ref=sa(_,null,E),v.return=_,v;case Io:return E=Ep(E,_.mode,v),E.return=_,E;case Ti:var N=E._init;return h(_,N(E._payload),v)}if(fa(E)||ea(E))return E=Ls(E,_.mode,v,null),E.return=_,E;Mc(_,E)}return null}function f(_,E,v,N){var L=E!==null?E.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return L!==null?null:l(_,E,""+v,N);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Sc:return v.key===L?a(_,E,v,N):null;case Io:return v.key===L?u(_,E,v,N):null;case Ti:return L=v._init,f(_,E,L(v._payload),N)}if(fa(v)||ea(v))return L!==null?null:d(_,E,v,N,null);Mc(_,v)}return null}function p(_,E,v,N,L){if(typeof N=="string"&&N!==""||typeof N=="number")return _=_.get(v)||null,l(E,_,""+N,L);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Sc:return _=_.get(N.key===null?v:N.key)||null,a(E,_,N,L);case Io:return _=_.get(N.key===null?v:N.key)||null,u(E,_,N,L);case Ti:var k=N._init;return p(_,E,v,k(N._payload),L)}if(fa(N)||ea(N))return _=_.get(v)||null,d(E,_,N,L,null);Mc(E,N)}return null}function y(_,E,v,N){for(var L=null,k=null,T=E,x=E=0,I=null;T!==null&&x<v.length;x++){T.index>x?(I=T,T=null):I=T.sibling;var P=f(_,T,v[x],N);if(P===null){T===null&&(T=I);break}t&&T&&P.alternate===null&&e(_,T),E=s(P,E,x),k===null?L=P:k.sibling=P,k=P,T=I}if(x===v.length)return n(_,T),ct&&Rs(_,x),L;if(T===null){for(;x<v.length;x++)T=h(_,v[x],N),T!==null&&(E=s(T,E,x),k===null?L=T:k.sibling=T,k=T);return ct&&Rs(_,x),L}for(T=r(_,T);x<v.length;x++)I=p(T,_,x,v[x],N),I!==null&&(t&&I.alternate!==null&&T.delete(I.key===null?x:I.key),E=s(I,E,x),k===null?L=I:k.sibling=I,k=I);return t&&T.forEach(function(R){return e(_,R)}),ct&&Rs(_,x),L}function w(_,E,v,N){var L=ea(v);if(typeof L!="function")throw Error(Y(150));if(v=L.call(v),v==null)throw Error(Y(151));for(var k=L=null,T=E,x=E=0,I=null,P=v.next();T!==null&&!P.done;x++,P=v.next()){T.index>x?(I=T,T=null):I=T.sibling;var R=f(_,T,P.value,N);if(R===null){T===null&&(T=I);break}t&&T&&R.alternate===null&&e(_,T),E=s(R,E,x),k===null?L=R:k.sibling=R,k=R,T=I}if(P.done)return n(_,T),ct&&Rs(_,x),L;if(T===null){for(;!P.done;x++,P=v.next())P=h(_,P.value,N),P!==null&&(E=s(P,E,x),k===null?L=P:k.sibling=P,k=P);return ct&&Rs(_,x),L}for(T=r(_,T);!P.done;x++,P=v.next())P=p(T,_,x,P.value,N),P!==null&&(t&&P.alternate!==null&&T.delete(P.key===null?x:P.key),E=s(P,E,x),k===null?L=P:k.sibling=P,k=P);return t&&T.forEach(function(D){return e(_,D)}),ct&&Rs(_,x),L}function C(_,E,v,N){if(typeof v=="object"&&v!==null&&v.type===ko&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Sc:e:{for(var L=v.key,k=E;k!==null;){if(k.key===L){if(L=v.type,L===ko){if(k.tag===7){n(_,k.sibling),E=i(k,v.props.children),E.return=_,_=E;break e}}else if(k.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Ti&&E1(L)===k.type){n(_,k.sibling),E=i(k,v.props),E.ref=sa(_,k,v),E.return=_,_=E;break e}n(_,k);break}else e(_,k);k=k.sibling}v.type===ko?(E=Ls(v.props.children,_.mode,N,v.key),E.return=_,_=E):(N=fd(v.type,v.key,v.props,null,_.mode,N),N.ref=sa(_,E,v),N.return=_,_=N)}return o(_);case Io:e:{for(k=v.key;E!==null;){if(E.key===k)if(E.tag===4&&E.stateNode.containerInfo===v.containerInfo&&E.stateNode.implementation===v.implementation){n(_,E.sibling),E=i(E,v.children||[]),E.return=_,_=E;break e}else{n(_,E);break}else e(_,E);E=E.sibling}E=Ep(v,_.mode,N),E.return=_,_=E}return o(_);case Ti:return k=v._init,C(_,E,k(v._payload),N)}if(fa(v))return y(_,E,v,N);if(ea(v))return w(_,E,v,N);Mc(_,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,E!==null&&E.tag===6?(n(_,E.sibling),E=i(E,v),E.return=_,_=E):(n(_,E),E=vp(v,_.mode,N),E.return=_,_=E),o(_)):n(_,E)}return C}var al=dC(!0),hC=dC(!1),Kd=fs(null),qd=null,Mo=null,N_=null;function P_(){N_=Mo=qd=null}function D_(t){var e=Kd.current;at(Kd),t._currentValue=e}function bm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Go(t,e){qd=t,N_=Mo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pn=!0),t.firstContext=null)}function nr(t){var e=t._currentValue;if(N_!==t)if(t={context:t,memoizedValue:e,next:null},Mo===null){if(qd===null)throw Error(Y(308));Mo=t,qd.dependencies={lanes:0,firstContext:t}}else Mo=Mo.next=t;return e}var bs=null;function b_(t){bs===null?bs=[t]:bs.push(t)}function fC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,b_(e)):(n.next=i.next,i.next=n),e.interleaved=n,oi(t,r)}function oi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ci=!1;function O_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ni(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Wi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ue&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,oi(t,n)}return i=r.interleaved,i===null?(e.next=e,b_(r)):(e.next=i.next,i.next=e),r.interleaved=e,oi(t,n)}function ld(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,v_(t,n)}}function x1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Gd(t,e,n,r){var i=t.updateQueue;Ci=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=a))}if(s!==null){var h=i.baseState;o=0,d=u=a=null,l=s;do{var f=l.lane,p=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,w=l;switch(f=e,p=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){h=y.call(p,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,f=typeof y=="function"?y.call(p,h,f):y,f==null)break e;h=mt({},h,f);break e;case 2:Ci=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,a=h):d=d.next=p,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(a=h),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Hs|=o,t.lanes=o,t.memoizedState=h}}function w1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Y(191,i));i.call(r)}}}var $u={},Ar=fs($u),au=fs($u),uu=fs($u);function Os(t){if(t===$u)throw Error(Y(174));return t}function F_(t,e){switch(rt(uu,e),rt(au,t),rt(Ar,$u),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:fm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=fm(e,t)}at(Ar),rt(Ar,e)}function ul(){at(Ar),at(au),at(uu)}function mC(t){Os(uu.current);var e=Os(Ar.current),n=fm(e,t.type);e!==n&&(rt(au,t),rt(Ar,n))}function M_(t){au.current===t&&(at(Ar),at(au))}var ht=fs(0);function Jd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var fp=[];function L_(){for(var t=0;t<fp.length;t++)fp[t]._workInProgressVersionPrimary=null;fp.length=0}var ad=fi.ReactCurrentDispatcher,pp=fi.ReactCurrentBatchConfig,Ws=0,ft=null,Mt=null,Ut=null,Qd=!1,Na=!1,cu=0,u2=0;function ln(){throw Error(Y(321))}function $_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!mr(t[n],e[n]))return!1;return!0}function V_(t,e,n,r,i,s){if(Ws=s,ft=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ad.current=t===null||t.memoizedState===null?f2:p2,t=n(r,i),Na){s=0;do{if(Na=!1,cu=0,25<=s)throw Error(Y(301));s+=1,Ut=Mt=null,e.updateQueue=null,ad.current=m2,t=n(r,i)}while(Na)}if(ad.current=Yd,e=Mt!==null&&Mt.next!==null,Ws=0,Ut=Mt=ft=null,Qd=!1,e)throw Error(Y(300));return t}function B_(){var t=cu!==0;return cu=0,t}function Er(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?ft.memoizedState=Ut=t:Ut=Ut.next=t,Ut}function rr(){if(Mt===null){var t=ft.alternate;t=t!==null?t.memoizedState:null}else t=Mt.next;var e=Ut===null?ft.memoizedState:Ut.next;if(e!==null)Ut=e,Mt=t;else{if(t===null)throw Error(Y(310));Mt=t,t={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},Ut===null?ft.memoizedState=Ut=t:Ut=Ut.next=t}return Ut}function du(t,e){return typeof e=="function"?e(t):e}function mp(t){var e=rr(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=Mt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var d=u.lane;if((Ws&d)===d)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=h,o=r):a=a.next=h,ft.lanes|=d,Hs|=d}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,mr(r,e.memoizedState)||(Pn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ft.lanes|=s,Hs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function gp(t){var e=rr(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);mr(s,e.memoizedState)||(Pn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function gC(){}function _C(t,e){var n=ft,r=rr(),i=e(),s=!mr(r.memoizedState,i);if(s&&(r.memoizedState=i,Pn=!0),r=r.queue,U_(EC.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ut!==null&&Ut.memoizedState.tag&1){if(n.flags|=2048,hu(9,vC.bind(null,n,r,i,e),void 0,null),Wt===null)throw Error(Y(349));Ws&30||yC(n,e,i)}return i}function yC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function vC(t,e,n,r){e.value=n,e.getSnapshot=r,xC(e)&&wC(t)}function EC(t,e,n){return n(function(){xC(e)&&wC(t)})}function xC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!mr(t,n)}catch{return!0}}function wC(t){var e=oi(t,1);e!==null&&fr(e,t,1,-1)}function T1(t){var e=Er();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:du,lastRenderedState:t},e.queue=t,t=t.dispatch=h2.bind(null,ft,t),[e.memoizedState,t]}function hu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function TC(){return rr().memoizedState}function ud(t,e,n,r){var i=Er();ft.flags|=t,i.memoizedState=hu(1|e,n,void 0,r===void 0?null:r)}function zh(t,e,n,r){var i=rr();r=r===void 0?null:r;var s=void 0;if(Mt!==null){var o=Mt.memoizedState;if(s=o.destroy,r!==null&&$_(r,o.deps)){i.memoizedState=hu(e,n,s,r);return}}ft.flags|=t,i.memoizedState=hu(1|e,n,s,r)}function C1(t,e){return ud(8390656,8,t,e)}function U_(t,e){return zh(2048,8,t,e)}function CC(t,e){return zh(4,2,t,e)}function SC(t,e){return zh(4,4,t,e)}function AC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function IC(t,e,n){return n=n!=null?n.concat([t]):null,zh(4,4,AC.bind(null,e,t),n)}function j_(){}function kC(t,e){var n=rr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function RC(t,e){var n=rr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function NC(t,e,n){return Ws&21?(mr(n,e)||(n=FT(),ft.lanes|=n,Hs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pn=!0),t.memoizedState=n)}function c2(t,e){var n=Je;Je=n!==0&&4>n?n:4,t(!0);var r=pp.transition;pp.transition={};try{t(!1),e()}finally{Je=n,pp.transition=r}}function PC(){return rr().memoizedState}function d2(t,e,n){var r=Ki(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},DC(t))bC(e,n);else if(n=fC(t,e,n,r),n!==null){var i=Sn();fr(n,t,r,i),OC(n,e,r)}}function h2(t,e,n){var r=Ki(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(DC(t))bC(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,mr(l,o)){var a=e.interleaved;a===null?(i.next=i,b_(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=fC(t,e,i,r),n!==null&&(i=Sn(),fr(n,t,r,i),OC(n,e,r))}}function DC(t){var e=t.alternate;return t===ft||e!==null&&e===ft}function bC(t,e){Na=Qd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function OC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,v_(t,n)}}var Yd={readContext:nr,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useInsertionEffect:ln,useLayoutEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useMutableSource:ln,useSyncExternalStore:ln,useId:ln,unstable_isNewReconciler:!1},f2={readContext:nr,useCallback:function(t,e){return Er().memoizedState=[t,e===void 0?null:e],t},useContext:nr,useEffect:C1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ud(4194308,4,AC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ud(4194308,4,t,e)},useInsertionEffect:function(t,e){return ud(4,2,t,e)},useMemo:function(t,e){var n=Er();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Er();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=d2.bind(null,ft,t),[r.memoizedState,t]},useRef:function(t){var e=Er();return t={current:t},e.memoizedState=t},useState:T1,useDebugValue:j_,useDeferredValue:function(t){return Er().memoizedState=t},useTransition:function(){var t=T1(!1),e=t[0];return t=c2.bind(null,t[1]),Er().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ft,i=Er();if(ct){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=e(),Wt===null)throw Error(Y(349));Ws&30||yC(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,C1(EC.bind(null,r,s,t),[t]),r.flags|=2048,hu(9,vC.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Er(),e=Wt.identifierPrefix;if(ct){var n=Qr,r=Jr;n=(r&~(1<<32-hr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=cu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=u2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},p2={readContext:nr,useCallback:kC,useContext:nr,useEffect:U_,useImperativeHandle:IC,useInsertionEffect:CC,useLayoutEffect:SC,useMemo:RC,useReducer:mp,useRef:TC,useState:function(){return mp(du)},useDebugValue:j_,useDeferredValue:function(t){var e=rr();return NC(e,Mt.memoizedState,t)},useTransition:function(){var t=mp(du)[0],e=rr().memoizedState;return[t,e]},useMutableSource:gC,useSyncExternalStore:_C,useId:PC,unstable_isNewReconciler:!1},m2={readContext:nr,useCallback:kC,useContext:nr,useEffect:U_,useImperativeHandle:IC,useInsertionEffect:CC,useLayoutEffect:SC,useMemo:RC,useReducer:gp,useRef:TC,useState:function(){return gp(du)},useDebugValue:j_,useDeferredValue:function(t){var e=rr();return Mt===null?e.memoizedState=t:NC(e,Mt.memoizedState,t)},useTransition:function(){var t=gp(du)[0],e=rr().memoizedState;return[t,e]},useMutableSource:gC,useSyncExternalStore:_C,useId:PC,unstable_isNewReconciler:!1};function ar(t,e){if(t&&t.defaultProps){e=mt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Om(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:mt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Wh={isMounted:function(t){return(t=t._reactInternals)?ro(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Sn(),i=Ki(t),s=ni(r,i);s.payload=e,n!=null&&(s.callback=n),e=Wi(t,s,i),e!==null&&(fr(e,t,i,r),ld(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Sn(),i=Ki(t),s=ni(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Wi(t,s,i),e!==null&&(fr(e,t,i,r),ld(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Sn(),r=Ki(t),i=ni(n,r);i.tag=2,e!=null&&(i.callback=e),e=Wi(t,i,r),e!==null&&(fr(e,t,r,n),ld(e,t,r))}};function S1(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!iu(n,r)||!iu(i,s):!0}function FC(t,e,n){var r=!1,i=rs,s=e.contextType;return typeof s=="object"&&s!==null?s=nr(s):(i=bn(e)?js:gn.current,r=e.contextTypes,s=(r=r!=null)?ol(t,i):rs),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Wh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function A1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Wh.enqueueReplaceState(e,e.state,null)}function Fm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},O_(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=nr(s):(s=bn(e)?js:gn.current,i.context=ol(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Om(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Wh.enqueueReplaceState(i,i.state,null),Gd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function cl(t,e){try{var n="",r=e;do n+=zP(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function _p(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Mm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var g2=typeof WeakMap=="function"?WeakMap:Map;function MC(t,e,n){n=ni(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Zd||(Zd=!0,Km=r),Mm(t,e)},n}function LC(t,e,n){n=ni(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Mm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Mm(t,e),typeof r!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function I1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new g2;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=N2.bind(null,t,e,n),e.then(t,t))}function k1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function R1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ni(-1,1),e.tag=2,Wi(n,e,1))),n.lanes|=1),t)}var _2=fi.ReactCurrentOwner,Pn=!1;function En(t,e,n,r){e.child=t===null?hC(e,null,n,r):al(e,t.child,n,r)}function N1(t,e,n,r,i){n=n.render;var s=e.ref;return Go(e,i),r=V_(t,e,n,r,s,i),n=B_(),t!==null&&!Pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,li(t,e,i)):(ct&&n&&I_(e),e.flags|=1,En(t,e,r,i),e.child)}function P1(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Q_(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,$C(t,e,s,r,i)):(t=fd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:iu,n(o,r)&&t.ref===e.ref)return li(t,e,i)}return e.flags|=1,t=qi(s,r),t.ref=e.ref,t.return=e,e.child=t}function $C(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(iu(s,r)&&t.ref===e.ref)if(Pn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Pn=!0);else return e.lanes=t.lanes,li(t,e,i)}return Lm(t,e,n,r,i)}function VC(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt($o,$n),$n|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,rt($o,$n),$n|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,rt($o,$n),$n|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,rt($o,$n),$n|=r;return En(t,e,i,n),e.child}function BC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Lm(t,e,n,r,i){var s=bn(n)?js:gn.current;return s=ol(e,s),Go(e,i),n=V_(t,e,n,r,s,i),r=B_(),t!==null&&!Pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,li(t,e,i)):(ct&&r&&I_(e),e.flags|=1,En(t,e,n,i),e.child)}function D1(t,e,n,r,i){if(bn(n)){var s=!0;zd(e)}else s=!1;if(Go(e,i),e.stateNode===null)cd(t,e),FC(e,n,r),Fm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=nr(u):(u=bn(n)?js:gn.current,u=ol(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&A1(e,o,r,u),Ci=!1;var f=e.memoizedState;o.state=f,Gd(e,r,o,i),a=e.memoizedState,l!==r||f!==a||Dn.current||Ci?(typeof d=="function"&&(Om(e,n,d,r),a=e.memoizedState),(l=Ci||S1(e,n,l,r,f,a,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,pC(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:ar(e.type,l),o.props=u,h=e.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=nr(a):(a=bn(n)?js:gn.current,a=ol(e,a));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==a)&&A1(e,o,r,a),Ci=!1,f=e.memoizedState,o.state=f,Gd(e,r,o,i);var y=e.memoizedState;l!==h||f!==y||Dn.current||Ci?(typeof p=="function"&&(Om(e,n,p,r),y=e.memoizedState),(u=Ci||S1(e,n,u,r,f,y,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return $m(t,e,n,r,s,i)}function $m(t,e,n,r,i,s){BC(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&_1(e,n,!1),li(t,e,s);r=e.stateNode,_2.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=al(e,t.child,null,s),e.child=al(e,null,l,s)):En(t,e,l,s),e.memoizedState=r.state,i&&_1(e,n,!0),e.child}function UC(t){var e=t.stateNode;e.pendingContext?g1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&g1(t,e.context,!1),F_(t,e.containerInfo)}function b1(t,e,n,r,i){return ll(),R_(i),e.flags|=256,En(t,e,n,r),e.child}var Vm={dehydrated:null,treeContext:null,retryLane:0};function Bm(t){return{baseLanes:t,cachePool:null,transitions:null}}function jC(t,e,n){var r=e.pendingProps,i=ht.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),rt(ht,i&1),t===null)return Dm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=qh(o,r,0,null),t=Ls(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Bm(n),e.memoizedState=Vm,t):z_(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return y2(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=qi(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=qi(l,s):(s=Ls(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Bm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Vm,r}return s=t.child,t=s.sibling,r=qi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function z_(t,e){return e=qh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Lc(t,e,n,r){return r!==null&&R_(r),al(e,t.child,null,n),t=z_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function y2(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=_p(Error(Y(422))),Lc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=qh({mode:"visible",children:r.children},i,0,null),s=Ls(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&al(e,t.child,null,o),e.child.memoizedState=Bm(o),e.memoizedState=Vm,s);if(!(e.mode&1))return Lc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(Y(419)),r=_p(s,r,void 0),Lc(t,e,o,r)}if(l=(o&t.childLanes)!==0,Pn||l){if(r=Wt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,oi(t,i),fr(r,t,i,-1))}return J_(),r=_p(Error(Y(421))),Lc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=P2.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Vn=zi(i.nextSibling),Un=e,ct=!0,cr=null,t!==null&&(Qn[Yn++]=Jr,Qn[Yn++]=Qr,Qn[Yn++]=zs,Jr=t.id,Qr=t.overflow,zs=e),e=z_(e,r.children),e.flags|=4096,e)}function O1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),bm(t.return,e,n)}function yp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function zC(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(En(t,e,r.children,n),r=ht.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&O1(t,n,e);else if(t.tag===19)O1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(rt(ht,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Jd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),yp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Jd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}yp(e,!0,n,null,s);break;case"together":yp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function cd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function li(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Hs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,n=qi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=qi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function v2(t,e,n){switch(e.tag){case 3:UC(e),ll();break;case 5:mC(e);break;case 1:bn(e.type)&&zd(e);break;case 4:F_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;rt(Kd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(rt(ht,ht.current&1),e.flags|=128,null):n&e.child.childLanes?jC(t,e,n):(rt(ht,ht.current&1),t=li(t,e,n),t!==null?t.sibling:null);rt(ht,ht.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return zC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),rt(ht,ht.current),r)break;return null;case 22:case 23:return e.lanes=0,VC(t,e,n)}return li(t,e,n)}var WC,Um,HC,KC;WC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Um=function(){};HC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Os(Ar.current);var s=null;switch(n){case"input":i=um(t,i),r=um(t,r),s=[];break;case"select":i=mt({},i,{value:void 0}),r=mt({},r,{value:void 0}),s=[];break;case"textarea":i=hm(t,i),r=hm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ud)}pm(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ya.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ya.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ot("scroll",t),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};KC=function(t,e,n,r){n!==r&&(e.flags|=4)};function oa(t,e){if(!ct)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function an(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function E2(t,e,n){var r=e.pendingProps;switch(k_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(e),null;case 1:return bn(e.type)&&jd(),an(e),null;case 3:return r=e.stateNode,ul(),at(Dn),at(gn),L_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Fc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cr!==null&&(Jm(cr),cr=null))),Um(t,e),an(e),null;case 5:M_(e);var i=Os(uu.current);if(n=e.type,t!==null&&e.stateNode!=null)HC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Y(166));return an(e),null}if(t=Os(Ar.current),Fc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[xr]=e,r[lu]=s,t=(e.mode&1)!==0,n){case"dialog":ot("cancel",r),ot("close",r);break;case"iframe":case"object":case"embed":ot("load",r);break;case"video":case"audio":for(i=0;i<ma.length;i++)ot(ma[i],r);break;case"source":ot("error",r);break;case"img":case"image":case"link":ot("error",r),ot("load",r);break;case"details":ot("toggle",r);break;case"input":zv(r,s),ot("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ot("invalid",r);break;case"textarea":Hv(r,s),ot("invalid",r)}pm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Oc(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Oc(r.textContent,l,t),i=["children",""+l]):Ya.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ot("scroll",r)}switch(n){case"input":Ac(r),Wv(r,s,!0);break;case"textarea":Ac(r),Kv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ud)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ET(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[xr]=e,t[lu]=r,WC(t,e,!1,!1),e.stateNode=t;e:{switch(o=mm(n,r),n){case"dialog":ot("cancel",t),ot("close",t),i=r;break;case"iframe":case"object":case"embed":ot("load",t),i=r;break;case"video":case"audio":for(i=0;i<ma.length;i++)ot(ma[i],t);i=r;break;case"source":ot("error",t),i=r;break;case"img":case"image":case"link":ot("error",t),ot("load",t),i=r;break;case"details":ot("toggle",t),i=r;break;case"input":zv(t,r),i=um(t,r),ot("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=mt({},r,{value:void 0}),ot("invalid",t);break;case"textarea":Hv(t,r),i=hm(t,r),ot("invalid",t);break;default:i=r}pm(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?TT(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&xT(t,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Xa(t,a):typeof a=="number"&&Xa(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ya.hasOwnProperty(s)?a!=null&&s==="onScroll"&&ot("scroll",t):a!=null&&f_(t,s,a,o))}switch(n){case"input":Ac(t),Wv(t,r,!1);break;case"textarea":Ac(t),Kv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ns(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Wo(t,!!r.multiple,s,!1):r.defaultValue!=null&&Wo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ud)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return an(e),null;case 6:if(t&&e.stateNode!=null)KC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Y(166));if(n=Os(uu.current),Os(Ar.current),Fc(e)){if(r=e.stateNode,n=e.memoizedProps,r[xr]=e,(s=r.nodeValue!==n)&&(t=Un,t!==null))switch(t.tag){case 3:Oc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Oc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xr]=e,e.stateNode=r}return an(e),null;case 13:if(at(ht),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ct&&Vn!==null&&e.mode&1&&!(e.flags&128))cC(),ll(),e.flags|=98560,s=!1;else if(s=Fc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Y(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Y(317));s[xr]=e}else ll(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;an(e),s=!1}else cr!==null&&(Jm(cr),cr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ht.current&1?$t===0&&($t=3):J_())),e.updateQueue!==null&&(e.flags|=4),an(e),null);case 4:return ul(),Um(t,e),t===null&&su(e.stateNode.containerInfo),an(e),null;case 10:return D_(e.type._context),an(e),null;case 17:return bn(e.type)&&jd(),an(e),null;case 19:if(at(ht),s=e.memoizedState,s===null)return an(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)oa(s,!1);else{if($t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Jd(t),o!==null){for(e.flags|=128,oa(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return rt(ht,ht.current&1|2),e.child}t=t.sibling}s.tail!==null&&kt()>dl&&(e.flags|=128,r=!0,oa(s,!1),e.lanes=4194304)}else{if(!r)if(t=Jd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),oa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ct)return an(e),null}else 2*kt()-s.renderingStartTime>dl&&n!==1073741824&&(e.flags|=128,r=!0,oa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=kt(),e.sibling=null,n=ht.current,rt(ht,r?n&1|2:n&1),e):(an(e),null);case 22:case 23:return G_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?$n&1073741824&&(an(e),e.subtreeFlags&6&&(e.flags|=8192)):an(e),null;case 24:return null;case 25:return null}throw Error(Y(156,e.tag))}function x2(t,e){switch(k_(e),e.tag){case 1:return bn(e.type)&&jd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ul(),at(Dn),at(gn),L_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return M_(e),null;case 13:if(at(ht),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Y(340));ll()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return at(ht),null;case 4:return ul(),null;case 10:return D_(e.type._context),null;case 22:case 23:return G_(),null;case 24:return null;default:return null}}var $c=!1,hn=!1,w2=typeof WeakSet=="function"?WeakSet:Set,oe=null;function Lo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Et(t,e,r)}else n.current=null}function jm(t,e,n){try{n()}catch(r){Et(t,e,r)}}var F1=!1;function T2(t,e){if(Sm=$d,t=YT(),A_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(l=o+i),h!==s||r!==0&&h.nodeType!==3||(a=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++u===i&&(l=o),f===s&&++d===r&&(a=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Am={focusedElem:t,selectionRange:n},$d=!1,oe=e;oe!==null;)if(e=oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,oe=t;else for(;oe!==null;){e=oe;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,C=y.memoizedState,_=e.stateNode,E=_.getSnapshotBeforeUpdate(e.elementType===e.type?w:ar(e.type,w),C);_.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(N){Et(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,oe=t;break}oe=e.return}return y=F1,F1=!1,y}function Pa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&jm(e,n,s)}i=i.next}while(i!==r)}}function Hh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function zm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function qC(t){var e=t.alternate;e!==null&&(t.alternate=null,qC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[xr],delete e[lu],delete e[Rm],delete e[s2],delete e[o2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function GC(t){return t.tag===5||t.tag===3||t.tag===4}function M1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||GC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ud));else if(r!==4&&(t=t.child,t!==null))for(Wm(t,e,n),t=t.sibling;t!==null;)Wm(t,e,n),t=t.sibling}function Hm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Hm(t,e,n),t=t.sibling;t!==null;)Hm(t,e,n),t=t.sibling}var Jt=null,ur=!1;function vi(t,e,n){for(n=n.child;n!==null;)JC(t,e,n),n=n.sibling}function JC(t,e,n){if(Sr&&typeof Sr.onCommitFiberUnmount=="function")try{Sr.onCommitFiberUnmount(Lh,n)}catch{}switch(n.tag){case 5:hn||Lo(n,e);case 6:var r=Jt,i=ur;Jt=null,vi(t,e,n),Jt=r,ur=i,Jt!==null&&(ur?(t=Jt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Jt.removeChild(n.stateNode));break;case 18:Jt!==null&&(ur?(t=Jt,n=n.stateNode,t.nodeType===8?dp(t.parentNode,n):t.nodeType===1&&dp(t,n),nu(t)):dp(Jt,n.stateNode));break;case 4:r=Jt,i=ur,Jt=n.stateNode.containerInfo,ur=!0,vi(t,e,n),Jt=r,ur=i;break;case 0:case 11:case 14:case 15:if(!hn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&jm(n,e,o),i=i.next}while(i!==r)}vi(t,e,n);break;case 1:if(!hn&&(Lo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Et(n,e,l)}vi(t,e,n);break;case 21:vi(t,e,n);break;case 22:n.mode&1?(hn=(r=hn)||n.memoizedState!==null,vi(t,e,n),hn=r):vi(t,e,n);break;default:vi(t,e,n)}}function L1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new w2),e.forEach(function(r){var i=D2.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function or(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Jt=l.stateNode,ur=!1;break e;case 3:Jt=l.stateNode.containerInfo,ur=!0;break e;case 4:Jt=l.stateNode.containerInfo,ur=!0;break e}l=l.return}if(Jt===null)throw Error(Y(160));JC(s,o,i),Jt=null,ur=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){Et(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)QC(e,t),e=e.sibling}function QC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(or(e,t),vr(t),r&4){try{Pa(3,t,t.return),Hh(3,t)}catch(w){Et(t,t.return,w)}try{Pa(5,t,t.return)}catch(w){Et(t,t.return,w)}}break;case 1:or(e,t),vr(t),r&512&&n!==null&&Lo(n,n.return);break;case 5:if(or(e,t),vr(t),r&512&&n!==null&&Lo(n,n.return),t.flags&32){var i=t.stateNode;try{Xa(i,"")}catch(w){Et(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&yT(i,s),mm(l,o);var u=mm(l,s);for(o=0;o<a.length;o+=2){var d=a[o],h=a[o+1];d==="style"?TT(i,h):d==="dangerouslySetInnerHTML"?xT(i,h):d==="children"?Xa(i,h):f_(i,d,h,u)}switch(l){case"input":cm(i,s);break;case"textarea":vT(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Wo(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?Wo(i,!!s.multiple,s.defaultValue,!0):Wo(i,!!s.multiple,s.multiple?[]:"",!1))}i[lu]=s}catch(w){Et(t,t.return,w)}}break;case 6:if(or(e,t),vr(t),r&4){if(t.stateNode===null)throw Error(Y(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){Et(t,t.return,w)}}break;case 3:if(or(e,t),vr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{nu(e.containerInfo)}catch(w){Et(t,t.return,w)}break;case 4:or(e,t),vr(t);break;case 13:or(e,t),vr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(K_=kt())),r&4&&L1(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(hn=(u=hn)||d,or(e,t),hn=u):or(e,t),vr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(oe=t,d=t.child;d!==null;){for(h=oe=d;oe!==null;){switch(f=oe,p=f.child,f.tag){case 0:case 11:case 14:case 15:Pa(4,f,f.return);break;case 1:Lo(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){Et(r,n,w)}}break;case 5:Lo(f,f.return);break;case 22:if(f.memoizedState!==null){V1(h);continue}}p!==null?(p.return=f,oe=p):V1(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=wT("display",o))}catch(w){Et(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){Et(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:or(e,t),vr(t),r&4&&L1(t);break;case 21:break;default:or(e,t),vr(t)}}function vr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(GC(n)){var r=n;break e}n=n.return}throw Error(Y(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Xa(i,""),r.flags&=-33);var s=M1(t);Hm(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=M1(t);Wm(t,l,o);break;default:throw Error(Y(161))}}catch(a){Et(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function C2(t,e,n){oe=t,YC(t)}function YC(t,e,n){for(var r=(t.mode&1)!==0;oe!==null;){var i=oe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||$c;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||hn;l=$c;var u=hn;if($c=o,(hn=a)&&!u)for(oe=i;oe!==null;)o=oe,a=o.child,o.tag===22&&o.memoizedState!==null?B1(i):a!==null?(a.return=o,oe=a):B1(i);for(;s!==null;)oe=s,YC(s),s=s.sibling;oe=i,$c=l,hn=u}$1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,oe=s):$1(t)}}function $1(t){for(;oe!==null;){var e=oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:hn||Hh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!hn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ar(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&w1(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}w1(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&nu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}hn||e.flags&512&&zm(e)}catch(f){Et(e,e.return,f)}}if(e===t){oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,oe=n;break}oe=e.return}}function V1(t){for(;oe!==null;){var e=oe;if(e===t){oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,oe=n;break}oe=e.return}}function B1(t){for(;oe!==null;){var e=oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Hh(4,e)}catch(a){Et(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){Et(e,i,a)}}var s=e.return;try{zm(e)}catch(a){Et(e,s,a)}break;case 5:var o=e.return;try{zm(e)}catch(a){Et(e,o,a)}}}catch(a){Et(e,e.return,a)}if(e===t){oe=null;break}var l=e.sibling;if(l!==null){l.return=e.return,oe=l;break}oe=e.return}}var S2=Math.ceil,Xd=fi.ReactCurrentDispatcher,W_=fi.ReactCurrentOwner,tr=fi.ReactCurrentBatchConfig,Ue=0,Wt=null,bt=null,en=0,$n=0,$o=fs(0),$t=0,fu=null,Hs=0,Kh=0,H_=0,Da=null,Rn=null,K_=0,dl=1/0,Kr=null,Zd=!1,Km=null,Hi=null,Vc=!1,Oi=null,eh=0,ba=0,qm=null,dd=-1,hd=0;function Sn(){return Ue&6?kt():dd!==-1?dd:dd=kt()}function Ki(t){return t.mode&1?Ue&2&&en!==0?en&-en:a2.transition!==null?(hd===0&&(hd=FT()),hd):(t=Je,t!==0||(t=window.event,t=t===void 0?16:jT(t.type)),t):1}function fr(t,e,n,r){if(50<ba)throw ba=0,qm=null,Error(Y(185));Fu(t,n,r),(!(Ue&2)||t!==Wt)&&(t===Wt&&(!(Ue&2)&&(Kh|=n),$t===4&&Ii(t,en)),On(t,r),n===1&&Ue===0&&!(e.mode&1)&&(dl=kt()+500,jh&&ps()))}function On(t,e){var n=t.callbackNode;aD(t,e);var r=Ld(t,t===Wt?en:0);if(r===0)n!==null&&Jv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Jv(n),e===1)t.tag===0?l2(U1.bind(null,t)):lC(U1.bind(null,t)),r2(function(){!(Ue&6)&&ps()}),n=null;else{switch(MT(r)){case 1:n=y_;break;case 4:n=bT;break;case 16:n=Md;break;case 536870912:n=OT;break;default:n=Md}n=sS(n,XC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function XC(t,e){if(dd=-1,hd=0,Ue&6)throw Error(Y(327));var n=t.callbackNode;if(Jo()&&t.callbackNode!==n)return null;var r=Ld(t,t===Wt?en:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=th(t,r);else{e=r;var i=Ue;Ue|=2;var s=eS();(Wt!==t||en!==e)&&(Kr=null,dl=kt()+500,Ms(t,e));do try{k2();break}catch(l){ZC(t,l)}while(!0);P_(),Xd.current=s,Ue=i,bt!==null?e=0:(Wt=null,en=0,e=$t)}if(e!==0){if(e===2&&(i=Em(t),i!==0&&(r=i,e=Gm(t,i))),e===1)throw n=fu,Ms(t,0),Ii(t,r),On(t,kt()),n;if(e===6)Ii(t,r);else{if(i=t.current.alternate,!(r&30)&&!A2(i)&&(e=th(t,r),e===2&&(s=Em(t),s!==0&&(r=s,e=Gm(t,s))),e===1))throw n=fu,Ms(t,0),Ii(t,r),On(t,kt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Y(345));case 2:Ns(t,Rn,Kr);break;case 3:if(Ii(t,r),(r&130023424)===r&&(e=K_+500-kt(),10<e)){if(Ld(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Sn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=km(Ns.bind(null,t,Rn,Kr),e);break}Ns(t,Rn,Kr);break;case 4:if(Ii(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-hr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=kt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*S2(r/1960))-r,10<r){t.timeoutHandle=km(Ns.bind(null,t,Rn,Kr),r);break}Ns(t,Rn,Kr);break;case 5:Ns(t,Rn,Kr);break;default:throw Error(Y(329))}}}return On(t,kt()),t.callbackNode===n?XC.bind(null,t):null}function Gm(t,e){var n=Da;return t.current.memoizedState.isDehydrated&&(Ms(t,e).flags|=256),t=th(t,e),t!==2&&(e=Rn,Rn=n,e!==null&&Jm(e)),t}function Jm(t){Rn===null?Rn=t:Rn.push.apply(Rn,t)}function A2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!mr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ii(t,e){for(e&=~H_,e&=~Kh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-hr(e),r=1<<n;t[n]=-1,e&=~r}}function U1(t){if(Ue&6)throw Error(Y(327));Jo();var e=Ld(t,0);if(!(e&1))return On(t,kt()),null;var n=th(t,e);if(t.tag!==0&&n===2){var r=Em(t);r!==0&&(e=r,n=Gm(t,r))}if(n===1)throw n=fu,Ms(t,0),Ii(t,e),On(t,kt()),n;if(n===6)throw Error(Y(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ns(t,Rn,Kr),On(t,kt()),null}function q_(t,e){var n=Ue;Ue|=1;try{return t(e)}finally{Ue=n,Ue===0&&(dl=kt()+500,jh&&ps())}}function Ks(t){Oi!==null&&Oi.tag===0&&!(Ue&6)&&Jo();var e=Ue;Ue|=1;var n=tr.transition,r=Je;try{if(tr.transition=null,Je=1,t)return t()}finally{Je=r,tr.transition=n,Ue=e,!(Ue&6)&&ps()}}function G_(){$n=$o.current,at($o)}function Ms(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,n2(n)),bt!==null)for(n=bt.return;n!==null;){var r=n;switch(k_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jd();break;case 3:ul(),at(Dn),at(gn),L_();break;case 5:M_(r);break;case 4:ul();break;case 13:at(ht);break;case 19:at(ht);break;case 10:D_(r.type._context);break;case 22:case 23:G_()}n=n.return}if(Wt=t,bt=t=qi(t.current,null),en=$n=e,$t=0,fu=null,H_=Kh=Hs=0,Rn=Da=null,bs!==null){for(e=0;e<bs.length;e++)if(n=bs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}bs=null}return t}function ZC(t,e){do{var n=bt;try{if(P_(),ad.current=Yd,Qd){for(var r=ft.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Qd=!1}if(Ws=0,Ut=Mt=ft=null,Na=!1,cu=0,W_.current=null,n===null||n.return===null){$t=1,fu=e,bt=null;break}e:{var s=t,o=n.return,l=n,a=e;if(e=en,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=k1(o);if(p!==null){p.flags&=-257,R1(p,o,l,s,e),p.mode&1&&I1(s,u,e),e=p,a=u;var y=e.updateQueue;if(y===null){var w=new Set;w.add(a),e.updateQueue=w}else y.add(a);break e}else{if(!(e&1)){I1(s,u,e),J_();break e}a=Error(Y(426))}}else if(ct&&l.mode&1){var C=k1(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),R1(C,o,l,s,e),R_(cl(a,l));break e}}s=a=cl(a,l),$t!==4&&($t=2),Da===null?Da=[s]:Da.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=MC(s,a,e);x1(s,_);break e;case 1:l=a;var E=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Hi===null||!Hi.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var N=LC(s,l,e);x1(s,N);break e}}s=s.return}while(s!==null)}nS(n)}catch(L){e=L,bt===n&&n!==null&&(bt=n=n.return);continue}break}while(!0)}function eS(){var t=Xd.current;return Xd.current=Yd,t===null?Yd:t}function J_(){($t===0||$t===3||$t===2)&&($t=4),Wt===null||!(Hs&268435455)&&!(Kh&268435455)||Ii(Wt,en)}function th(t,e){var n=Ue;Ue|=2;var r=eS();(Wt!==t||en!==e)&&(Kr=null,Ms(t,e));do try{I2();break}catch(i){ZC(t,i)}while(!0);if(P_(),Ue=n,Xd.current=r,bt!==null)throw Error(Y(261));return Wt=null,en=0,$t}function I2(){for(;bt!==null;)tS(bt)}function k2(){for(;bt!==null&&!ZP();)tS(bt)}function tS(t){var e=iS(t.alternate,t,$n);t.memoizedProps=t.pendingProps,e===null?nS(t):bt=e,W_.current=null}function nS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=x2(n,e),n!==null){n.flags&=32767,bt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$t=6,bt=null;return}}else if(n=E2(n,e,$n),n!==null){bt=n;return}if(e=e.sibling,e!==null){bt=e;return}bt=e=t}while(e!==null);$t===0&&($t=5)}function Ns(t,e,n){var r=Je,i=tr.transition;try{tr.transition=null,Je=1,R2(t,e,n,r)}finally{tr.transition=i,Je=r}return null}function R2(t,e,n,r){do Jo();while(Oi!==null);if(Ue&6)throw Error(Y(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Y(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(uD(t,s),t===Wt&&(bt=Wt=null,en=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Vc||(Vc=!0,sS(Md,function(){return Jo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=tr.transition,tr.transition=null;var o=Je;Je=1;var l=Ue;Ue|=4,W_.current=null,T2(t,n),QC(n,t),JD(Am),$d=!!Sm,Am=Sm=null,t.current=n,C2(n),eD(),Ue=l,Je=o,tr.transition=s}else t.current=n;if(Vc&&(Vc=!1,Oi=t,eh=i),s=t.pendingLanes,s===0&&(Hi=null),rD(n.stateNode),On(t,kt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Zd)throw Zd=!1,t=Km,Km=null,t;return eh&1&&t.tag!==0&&Jo(),s=t.pendingLanes,s&1?t===qm?ba++:(ba=0,qm=t):ba=0,ps(),null}function Jo(){if(Oi!==null){var t=MT(eh),e=tr.transition,n=Je;try{if(tr.transition=null,Je=16>t?16:t,Oi===null)var r=!1;else{if(t=Oi,Oi=null,eh=0,Ue&6)throw Error(Y(331));var i=Ue;for(Ue|=4,oe=t.current;oe!==null;){var s=oe,o=s.child;if(oe.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(oe=u;oe!==null;){var d=oe;switch(d.tag){case 0:case 11:case 15:Pa(8,d,s)}var h=d.child;if(h!==null)h.return=d,oe=h;else for(;oe!==null;){d=oe;var f=d.sibling,p=d.return;if(qC(d),d===u){oe=null;break}if(f!==null){f.return=p,oe=f;break}oe=p}}}var y=s.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var C=w.sibling;w.sibling=null,w=C}while(w!==null)}}oe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,oe=o;else e:for(;oe!==null;){if(s=oe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Pa(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,oe=_;break e}oe=s.return}}var E=t.current;for(oe=E;oe!==null;){o=oe;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,oe=v;else e:for(o=E;oe!==null;){if(l=oe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Hh(9,l)}}catch(L){Et(l,l.return,L)}if(l===o){oe=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,oe=N;break e}oe=l.return}}if(Ue=i,ps(),Sr&&typeof Sr.onPostCommitFiberRoot=="function")try{Sr.onPostCommitFiberRoot(Lh,t)}catch{}r=!0}return r}finally{Je=n,tr.transition=e}}return!1}function j1(t,e,n){e=cl(n,e),e=MC(t,e,1),t=Wi(t,e,1),e=Sn(),t!==null&&(Fu(t,1,e),On(t,e))}function Et(t,e,n){if(t.tag===3)j1(t,t,n);else for(;e!==null;){if(e.tag===3){j1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hi===null||!Hi.has(r))){t=cl(n,t),t=LC(e,t,1),e=Wi(e,t,1),t=Sn(),e!==null&&(Fu(e,1,t),On(e,t));break}}e=e.return}}function N2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Sn(),t.pingedLanes|=t.suspendedLanes&n,Wt===t&&(en&n)===n&&($t===4||$t===3&&(en&130023424)===en&&500>kt()-K_?Ms(t,0):H_|=n),On(t,e)}function rS(t,e){e===0&&(t.mode&1?(e=Rc,Rc<<=1,!(Rc&130023424)&&(Rc=4194304)):e=1);var n=Sn();t=oi(t,e),t!==null&&(Fu(t,e,n),On(t,n))}function P2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),rS(t,n)}function D2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Y(314))}r!==null&&r.delete(e),rS(t,n)}var iS;iS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Dn.current)Pn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Pn=!1,v2(t,e,n);Pn=!!(t.flags&131072)}else Pn=!1,ct&&e.flags&1048576&&aC(e,Hd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;cd(t,e),t=e.pendingProps;var i=ol(e,gn.current);Go(e,n),i=V_(null,e,r,t,i,n);var s=B_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,bn(r)?(s=!0,zd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,O_(e),i.updater=Wh,e.stateNode=i,i._reactInternals=e,Fm(e,r,t,n),e=$m(null,e,r,!0,s,n)):(e.tag=0,ct&&s&&I_(e),En(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(cd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=O2(r),t=ar(r,t),i){case 0:e=Lm(null,e,r,t,n);break e;case 1:e=D1(null,e,r,t,n);break e;case 11:e=N1(null,e,r,t,n);break e;case 14:e=P1(null,e,r,ar(r.type,t),n);break e}throw Error(Y(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ar(r,i),Lm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ar(r,i),D1(t,e,r,i,n);case 3:e:{if(UC(e),t===null)throw Error(Y(387));r=e.pendingProps,s=e.memoizedState,i=s.element,pC(t,e),Gd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=cl(Error(Y(423)),e),e=b1(t,e,r,n,i);break e}else if(r!==i){i=cl(Error(Y(424)),e),e=b1(t,e,r,n,i);break e}else for(Vn=zi(e.stateNode.containerInfo.firstChild),Un=e,ct=!0,cr=null,n=hC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ll(),r===i){e=li(t,e,n);break e}En(t,e,r,n)}e=e.child}return e;case 5:return mC(e),t===null&&Dm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Im(r,i)?o=null:s!==null&&Im(r,s)&&(e.flags|=32),BC(t,e),En(t,e,o,n),e.child;case 6:return t===null&&Dm(e),null;case 13:return jC(t,e,n);case 4:return F_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=al(e,null,r,n):En(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ar(r,i),N1(t,e,r,i,n);case 7:return En(t,e,e.pendingProps,n),e.child;case 8:return En(t,e,e.pendingProps.children,n),e.child;case 12:return En(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,rt(Kd,r._currentValue),r._currentValue=o,s!==null)if(mr(s.value,o)){if(s.children===i.children&&!Dn.current){e=li(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=ni(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),bm(s.return,n,e),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Y(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),bm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}En(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Go(e,n),i=nr(i),r=r(i),e.flags|=1,En(t,e,r,n),e.child;case 14:return r=e.type,i=ar(r,e.pendingProps),i=ar(r.type,i),P1(t,e,r,i,n);case 15:return $C(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ar(r,i),cd(t,e),e.tag=1,bn(r)?(t=!0,zd(e)):t=!1,Go(e,n),FC(e,r,i),Fm(e,r,i,n),$m(null,e,r,!0,t,n);case 19:return zC(t,e,n);case 22:return VC(t,e,n)}throw Error(Y(156,e.tag))};function sS(t,e){return DT(t,e)}function b2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function er(t,e,n,r){return new b2(t,e,n,r)}function Q_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function O2(t){if(typeof t=="function")return Q_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===m_)return 11;if(t===g_)return 14}return 2}function qi(t,e){var n=t.alternate;return n===null?(n=er(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function fd(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Q_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ko:return Ls(n.children,i,s,e);case p_:o=8,i|=8;break;case sm:return t=er(12,n,e,i|2),t.elementType=sm,t.lanes=s,t;case om:return t=er(13,n,e,i),t.elementType=om,t.lanes=s,t;case lm:return t=er(19,n,e,i),t.elementType=lm,t.lanes=s,t;case mT:return qh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fT:o=10;break e;case pT:o=9;break e;case m_:o=11;break e;case g_:o=14;break e;case Ti:o=16,r=null;break e}throw Error(Y(130,t==null?t:typeof t,""))}return e=er(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ls(t,e,n,r){return t=er(7,t,r,e),t.lanes=n,t}function qh(t,e,n,r){return t=er(22,t,r,e),t.elementType=mT,t.lanes=n,t.stateNode={isHidden:!1},t}function vp(t,e,n){return t=er(6,t,null,e),t.lanes=n,t}function Ep(t,e,n){return e=er(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function F2(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ep(0),this.expirationTimes=ep(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ep(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Y_(t,e,n,r,i,s,o,l,a){return t=new F2(t,e,n,l,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=er(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},O_(s),t}function M2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Io,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function oS(t){if(!t)return rs;t=t._reactInternals;e:{if(ro(t)!==t||t.tag!==1)throw Error(Y(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(bn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Y(171))}if(t.tag===1){var n=t.type;if(bn(n))return oC(t,n,e)}return e}function lS(t,e,n,r,i,s,o,l,a){return t=Y_(n,r,!0,t,i,s,o,l,a),t.context=oS(null),n=t.current,r=Sn(),i=Ki(n),s=ni(r,i),s.callback=e??null,Wi(n,s,i),t.current.lanes=i,Fu(t,i,r),On(t,r),t}function Gh(t,e,n,r){var i=e.current,s=Sn(),o=Ki(i);return n=oS(n),e.context===null?e.context=n:e.pendingContext=n,e=ni(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Wi(i,e,o),t!==null&&(fr(t,i,o,s),ld(t,i,o)),o}function nh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function z1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function X_(t,e){z1(t,e),(t=t.alternate)&&z1(t,e)}function L2(){return null}var aS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Z_(t){this._internalRoot=t}Jh.prototype.render=Z_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Y(409));Gh(t,e,null,null)};Jh.prototype.unmount=Z_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ks(function(){Gh(null,t,null,null)}),e[si]=null}};function Jh(t){this._internalRoot=t}Jh.prototype.unstable_scheduleHydration=function(t){if(t){var e=VT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ai.length&&e!==0&&e<Ai[n].priority;n++);Ai.splice(n,0,t),n===0&&UT(t)}};function ey(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function W1(){}function $2(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=nh(o);s.call(u)}}var o=lS(e,r,t,0,null,!1,!1,"",W1);return t._reactRootContainer=o,t[si]=o.current,su(t.nodeType===8?t.parentNode:t),Ks(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=nh(a);l.call(u)}}var a=Y_(t,0,!1,null,null,!1,!1,"",W1);return t._reactRootContainer=a,t[si]=a.current,su(t.nodeType===8?t.parentNode:t),Ks(function(){Gh(e,a,n,r)}),a}function Yh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=nh(o);l.call(a)}}Gh(e,o,t,i)}else o=$2(n,e,t,i,r);return nh(o)}LT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=pa(e.pendingLanes);n!==0&&(v_(e,n|1),On(e,kt()),!(Ue&6)&&(dl=kt()+500,ps()))}break;case 13:Ks(function(){var r=oi(t,1);if(r!==null){var i=Sn();fr(r,t,1,i)}}),X_(t,1)}};E_=function(t){if(t.tag===13){var e=oi(t,134217728);if(e!==null){var n=Sn();fr(e,t,134217728,n)}X_(t,134217728)}};$T=function(t){if(t.tag===13){var e=Ki(t),n=oi(t,e);if(n!==null){var r=Sn();fr(n,t,e,r)}X_(t,e)}};VT=function(){return Je};BT=function(t,e){var n=Je;try{return Je=t,e()}finally{Je=n}};_m=function(t,e,n){switch(e){case"input":if(cm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Uh(r);if(!i)throw Error(Y(90));_T(r),cm(r,i)}}}break;case"textarea":vT(t,n);break;case"select":e=n.value,e!=null&&Wo(t,!!n.multiple,e,!1)}};AT=q_;IT=Ks;var V2={usingClientEntryPoint:!1,Events:[Lu,Do,Uh,CT,ST,q_]},la={findFiberByHostInstance:Ds,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},B2={bundleType:la.bundleType,version:la.version,rendererPackageName:la.rendererPackageName,rendererConfig:la.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=NT(t),t===null?null:t.stateNode},findFiberByHostInstance:la.findFiberByHostInstance||L2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bc.isDisabled&&Bc.supportsFiber)try{Lh=Bc.inject(B2),Sr=Bc}catch{}}Kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V2;Kn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ey(e))throw Error(Y(200));return M2(t,e,null,n)};Kn.createRoot=function(t,e){if(!ey(t))throw Error(Y(299));var n=!1,r="",i=aS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Y_(t,1,!1,null,null,n,!1,r,i),t[si]=e.current,su(t.nodeType===8?t.parentNode:t),new Z_(e)};Kn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):(t=Object.keys(t).join(","),Error(Y(268,t)));return t=NT(e),t=t===null?null:t.stateNode,t};Kn.flushSync=function(t){return Ks(t)};Kn.hydrate=function(t,e,n){if(!Qh(e))throw Error(Y(200));return Yh(null,t,e,!0,n)};Kn.hydrateRoot=function(t,e,n){if(!ey(t))throw Error(Y(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=aS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=lS(e,null,t,1,n??null,i,!1,s,o),t[si]=e.current,su(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Jh(e)};Kn.render=function(t,e,n){if(!Qh(e))throw Error(Y(200));return Yh(null,t,e,!1,n)};Kn.unmountComponentAtNode=function(t){if(!Qh(t))throw Error(Y(40));return t._reactRootContainer?(Ks(function(){Yh(null,null,t,!1,function(){t._reactRootContainer=null,t[si]=null})}),!0):!1};Kn.unstable_batchedUpdates=q_;Kn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Qh(n))throw Error(Y(200));if(t==null||t._reactInternals===void 0)throw Error(Y(38));return Yh(t,e,n,!1,r)};Kn.version="18.3.1-next-f1338f8080-20240426";function uS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uS)}catch(t){console.error(t)}}uS(),uT.exports=Kn;var cS=uT.exports,dS,H1=cS;dS=H1.createRoot,H1.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pu(){return pu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pu.apply(this,arguments)}var Fi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Fi||(Fi={}));const K1="popstate";function U2(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return Qm("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:rh(i)}return z2(e,n,null,t)}function Rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function hS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function j2(){return Math.random().toString(36).substr(2,8)}function q1(t,e){return{usr:t.state,key:t.key,idx:e}}function Qm(t,e,n,r){return n===void 0&&(n=null),pu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Sl(e):e,{state:n,key:e&&e.key||r||j2()})}function rh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Sl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function z2(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=Fi.Pop,a=null,u=d();u==null&&(u=0,o.replaceState(pu({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Fi.Pop;let C=d(),_=C==null?null:C-u;u=C,a&&a({action:l,location:w.location,delta:_})}function f(C,_){l=Fi.Push;let E=Qm(w.location,C,_);u=d()+1;let v=q1(E,u),N=w.createHref(E);try{o.pushState(v,"",N)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(N)}s&&a&&a({action:l,location:w.location,delta:1})}function p(C,_){l=Fi.Replace;let E=Qm(w.location,C,_);u=d();let v=q1(E,u),N=w.createHref(E);o.replaceState(v,"",N),s&&a&&a({action:l,location:w.location,delta:0})}function y(C){let _=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof C=="string"?C:rh(C);return E=E.replace(/ $/,"%20"),Rt(_,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,_)}let w={get action(){return l},get location(){return t(i,o)},listen(C){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(K1,h),a=C,()=>{i.removeEventListener(K1,h),a=null}},createHref(C){return e(i,C)},createURL:y,encodeLocation(C){let _=y(C);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:f,replace:p,go(C){return o.go(C)}};return w}var G1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(G1||(G1={}));function W2(t,e,n){return n===void 0&&(n="/"),H2(t,e,n,!1)}function H2(t,e,n,r){let i=typeof e=="string"?Sl(e):e,s=ty(i.pathname||"/",n);if(s==null)return null;let o=fS(t);K2(o);let l=null;for(let a=0;l==null&&a<o.length;++a){let u=rb(s);l=tb(o[a],u,r)}return l}function fS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let a={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};a.relativePath.startsWith("/")&&(Rt(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=Gi([r,a.relativePath]),d=n.concat(a);s.children&&s.children.length>0&&(Rt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),fS(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:Z2(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let a of pS(s.path))i(s,o,a)}),e}function pS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=pS(r.join("/")),l=[];return l.push(...o.map(a=>a===""?s:[s,a].join("/"))),i&&l.push(...o),l.map(a=>t.startsWith("/")&&a===""?"/":a)}function K2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:eb(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const q2=/^:[\w-]+$/,G2=3,J2=2,Q2=1,Y2=10,X2=-2,J1=t=>t==="*";function Z2(t,e){let n=t.split("/"),r=n.length;return n.some(J1)&&(r+=X2),e&&(r+=J2),n.filter(i=>!J1(i)).reduce((i,s)=>i+(q2.test(s)?G2:s===""?Q2:Y2),r)}function eb(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function tb(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let a=r[l],u=l===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=Q1({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},d),f=a.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Q1({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Gi([s,h.pathname]),pathnameBase:lb(Gi([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Gi([s,h.pathnameBase]))}return o}function Q1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=nb(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let w=l[h]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const y=l[h];return p&&!y?u[f]=void 0:u[f]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function nb(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),hS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function rb(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ty(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function ib(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Sl(t):t;return{pathname:n?n.startsWith("/")?n:sb(n,e):e,search:ab(r),hash:ub(i)}}function sb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function xp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ob(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ny(t,e){let n=ob(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ry(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Sl(t):(i=pu({},t),Rt(!i.pathname||!i.pathname.includes("?"),xp("?","pathname","search",i)),Rt(!i.pathname||!i.pathname.includes("#"),xp("#","pathname","hash",i)),Rt(!i.search||!i.search.includes("#"),xp("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}l=h>=0?e[h]:"/"}let a=ib(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||d)&&(a.pathname+="/"),a}const Gi=t=>t.join("/").replace(/\/\/+/g,"/"),lb=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ab=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ub=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function cb(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const mS=["post","put","patch","delete"];new Set(mS);const db=["get",...mS];new Set(db);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mu(){return mu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mu.apply(this,arguments)}const iy=H.createContext(null),hb=H.createContext(null),ms=H.createContext(null),Xh=H.createContext(null),pi=H.createContext({outlet:null,matches:[],isDataRoute:!1}),gS=H.createContext(null);function fb(t,e){let{relative:n}=e===void 0?{}:e;Al()||Rt(!1);let{basename:r,navigator:i}=H.useContext(ms),{hash:s,pathname:o,search:l}=vS(t,{relative:n}),a=o;return r!=="/"&&(a=o==="/"?r:Gi([r,o])),i.createHref({pathname:a,search:l,hash:s})}function Al(){return H.useContext(Xh)!=null}function Il(){return Al()||Rt(!1),H.useContext(Xh).location}function _S(t){H.useContext(ms).static||H.useLayoutEffect(t)}function kl(){let{isDataRoute:t}=H.useContext(pi);return t?Ab():pb()}function pb(){Al()||Rt(!1);let t=H.useContext(iy),{basename:e,future:n,navigator:r}=H.useContext(ms),{matches:i}=H.useContext(pi),{pathname:s}=Il(),o=JSON.stringify(ny(i,n.v7_relativeSplatPath)),l=H.useRef(!1);return _S(()=>{l.current=!0}),H.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=ry(u,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Gi([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,t])}function yS(){let{matches:t}=H.useContext(pi),e=t[t.length-1];return e?e.params:{}}function vS(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=H.useContext(ms),{matches:i}=H.useContext(pi),{pathname:s}=Il(),o=JSON.stringify(ny(i,r.v7_relativeSplatPath));return H.useMemo(()=>ry(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function mb(t,e){return gb(t,e)}function gb(t,e,n,r){Al()||Rt(!1);let{navigator:i}=H.useContext(ms),{matches:s}=H.useContext(pi),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let u=Il(),d;if(e){var h;let C=typeof e=="string"?Sl(e):e;a==="/"||(h=C.pathname)!=null&&h.startsWith(a)||Rt(!1),d=C}else d=u;let f=d.pathname||"/",p=f;if(a!=="/"){let C=a.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(C.length).join("/")}let y=W2(t,{pathname:p}),w=xb(y&&y.map(C=>Object.assign({},C,{params:Object.assign({},l,C.params),pathname:Gi([a,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?a:Gi([a,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),s,n,r);return e&&w?H.createElement(Xh.Provider,{value:{location:mu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Fi.Pop}},w):w}function _b(){let t=Sb(),e=cb(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),n?H.createElement("pre",{style:i},n):null,null)}const yb=H.createElement(_b,null);class vb extends H.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?H.createElement(pi.Provider,{value:this.props.routeContext},H.createElement(gS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Eb(t){let{routeContext:e,match:n,children:r}=t,i=H.useContext(iy);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),H.createElement(pi.Provider,{value:e},r)}function xb(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Rt(!1),o=o.slice(0,Math.min(o.length,d+1))}let a=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=n,y=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||y){a=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,y=!1,w=null,C=null;n&&(p=l&&h.route.id?l[h.route.id]:void 0,w=h.route.errorElement||yb,a&&(u<0&&f===0?(y=!0,C=null):u===f&&(y=!0,C=h.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,f+1)),E=()=>{let v;return p?v=w:y?v=C:h.route.Component?v=H.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=d,H.createElement(Eb,{match:h,routeContext:{outlet:d,matches:_,isDataRoute:n!=null},children:v})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?H.createElement(vb,{location:n.location,revalidation:n.revalidation,component:w,error:p,children:E(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):E()},null)}var ES=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ES||{}),ih=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ih||{});function wb(t){let e=H.useContext(iy);return e||Rt(!1),e}function Tb(t){let e=H.useContext(hb);return e||Rt(!1),e}function Cb(t){let e=H.useContext(pi);return e||Rt(!1),e}function xS(t){let e=Cb(),n=e.matches[e.matches.length-1];return n.route.id||Rt(!1),n.route.id}function Sb(){var t;let e=H.useContext(gS),n=Tb(ih.UseRouteError),r=xS(ih.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Ab(){let{router:t}=wb(ES.UseNavigateStable),e=xS(ih.UseNavigateStable),n=H.useRef(!1);return _S(()=>{n.current=!0}),H.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,mu({fromRouteId:e},s)))},[t,e])}const Y1={};function Ib(t,e){Y1[e]||(Y1[e]=!0,console.warn(e))}const X1=(t,e,n)=>Ib(t,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function kb(t,e){t!=null&&t.v7_startTransition||X1("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&X1("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Rb(t){let{to:e,replace:n,state:r,relative:i}=t;Al()||Rt(!1);let{future:s,static:o}=H.useContext(ms),{matches:l}=H.useContext(pi),{pathname:a}=Il(),u=kl(),d=ry(e,ny(l,s.v7_relativeSplatPath),a,i==="path"),h=JSON.stringify(d);return H.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:i}),[u,h,i,n,r]),null}function Wr(t){Rt(!1)}function Nb(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Fi.Pop,navigator:s,static:o=!1,future:l}=t;Al()&&Rt(!1);let a=e.replace(/^\/*/,"/"),u=H.useMemo(()=>({basename:a,navigator:s,static:o,future:mu({v7_relativeSplatPath:!1},l)}),[a,l,s,o]);typeof r=="string"&&(r=Sl(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:y="default"}=r,w=H.useMemo(()=>{let C=ty(d,a);return C==null?null:{location:{pathname:C,search:h,hash:f,state:p,key:y},navigationType:i}},[a,d,h,f,p,y,i]);return w==null?null:H.createElement(ms.Provider,{value:u},H.createElement(Xh.Provider,{children:n,value:w}))}function Pb(t){let{children:e,location:n}=t;return mb(Ym(e),n)}new Promise(()=>{});function Ym(t,e){e===void 0&&(e=[]);let n=[];return H.Children.forEach(t,(r,i)=>{if(!H.isValidElement(r))return;let s=[...e,i];if(r.type===H.Fragment){n.push.apply(n,Ym(r.props.children,s));return}r.type!==Wr&&Rt(!1),!r.props.index||!r.props.children||Rt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Ym(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xm(){return Xm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xm.apply(this,arguments)}function Db(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function bb(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ob(t,e){return t.button===0&&(!e||e==="_self")&&!bb(t)}const Fb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Mb="6";try{window.__reactRouterVersion=Mb}catch{}const Lb="startTransition",Z1=NP[Lb];function $b(t){let{basename:e,children:n,future:r,window:i}=t,s=H.useRef();s.current==null&&(s.current=U2({window:i,v5Compat:!0}));let o=s.current,[l,a]=H.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=H.useCallback(h=>{u&&Z1?Z1(()=>a(h)):a(h)},[a,u]);return H.useLayoutEffect(()=>o.listen(d),[o,d]),H.useEffect(()=>kb(r),[r]),H.createElement(Nb,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const Vb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Bb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ri=H.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:a,to:u,preventScrollReset:d,viewTransition:h}=e,f=Db(e,Fb),{basename:p}=H.useContext(ms),y,w=!1;if(typeof u=="string"&&Bb.test(u)&&(y=u,Vb))try{let v=new URL(window.location.href),N=u.startsWith("//")?new URL(v.protocol+u):new URL(u),L=ty(N.pathname,p);N.origin===v.origin&&L!=null?u=L+N.search+N.hash:w=!0}catch{}let C=fb(u,{relative:i}),_=Ub(u,{replace:o,state:l,target:a,preventScrollReset:d,relative:i,viewTransition:h});function E(v){r&&r(v),v.defaultPrevented||_(v)}return H.createElement("a",Xm({},f,{href:y||C,onClick:w||s?r:E,ref:n,target:a}))});var eE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(eE||(eE={}));var tE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(tE||(tE={}));function Ub(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:l}=e===void 0?{}:e,a=kl(),u=Il(),d=vS(t,{relative:o});return H.useCallback(h=>{if(Ob(h,n)){h.preventDefault();let f=r!==void 0?r:rh(u)===rh(d);a(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[u,a,d,r,i,n,t,s,o,l])}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),yt=(t,e)=>{const n=H.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:a,...u},d)=>H.createElement("svg",{ref:d,...jb,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${zb(t)}`,l].join(" "),...u},[...e.map(([h,f])=>H.createElement(h,f)),...Array.isArray(a)?a:[a]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=yt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=yt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=yt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=yt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=yt("Code2",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=yt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=yt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=yt("Figma",[["path",{d:"M5 5.5A3.5 3.5 0 0 1 8.5 2H12v7H8.5A3.5 3.5 0 0 1 5 5.5z",key:"1340ok"}],["path",{d:"M12 2h3.5a3.5 3.5 0 1 1 0 7H12V2z",key:"1hz3m3"}],["path",{d:"M12 12.5a3.5 3.5 0 1 1 7 0 3.5 3.5 0 1 1-7 0z",key:"1oz8n2"}],["path",{d:"M5 19.5A3.5 3.5 0 0 1 8.5 16H12v3.5a3.5 3.5 0 1 1-7 0z",key:"1ff65i"}],["path",{d:"M5 12.5A3.5 3.5 0 0 1 8.5 9H12v7H8.5A3.5 3.5 0 0 1 5 12.5z",key:"pdip6e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=yt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=yt("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=yt("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=yt("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=yt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=yt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=yt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=yt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=yt("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=yt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=yt("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=yt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=yt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=yt("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=yt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),aO=()=>b.jsx("section",{className:"min-h-[90vh] flex items-center justify-center py-20",children:b.jsxs("div",{className:"text-center space-y-8 max-w-4xl mx-auto fade-in",children:[b.jsx("div",{className:"inline-block p-2 px-4 rounded-full bg-blue-500/10 backdrop-blur-sm border border-blue-500/20 mb-4",children:b.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-400",children:"Computer Engineer & Creative Designer"})}),b.jsxs("h1",{className:"text-5xl md:text-7xl font-bold",children:["Transforming Ideas into",b.jsx("span",{className:"block mt-2 text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-400 leading-tight",children:"Digital Experiences"})]}),b.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto",children:"Specializing in crafting innovative web solutions and stunning designs that combine technical excellence with creative brilliance."}),b.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[b.jsxs("a",{href:"#projects",className:"px-8 py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-full flex items-center gap-2 hover:opacity-90 transition-opacity",children:["View My Work",b.jsx(wS,{className:"w-5 h-5"})]}),b.jsx("a",{href:"#contact",className:"px-8 py-3 border border-gray-700 text-white rounded-full hover:bg-white/5 backdrop-blur-sm transition-all",children:"Get in Touch"})]})]})}),uO=()=>{const t=[{category:"Frontend Development",icon:b.jsx(tO,{className:"w-8 h-8 text-blue-500"}),technologies:["HTML5","CSS3","JavaScript","React","Tailwind CSS"]},{category:"Backend Development",icon:b.jsx(rO,{className:"w-8 h-8 text-green-500"}),technologies:["Node.js","Express","RESTful APIs","Database Design"]},{category:"UI/UX Design",icon:b.jsx(qb,{className:"w-8 h-8 text-purple-500"}),technologies:["Figma","Adobe XD","Adobe Photoshop","Adobe Illustrator"]},{category:"Programming",icon:b.jsx(Wb,{className:"w-8 h-8 text-yellow-500"}),technologies:["TypeScript","Python","C++","Git"]}];return b.jsx("section",{id:"skills",className:"py-20",children:b.jsxs("div",{className:"max-w-6xl mx-auto",children:[b.jsx("h2",{className:"section-title",children:"Skills & Expertise"}),b.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((e,n)=>b.jsxs("div",{className:"skill-card",children:[b.jsx("div",{className:"mb-4",children:e.icon}),b.jsx("h3",{className:"text-xl font-semibold mb-4",children:e.category}),b.jsx("ul",{className:"space-y-2",children:e.technologies.map((r,i)=>b.jsx("li",{className:"text-gray-400",children:r},i))})]},n))})]})})},cO=()=>{const t=[{title:"Pet Adoption App",description:"A full-stack application connecting pets with loving homes. Features include real-time updates, filtering, and user authentication.",image:"https://images.unsplash.com/photo-1415369629372-26f2fe60c467?auto=format&fit=crop&q=80",technologies:["React","Node.js","MongoDB","Express"],liveLink:"#",githubLink:"#"},{title:"E-Commerce Dashboard",description:"Modern admin dashboard with dark theme, analytics, and inventory management system.",image:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?auto=format&fit=crop&q=80",technologies:["React","TypeScript","Tailwind CSS","Chart.js"],liveLink:"#",githubLink:"#"},{title:"Portfolio Website",description:"A responsive portfolio website showcasing creative work and professional experience.",image:"https://images.unsplash.com/photo-1467232004584-a241de8bcf5d?auto=format&fit=crop&q=80",technologies:["React","Tailwind CSS","Framer Motion"],liveLink:"#",githubLink:"#"}];return b.jsx("section",{id:"projects",className:"py-20",children:b.jsxs("div",{className:"max-w-6xl mx-auto",children:[b.jsx("h2",{className:"section-title",children:"Featured Projects"}),b.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((e,n)=>b.jsxs("div",{className:"project-card group",children:[b.jsxs("div",{className:"relative overflow-hidden",children:[b.jsx("img",{src:e.image,alt:e.title,className:"w-full h-48 object-cover transform group-hover:scale-105 transition-transform duration-300"}),b.jsxs("div",{className:"absolute inset-0 bg-gray-900/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center gap-4",children:[b.jsx("a",{href:e.liveLink,className:"p-2 bg-blue-500 rounded-full hover:bg-blue-600 transition-colors",children:b.jsx(Kb,{className:"w-5 h-5"})}),b.jsx("a",{href:e.githubLink,className:"p-2 bg-gray-700 rounded-full hover:bg-gray-600 transition-colors",children:b.jsx(Jb,{className:"w-5 h-5"})})]})]}),b.jsxs("div",{className:"p-6",children:[b.jsx("h3",{className:"text-xl font-semibold mb-2",children:e.title}),b.jsx("p",{className:"text-gray-400 mb-4",children:e.description}),b.jsx("div",{className:"flex flex-wrap gap-2",children:e.technologies.map((r,i)=>b.jsx("span",{className:"px-3 py-1 bg-gray-700 rounded-full text-sm",children:r},i))})]})]},n))})]})})};class Vu{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const dO=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},Xt={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:dO()},sy=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},hO=(t,e="https://api.emailjs.com")=>{if(!t)return;const n=sy(t);Xt.publicKey=n.publicKey,Xt.blockHeadless=n.blockHeadless,Xt.storageProvider=n.storageProvider,Xt.blockList=n.blockList,Xt.limitRate=n.limitRate,Xt.origin=n.origin||e},AS=async(t,e,n={})=>{const r=await fetch(Xt.origin+t,{method:"POST",headers:n,body:e}),i=await r.text(),s=new Vu(r.status,i);if(r.ok)return s;throw s},IS=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},fO=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},kS=t=>t.webdriver||!t.languages||t.languages.length===0,RS=()=>new Vu(451,"Unavailable For Headless Browser"),pO=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},mO=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},gO=(t,e)=>t instanceof FormData?t.get(e):t[e],NS=(t,e)=>{if(mO(t))return!1;pO(t.list,t.watchVariable);const n=gO(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},PS=()=>new Vu(403,"Forbidden"),_O=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},yO=async(t,e,n)=>{const r=Number(await n.get(t)||0);return e-Date.now()+r},DS=async(t,e,n)=>{if(!e.throttle||!n)return!1;_O(e.throttle,e.id);const r=e.id||t;return await yO(r,e.throttle,n)>0?!0:(await n.set(r,Date.now().toString()),!1)},bS=()=>new Vu(429,"Too Many Requests"),vO=async(t,e,n,r)=>{const i=sy(r),s=i.publicKey||Xt.publicKey,o=i.blockHeadless||Xt.blockHeadless,l=i.storageProvider||Xt.storageProvider,a={...Xt.blockList,...i.blockList},u={...Xt.limitRate,...i.limitRate};return o&&kS(navigator)?Promise.reject(RS()):(IS(s,t,e),fO(n),n&&NS(a,n)?Promise.reject(PS()):await DS(location.pathname,u,l)?Promise.reject(bS()):AS("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:s,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},EO=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},xO=t=>typeof t=="string"?document.querySelector(t):t,wO=async(t,e,n,r)=>{const i=sy(r),s=i.publicKey||Xt.publicKey,o=i.blockHeadless||Xt.blockHeadless,l=Xt.storageProvider||i.storageProvider,a={...Xt.blockList,...i.blockList},u={...Xt.limitRate,...i.limitRate};if(o&&kS(navigator))return Promise.reject(RS());const d=xO(n);IS(s,t,e),EO(d);const h=new FormData(d);return NS(a,h)?Promise.reject(PS()):await DS(location.pathname,u,l)?Promise.reject(bS()):(h.append("lib_version","4.4.1"),h.append("service_id",t),h.append("template_id",e),h.append("user_id",s),AS("/api/v1.0/email/send-form",h))},TO={init:hO,send:vO,sendForm:wO,EmailJSResponseStatus:Vu},CO=()=>{const t=H.useRef(null),[e,n]=H.useState(!1),[r,i]=H.useState({type:null,message:""}),s=async o=>{if(o.preventDefault(),!!t.current){n(!0),i({type:null,message:""});try{await TO.sendForm("service_xxxxxxx","template_xxxxxxx",t.current,"public_key_xxxxxxx"),i({type:"success",message:"Message sent successfully! I'll get back to you soon."}),t.current.reset()}catch{i({type:"error",message:"Failed to send message. Please try again."})}finally{n(!1)}}};return b.jsx("section",{id:"contact",className:"py-20 px-4 sm:px-6 lg:px-8",children:b.jsxs("div",{className:"max-w-4xl mx-auto",children:[b.jsx("h2",{className:"section-title",children:"Get in Touch"}),b.jsxs("div",{className:"grid md:grid-cols-2 gap-12",children:[b.jsxs("div",{className:"space-y-8",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Let's Connect"}),b.jsx("p",{className:"text-gray-300",children:"I'm always open to discussing new projects, creative ideas, or opportunities to be part of your vision."})]}),b.jsx("div",{className:"space-y-4",children:b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx(eO,{className:"w-5 h-5 text-blue-400 flex-shrink-0"}),b.jsx("span",{className:"text-gray-300 break-all",children:"hala@odayy.com"})]})})]}),b.jsxs("form",{ref:t,onSubmit:s,className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"user_name",className:"block text-sm font-medium text-gray-300 mb-2",children:"Name"}),b.jsx("input",{type:"text",name:"user_name",id:"user_name",required:!0,className:"w-full px-4 py-2 bg-white/5 backdrop-blur-sm border border-white/10 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"user_email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),b.jsx("input",{type:"email",name:"user_email",id:"user_email",required:!0,className:"w-full px-4 py-2 bg-white/5 backdrop-blur-sm border border-white/10 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-300 mb-2",children:"Message"}),b.jsx("textarea",{name:"message",id:"message",rows:4,required:!0,className:"w-full px-4 py-2 bg-white/5 backdrop-blur-sm border border-white/10 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors resize-none"})]}),r.message&&b.jsx("div",{className:`p-4 rounded-lg ${r.type==="success"?"bg-emerald-900/50 text-emerald-300":"bg-red-900/50 text-red-300"}`,children:r.message}),b.jsx("button",{type:"submit",disabled:e,className:"w-full px-8 py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:opacity-90 transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:e?b.jsxs(b.Fragment,{children:[b.jsx(SS,{className:"w-5 h-5 animate-spin"}),"Sending..."]}):"Send Message"})]})]})]})})},SO=()=>b.jsx("footer",{className:"bg-black/50 border-t border-gray-800/50",children:b.jsxs("div",{className:"container mx-auto px-4 py-8",children:[b.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[b.jsxs("div",{className:"text-center md:text-left",children:[b.jsx("h3",{className:"text-xl font-bold",children:"Oday Noman"}),b.jsx("p",{className:"text-gray-400 mt-2",children:"Computer Engineer & Creative Designer"})]}),b.jsxs("div",{className:"flex items-center gap-6",children:[b.jsx("a",{href:"https://instagram.com/oday.noman",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white social-link",children:b.jsx(Qb,{className:"w-6 h-6"})}),b.jsx("a",{href:"https://linkedin.com/in/odaynoman",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white social-link",children:b.jsx(Yb,{className:"w-6 h-6"})}),b.jsx("a",{href:"https://x.com/odaynoman",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white social-link",children:b.jsx(oO,{className:"w-6 h-6"})})]})]}),b.jsx("div",{className:"mt-6 pt-6 border-t border-gray-800 text-center text-gray-400",children:b.jsxs("p",{children:["© ",new Date().getFullYear()," Oday Noman. All rights reserved."]})})]})}),AO=()=>{const t=[{slug:"future-of-web-development",title:"The Future of Web Development: Trends to Watch",excerpt:"Exploring upcoming technologies and methodologies that will shape the future of web development.",date:"2024-03-15",readTime:"5 min read",image:"https://images.unsplash.com/photo-1498050108023-c5249f4df085?auto=format&fit=crop&q=80"},{slug:"mastering-ui-ux",title:"Mastering UI/UX Design Principles",excerpt:"Essential principles and practices for creating user-friendly and visually appealing interfaces.",date:"2024-03-10",readTime:"4 min read",image:"https://images.unsplash.com/photo-1561070791-2526d30994b5?auto=format&fit=crop&q=80"},{slug:"building-scalable-apps",title:"Building Scalable Applications",excerpt:"Best practices and architectural patterns for developing scalable web applications.",date:"2024-03-05",readTime:"6 min read",image:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?auto=format&fit=crop&q=80"}];return b.jsxs("section",{className:"py-32 container mx-auto px-4",children:[b.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-16 text-center",children:b.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-400",children:"Blog & Insights"})}),b.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-7xl mx-auto",children:t.map((e,n)=>b.jsxs(ri,{to:`/blog/${e.slug}`,className:"group glass-effect rounded-xl overflow-hidden hover:-translate-y-1 transition-all duration-300",children:[b.jsxs("div",{className:"relative overflow-hidden",children:[b.jsx("img",{src:e.image,alt:e.title,className:"w-full h-48 object-cover transform group-hover:scale-105 transition-transform duration-300"}),b.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 to-transparent opacity-60"})]}),b.jsxs("div",{className:"p-6",children:[b.jsx("h3",{className:"text-xl font-semibold mb-3 group-hover:text-blue-400 transition-colors",children:e.title}),b.jsx("p",{className:"text-gray-400 mb-4",children:e.excerpt}),b.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx(TS,{className:"w-4 h-4"}),b.jsx("span",{children:e.date})]}),b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx(CS,{className:"w-4 h-4"}),b.jsx("span",{children:e.readTime})]})]})]})]},n))})]})},IO=()=>{const{slug:t}=yS(),e=kl(),n=[{slug:"future-of-web-development",title:"The Future of Web Development: Trends to Watch",date:"2024-03-15",readTime:"5 min read",content:`
        <p>The landscape of web development is constantly evolving, bringing new technologies and methodologies that reshape how we build digital experiences. In this article, we'll explore the most significant trends that are set to define the future of web development.</p>

        <h2>1. Web Assembly and the Future of Performance</h2>
        <p>WebAssembly (Wasm) is revolutionizing web performance by allowing developers to run code written in languages like C++ and Rust directly in the browser at near-native speed.</p>

        <h2>2. The Rise of Edge Computing</h2>
        <p>Edge computing is becoming increasingly important in web development, offering reduced latency and improved performance by processing data closer to where it's needed.</p>

        <h2>3. AI-Driven Development</h2>
        <p>Artificial Intelligence is not just a buzzword anymore. It's actively shaping how we develop websites and applications, from code completion to automated testing and optimization.</p>
      `},{slug:"mastering-ui-ux",title:"Mastering UI/UX Design Principles",date:"2024-03-10",readTime:"4 min read",content:`
        <p>Creating intuitive and engaging user interfaces requires a deep understanding of design principles and user behavior. Let's explore the key aspects of mastering UI/UX design.</p>

        <h2>1. User-Centered Design</h2>
        <p>Understanding your users' needs, behaviors, and preferences is crucial for creating effective interfaces.</p>

        <h2>2. Visual Hierarchy</h2>
        <p>Learn how to guide users' attention through your interface using size, color, contrast, and spacing.</p>

        <h2>3. Consistency in Design</h2>
        <p>Maintaining consistency in design elements helps users navigate and understand your interface more easily.</p>
      `},{slug:"building-scalable-apps",title:"Building Scalable Applications",date:"2024-03-05",readTime:"6 min read",content:`
        <p>Scalability is crucial for modern applications. Here's how to build applications that can grow with your user base.</p>

        <h2>1. Microservices Architecture</h2>
        <p>Breaking down applications into smaller, independent services that can scale independently.</p>

        <h2>2. Database Optimization</h2>
        <p>Strategies for maintaining database performance as your data grows.</p>

        <h2>3. Caching Strategies</h2>
        <p>Implementing effective caching to improve performance and reduce server load.</p>
      `}],r=n.find(l=>l.slug===t),i=n.findIndex(l=>l.slug===t),s=i>0?n[i-1]:null,o=i<n.length-1?n[i+1]:null;return H.useEffect(()=>{r||e("/blog")},[r,e]),r?b.jsx("div",{className:"min-h-screen pt-20",children:b.jsxs("article",{className:"container mx-auto px-4 max-w-4xl py-12",children:[b.jsxs(ri,{to:"/blog",className:"inline-flex items-center gap-2 text-blue-400 hover:text-blue-300 mb-8 nav-button",children:[b.jsx(nE,{className:"w-4 h-4"}),"Back to Blog"]}),b.jsxs("header",{className:"mb-12",children:[b.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:r.title}),b.jsxs("div",{className:"flex items-center gap-6 text-gray-400",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(TS,{className:"w-5 h-5"}),b.jsx("span",{children:r.date})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(CS,{className:"w-5 h-5"}),b.jsx("span",{children:r.readTime})]})]})]}),b.jsx("div",{className:"prose prose-invert prose-blue max-w-none prose-h2:text-2xl prose-h2:font-semibold prose-h2:mt-12 prose-h2:mb-4 prose-p:text-gray-300 prose-p:leading-relaxed",dangerouslySetInnerHTML:{__html:r.content}}),b.jsxs("nav",{className:"mt-16 flex justify-between items-center pt-8 border-t border-white/10",children:[s&&b.jsxs(ri,{to:`/blog/${s.slug}`,className:"flex items-center gap-2 text-gray-400 hover:text-white nav-button",children:[b.jsx(nE,{className:"w-4 h-4"}),b.jsxs("div",{children:[b.jsx("div",{className:"text-sm",children:"Previous"}),b.jsx("div",{className:"font-medium",children:s.title})]})]}),o&&b.jsxs(ri,{to:`/blog/${o.slug}`,className:"flex items-center gap-2 text-gray-400 hover:text-white nav-button ml-auto",children:[b.jsxs("div",{className:"text-right",children:[b.jsx("div",{className:"text-sm",children:"Next"}),b.jsx("div",{className:"font-medium",children:o.title})]}),b.jsx(wS,{className:"w-4 h-4"})]})]})]})}):null},kO={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},rE=t=>{let e;const n=new Set,r=(d,h)=>{const f=typeof d=="function"?d(e):d;if(!Object.is(f,e)){const p=e;e=h??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(y=>y(e,p))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(kO?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=e=t(r,i,a);return a},RO=t=>t?rE(t):rE;var OS={exports:{}},FS={},MS={exports:{}},LS={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hl=H;function NO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var PO=typeof Object.is=="function"?Object.is:NO,DO=hl.useState,bO=hl.useEffect,OO=hl.useLayoutEffect,FO=hl.useDebugValue;function MO(t,e){var n=e(),r=DO({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return OO(function(){i.value=n,i.getSnapshot=e,wp(i)&&s({inst:i})},[t,n,e]),bO(function(){return wp(i)&&s({inst:i}),t(function(){wp(i)&&s({inst:i})})},[t]),FO(n),n}function wp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!PO(t,n)}catch{return!0}}function LO(t,e){return e()}var $O=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?LO:MO;LS.useSyncExternalStore=hl.useSyncExternalStore!==void 0?hl.useSyncExternalStore:$O;MS.exports=LS;var VO=MS.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zh=H,BO=VO;function UO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jO=typeof Object.is=="function"?Object.is:UO,zO=BO.useSyncExternalStore,WO=Zh.useRef,HO=Zh.useEffect,KO=Zh.useMemo,qO=Zh.useDebugValue;FS.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=WO(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=KO(function(){function a(p){if(!u){if(u=!0,d=p,p=r(p),i!==void 0&&o.hasValue){var y=o.value;if(i(y,p))return h=y}return h=p}if(y=h,jO(d,p))return y;var w=r(p);return i!==void 0&&i(y,w)?y:(d=p,h=w)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return a(e())},f===null?void 0:function(){return a(f())}]},[e,n,r,i]);var l=zO(t,s[0],s[1]);return HO(function(){o.hasValue=!0,o.value=l},[l]),qO(l),l};OS.exports=FS;var GO=OS.exports;const JO=Fh(GO),$S={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},{useDebugValue:QO}=ye,{useSyncExternalStoreWithSelector:YO}=JO;let iE=!1;const XO=t=>t;function ZO(t,e=XO,n){($S?"production":void 0)!=="production"&&n&&!iE&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),iE=!0);const r=YO(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return QO(r),r}const eF=t=>{($S?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?RO(t):t,n=(r,i)=>ZO(e,r,i);return Object.assign(n,e),n},VS=t=>eF,tF={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};function nF(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var s;const o=a=>a===null?null:JSON.parse(a,void 0),l=(s=n.getItem(i))!=null?s:null;return l instanceof Promise?l.then(o):o(l)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const gu=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return gu(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return gu(r)(n)}}}},rF=(t,e)=>(n,r,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:C=>C,version:0,merge:(C,_)=>({..._,...C}),...e},o=!1;const l=new Set,a=new Set;let u;try{u=s.getStorage()}catch{}if(!u)return t((...C)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...C)},r,i);const d=gu(s.serialize),h=()=>{const C=s.partialize({...r()});let _;const E=d({state:C,version:s.version}).then(v=>u.setItem(s.name,v)).catch(v=>{_=v});if(_)throw _;return E},f=i.setState;i.setState=(C,_)=>{f(C,_),h()};const p=t((...C)=>{n(...C),h()},r,i);let y;const w=()=>{var C;if(!u)return;o=!1,l.forEach(E=>E(r()));const _=((C=s.onRehydrateStorage)==null?void 0:C.call(s,r()))||void 0;return gu(u.getItem.bind(u))(s.name).then(E=>{if(E)return s.deserialize(E)}).then(E=>{if(E)if(typeof E.version=="number"&&E.version!==s.version){if(s.migrate)return s.migrate(E.state,E.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return E.state}).then(E=>{var v;return y=s.merge(E,(v=r())!=null?v:p),n(y,!0),h()}).then(()=>{_==null||_(y,void 0),o=!0,a.forEach(E=>E(y))}).catch(E=>{_==null||_(void 0,E)})};return i.persist={setOptions:C=>{s={...s,...C},C.getStorage&&(u=C.getStorage())},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>w(),hasHydrated:()=>o,onHydrate:C=>(l.add(C),()=>{l.delete(C)}),onFinishHydration:C=>(a.add(C),()=>{a.delete(C)})},w(),y||p},iF=(t,e)=>(n,r,i)=>{let s={storage:nF(()=>localStorage),partialize:w=>w,version:0,merge:(w,C)=>({...C,...w}),...e},o=!1;const l=new Set,a=new Set;let u=s.storage;if(!u)return t((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...w)},r,i);const d=()=>{const w=s.partialize({...r()});return u.setItem(s.name,{state:w,version:s.version})},h=i.setState;i.setState=(w,C)=>{h(w,C),d()};const f=t((...w)=>{n(...w),d()},r,i);i.getInitialState=()=>f;let p;const y=()=>{var w,C;if(!u)return;o=!1,l.forEach(E=>{var v;return E((v=r())!=null?v:f)});const _=((C=s.onRehydrateStorage)==null?void 0:C.call(s,(w=r())!=null?w:f))||void 0;return gu(u.getItem.bind(u))(s.name).then(E=>{if(E)if(typeof E.version=="number"&&E.version!==s.version){if(s.migrate)return[!0,s.migrate(E.state,E.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,E.state];return[!1,void 0]}).then(E=>{var v;const[N,L]=E;if(p=s.merge(L,(v=r())!=null?v:f),n(p,!0),N)return d()}).then(()=>{_==null||_(p,void 0),p=r(),o=!0,a.forEach(E=>E(p))}).catch(E=>{_==null||_(void 0,E)})};return i.persist={setOptions:w=>{s={...s,...w},w.storage&&(u=w.storage)},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>y(),hasHydrated:()=>o,onHydrate:w=>(l.add(w),()=>{l.delete(w)}),onFinishHydration:w=>(a.add(w),()=>{a.delete(w)})},s.skipHydration||y(),p||f},sF=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((tF?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),rF(t,e)):iF(t,e),oF=sF;var sE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},lF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},US={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,a=i+2<t.length,u=a?t[i+2]:0,d=s>>2,h=(s&3)<<4|l>>4;let f=(l&15)<<2|u>>6,p=u&63;a||(p=64,o||(f=64)),r.push(n[d],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(BS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||u==null||h==null)throw new aF;const f=s<<2|l>>4;if(r.push(f),u!==64){const p=l<<4&240|u>>2;if(r.push(p),h!==64){const y=u<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class aF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uF=function(t){const e=BS(t);return US.encodeByteArray(e,!0)},sh=function(t){return uF(t).replace(/\./g,"")},jS=function(t){try{return US.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF=()=>cF().__FIREBASE_DEFAULTS__,hF=()=>{if(typeof process>"u"||typeof sE>"u")return;const t=sE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},fF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jS(t[1]);return e&&JSON.parse(e)},ef=()=>{try{return dF()||hF()||fF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zS=t=>{var e,n;return(n=(e=ef())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},WS=t=>{const e=zS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},HS=()=>{var t;return(t=ef())===null||t===void 0?void 0:t.config},KS=t=>{var e;return(e=ef())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[sh(JSON.stringify(n)),sh(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}function gF(){var t;const e=(t=ef())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _F(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function EF(){const t=_n();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function xF(){return!gF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wF(){try{return typeof indexedDB=="object"}catch{return!1}}function TF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CF="FirebaseError";class Fr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=CF,Object.setPrototypeOf(this,Fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bu.prototype.create)}}class Bu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?SF(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Fr(i,l,r)}}function SF(t,e){return t.replace(AF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const AF=/\{\$([^}]+)}/g;function IF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function oh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(oE(s)&&oE(o)){if(!oh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function oE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ga(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function _a(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function kF(t,e){const n=new RF(t,e);return n.subscribe.bind(n)}class RF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");NF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Tp),i.error===void 0&&(i.error=Tp),i.complete===void 0&&(i.complete=Tp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Tp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(t){return t&&t._delegate?t._delegate:t}class is{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new pF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bF(e))try{this.getOrInitializeService({instanceIdentifier:Ps})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ps){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ps){return this.instances.has(e)}getOptions(e=Ps){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:DF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ps){return this.component?this.component.multipleInstances?e:Ps:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DF(t){return t===Ps?void 0:t}function bF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new PF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Me||(Me={}));const FF={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},MF=Me.INFO,LF={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},$F=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=LF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class oy{constructor(e){this.name=e,this._logLevel=MF,this._logHandler=$F,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const VF=(t,e)=>e.some(n=>t instanceof n);let lE,aE;function BF(){return lE||(lE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UF(){return aE||(aE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GS=new WeakMap,Zm=new WeakMap,JS=new WeakMap,Cp=new WeakMap,ly=new WeakMap;function jF(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ji(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&GS.set(n,t)}).catch(()=>{}),ly.set(e,t),e}function zF(t){if(Zm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Zm.set(t,e)}let eg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Zm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||JS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ji(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function WF(t){eg=t(eg)}function HF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Sp(this),e,...n);return JS.set(r,e.sort?e.sort():[e]),Ji(r)}:UF().includes(t)?function(...e){return t.apply(Sp(this),e),Ji(GS.get(this))}:function(...e){return Ji(t.apply(Sp(this),e))}}function KF(t){return typeof t=="function"?HF(t):(t instanceof IDBTransaction&&zF(t),VF(t,BF())?new Proxy(t,eg):t)}function Ji(t){if(t instanceof IDBRequest)return jF(t);if(Cp.has(t))return Cp.get(t);const e=KF(t);return e!==t&&(Cp.set(t,e),ly.set(e,t)),e}const Sp=t=>ly.get(t);function qF(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Ji(o);return r&&o.addEventListener("upgradeneeded",a=>{r(Ji(o.result),a.oldVersion,a.newVersion,Ji(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const GF=["get","getKey","getAll","getAllKeys","count"],JF=["put","add","delete","clear"],Ap=new Map;function uE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ap.get(e))return Ap.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=JF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||GF.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return Ap.set(e,s),s}WF(t=>({...t,get:(e,n,r)=>uE(e,n)||t.get(e,n,r),has:(e,n)=>!!uE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function YF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const tg="@firebase/app",cE="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai=new oy("@firebase/app"),XF="@firebase/app-compat",ZF="@firebase/analytics-compat",eM="@firebase/analytics",tM="@firebase/app-check-compat",nM="@firebase/app-check",rM="@firebase/auth",iM="@firebase/auth-compat",sM="@firebase/database",oM="@firebase/data-connect",lM="@firebase/database-compat",aM="@firebase/functions",uM="@firebase/functions-compat",cM="@firebase/installations",dM="@firebase/installations-compat",hM="@firebase/messaging",fM="@firebase/messaging-compat",pM="@firebase/performance",mM="@firebase/performance-compat",gM="@firebase/remote-config",_M="@firebase/remote-config-compat",yM="@firebase/storage",vM="@firebase/storage-compat",EM="@firebase/firestore",xM="@firebase/vertexai-preview",wM="@firebase/firestore-compat",TM="firebase",CM="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="[DEFAULT]",SM={[tg]:"fire-core",[XF]:"fire-core-compat",[eM]:"fire-analytics",[ZF]:"fire-analytics-compat",[nM]:"fire-app-check",[tM]:"fire-app-check-compat",[rM]:"fire-auth",[iM]:"fire-auth-compat",[sM]:"fire-rtdb",[oM]:"fire-data-connect",[lM]:"fire-rtdb-compat",[aM]:"fire-fn",[uM]:"fire-fn-compat",[cM]:"fire-iid",[dM]:"fire-iid-compat",[hM]:"fire-fcm",[fM]:"fire-fcm-compat",[pM]:"fire-perf",[mM]:"fire-perf-compat",[gM]:"fire-rc",[_M]:"fire-rc-compat",[yM]:"fire-gcs",[vM]:"fire-gcs-compat",[EM]:"fire-fst",[wM]:"fire-fst-compat",[xM]:"fire-vertex","fire-js":"fire-js",[TM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=new Map,AM=new Map,rg=new Map;function dE(t,e){try{t.container.addComponent(e)}catch(n){ai.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qs(t){const e=t.name;if(rg.has(e))return ai.debug(`There were multiple attempts to register component ${e}.`),!1;rg.set(e,t);for(const n of lh.values())dE(n,t);for(const n of AM.values())dE(n,t);return!0}function tf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Yr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qi=new Bu("app","Firebase",IM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=CM;function QS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ng,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Qi.create("bad-app-name",{appName:String(i)});if(n||(n=HS()),!n)throw Qi.create("no-options");const s=lh.get(i);if(s){if(oh(n,s.options)&&oh(r,s.config))return s;throw Qi.create("duplicate-app",{appName:i})}const o=new OF(i);for(const a of rg.values())o.addComponent(a);const l=new kM(n,r,o);return lh.set(i,l),l}function ay(t=ng){const e=lh.get(t);if(!e&&t===ng&&HS())return QS();if(!e)throw Qi.create("no-app",{appName:t});return e}function Ir(t,e,n){var r;let i=(r=SM[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ai.warn(l.join(" "));return}qs(new is(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM="firebase-heartbeat-database",NM=1,_u="firebase-heartbeat-store";let Ip=null;function YS(){return Ip||(Ip=qF(RM,NM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(_u)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qi.create("idb-open",{originalErrorMessage:t.message})})),Ip}async function PM(t){try{const n=(await YS()).transaction(_u),r=await n.objectStore(_u).get(XS(t));return await n.done,r}catch(e){if(e instanceof Fr)ai.warn(e.message);else{const n=Qi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ai.warn(n.message)}}}async function hE(t,e){try{const r=(await YS()).transaction(_u,"readwrite");await r.objectStore(_u).put(e,XS(t)),await r.done}catch(n){if(n instanceof Fr)ai.warn(n.message);else{const r=Qi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ai.warn(r.message)}}}function XS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM=1024,bM=30*24*60*60*1e3;class OM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new MM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=fE();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=bM}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ai.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=fE(),{heartbeatsToSend:r,unsentEntries:i}=FM(this._heartbeatsCache.heartbeats),s=sh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ai.warn(n),""}}}function fE(){return new Date().toISOString().substring(0,10)}function FM(t,e=DM){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),pE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),pE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class MM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wF()?TF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await PM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return hE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return hE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function pE(t){return sh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LM(t){qs(new is("platform-logger",e=>new QF(e),"PRIVATE")),qs(new is("heartbeat",e=>new OM(e),"PRIVATE")),Ir(tg,cE,t),Ir(tg,cE,"esm2017"),Ir("fire-js","")}LM("");function uy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ZS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $M=ZS,eA=new Bu("auth","Firebase",ZS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=new oy("@firebase/auth");function VM(t,...e){ah.logLevel<=Me.WARN&&ah.warn(`Auth (${io}): ${t}`,...e)}function pd(t,...e){ah.logLevel<=Me.ERROR&&ah.error(`Auth (${io}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(t,...e){throw cy(t,...e)}function kr(t,...e){return cy(t,...e)}function tA(t,e,n){const r=Object.assign(Object.assign({},$M()),{[e]:n});return new Bu("auth","Firebase",r).create(e,{appName:t.name})}function Yi(t){return tA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return eA.create(t,...e)}function Ee(t,e,...n){if(!t)throw cy(e,...n)}function Xr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw pd(e),new Error(e)}function ui(t,e){t||Xr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function BM(){return mE()==="http:"||mE()==="https:"}function mE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BM()||yF()||"connection"in navigator)?navigator.onLine:!0}function jM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n){this.shortDelay=e,this.longDelay=n,ui(n>e,"Short delay should be less than long delay!"),this.isMobile=mF()||vF()}get(){return UM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(t,e){ui(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM=new ju(3e4,6e4);function so(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function gs(t,e,n,r,i={}){return rA(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=Uu(Object.assign({key:t.config.apiKey},o)).slice(1),a=await t._getAdditionalHeaders();a["Content-Type"]="application/json",t.languageCode&&(a["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:a},s);return _F()||(u.referrerPolicy="no-referrer"),nA.fetch()(iA(t,t.config.apiHost,n,l),u)})}async function rA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},zM),e);try{const i=new KM(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Uc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[a,u]=l.split(" : ");if(a==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uc(t,"credential-already-in-use",o);if(a==="EMAIL_EXISTS")throw Uc(t,"email-already-in-use",o);if(a==="USER_DISABLED")throw Uc(t,"user-disabled",o);const d=r[a]||a.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw tA(t,d,u);gr(t,d)}}catch(i){if(i instanceof Fr)throw i;gr(t,"network-request-failed",{message:String(i)})}}async function nf(t,e,n,r,i={}){const s=await gs(t,e,n,r,i);return"mfaPendingCredential"in s&&gr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function iA(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?dy(t.config,i):`${t.config.apiScheme}://${i}`}function HM(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class KM{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(kr(this.auth,"network-request-failed")),WM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Uc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=kr(t,e,r);return i.customData._tokenResponse=n,i}function gE(t){return t!==void 0&&t.enterprise!==void 0}class qM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return HM(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function GM(t,e){return gs(t,"GET","/v2/recaptchaConfig",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JM(t,e){return gs(t,"POST","/v1/accounts:delete",e)}async function sA(t,e){return gs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QM(t,e=!1){const n=gt(t),r=await n.getIdToken(e),i=hy(r);Ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Oa(kp(i.auth_time)),issuedAtTime:Oa(kp(i.iat)),expirationTime:Oa(kp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function kp(t){return Number(t)*1e3}function hy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return pd("JWT malformed, contained fewer than 3 sections"),null;try{const i=jS(n);return i?JSON.parse(i):(pd("Failed to decode base64 JWT payload"),null)}catch(i){return pd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function _E(t){const e=hy(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Fr&&YM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function YM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oa(this.lastLoginAt),this.creationTime=Oa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await yu(t,sA(n,{idToken:r}));Ee(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?oA(s.providerUserInfo):[],l=eL(t.providerData,o),a=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),d=a?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new sg(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function ZM(t){const e=gt(t);await uh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function eL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function oA(t){return t.map(e=>{var{providerId:n}=e,r=uy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tL(t,e){const n=await rA(t,{},async()=>{const r=Uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=iA(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",nA.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function nL(t,e){return gs(t,"POST","/v2/accounts:revokeToken",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_E(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=_E(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await tL(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Qo;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ee(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ee(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qo,this.toJSON())}_performRefresh(){return Xr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Zr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=uy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new XM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new sg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await yu(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return QM(this,e)}reload(){return ZM(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await uh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yr(this.auth.app))return Promise.reject(Yi(this.auth));const e=await this.getIdToken();return await yu(this,JM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,a,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(l=n.tenantId)!==null&&l!==void 0?l:void 0,C=(a=n._redirectEventId)!==null&&a!==void 0?a:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,E=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:v,emailVerified:N,isAnonymous:L,providerData:k,stsTokenManager:T}=n;Ee(v&&T,e,"internal-error");const x=Qo.fromJSON(this.name,T);Ee(typeof v=="string",e,"internal-error"),Ei(h,e.name),Ei(f,e.name),Ee(typeof N=="boolean",e,"internal-error"),Ee(typeof L=="boolean",e,"internal-error"),Ei(p,e.name),Ei(y,e.name),Ei(w,e.name),Ei(C,e.name),Ei(_,e.name),Ei(E,e.name);const I=new Zr({uid:v,auth:e,email:f,emailVerified:N,displayName:h,isAnonymous:L,photoURL:y,phoneNumber:p,tenantId:w,stsTokenManager:x,createdAt:_,lastLoginAt:E});return k&&Array.isArray(k)&&(I.providerData=k.map(P=>Object.assign({},P))),C&&(I._redirectEventId=C),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new Qo;i.updateFromServerResponse(n);const s=new Zr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await uh(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ee(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?oA(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new Qo;l.updateFromIdToken(r);const a=new Zr({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new sg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(a,u),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=new Map;function ei(t){ui(t instanceof Function,"Expected a class definition");let e=yE.get(t);return e?(ui(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,yE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}lA.type="NONE";const vE=lA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(t,e,n){return`firebase:${t}:${e}:${n}`}class Yo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=md(this.userKey,i.apiKey,s),this.fullPersistenceKey=md("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Zr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Yo(ei(vE),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||ei(vE);const o=md(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(o);if(d){const h=Zr._fromJSON(e,d);u!==s&&(l=h),s=u;break}}catch{}const a=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!a.length?new Yo(s,e,r):(s=a[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Yo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fA(e))return"Blackberry";if(pA(e))return"Webos";if(uA(e))return"Safari";if((e.includes("chrome/")||cA(e))&&!e.includes("edge/"))return"Chrome";if(hA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function aA(t=_n()){return/firefox\//i.test(t)}function uA(t=_n()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cA(t=_n()){return/crios\//i.test(t)}function dA(t=_n()){return/iemobile/i.test(t)}function hA(t=_n()){return/android/i.test(t)}function fA(t=_n()){return/blackberry/i.test(t)}function pA(t=_n()){return/webos/i.test(t)}function fy(t=_n()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function rL(t=_n()){var e;return fy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function iL(){return EF()&&document.documentMode===10}function mA(t=_n()){return fy(t)||hA(t)||pA(t)||fA(t)||/windows phone/i.test(t)||dA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(t,e=[]){let n;switch(t){case"Browser":n=EE(_n());break;case"Worker":n=`${EE(_n())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${io}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const a=e(s);o(a)}catch(a){l(a)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oL(t,e={}){return gs(t,"GET","/v2/passwordPolicy",so(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL=6;class aL{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:lL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=(n=a.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),a.isValid&&(a.isValid=(r=a.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),a.isValid&&(a.isValid=(i=a.containsLowercaseLetter)!==null&&i!==void 0?i:!0),a.isValid&&(a.isValid=(s=a.containsUppercaseLetter)!==null&&s!==void 0?s:!0),a.isValid&&(a.isValid=(o=a.containsNumericCharacter)!==null&&o!==void 0?o:!0),a.isValid&&(a.isValid=(l=a.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),a}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xE(this),this.idTokenSubscription=new xE(this),this.beforeStateQueue=new sL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ei(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Yo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await sA(this,{idToken:e}),r=await Zr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Yr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,a=await this.tryRedirectSignIn(e);(!o||o===l)&&(a!=null&&a.user)&&(i=a.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await uh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yr(this.app))return Promise.reject(Yi(this));const n=e?gt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yr(this.app)?Promise.reject(Yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yr(this.app)?Promise.reject(Yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ei(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oL(this),n=new aL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Bu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await nL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ei(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await Yo.create(this,[ei(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const a=e.addObserver(n,r,i);return()=>{o=!0,a()}}else{const a=e.addObserver(n);return()=>{o=!0,a()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&VM(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Rl(t){return gt(t)}class xE{constructor(e){this.auth=e,this.observer=null,this.addObserver=kF(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cL(t){rf=t}function _A(t){return rf.loadJS(t)}function dL(){return rf.recaptchaEnterpriseScript}function hL(){return rf.gapiScript}function fL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const pL="recaptcha-enterprise",mL="NO_RECAPTCHA";class gL{constructor(e){this.type=pL,this.auth=Rl(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{GM(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(a=>{if(a.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new qM(a);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(a=>{l(a)})})}function i(s,o,l){const a=window.grecaptcha;gE(a)?a.enterprise.ready(()=>{a.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(mL)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&gE(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let a=dL();a.length!==0&&(a+=l),_A(a).then(()=>{i(l,s,o)}).catch(u=>{o(u)})}}).catch(l=>{o(l)})})}}async function wE(t,e,n,r=!1){const i=new gL(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function TE(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await wE(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await wE(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(t,e){const n=tf(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(oh(s,e??{}))return i;gr(i,"already-initialized")}return n.initialize({options:e})}function yL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ei);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function vL(t,e,n){const r=Rl(t);Ee(r._canInitEmulator,r,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=yA(e),{host:o,port:l}=EL(e),a=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${a}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),xL()}function yA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function EL(t){const e=yA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:CE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:CE(o)}}}function CE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function xL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Xr("not implemented")}_getIdTokenResponse(e){return Xr("not implemented")}_linkToIdToken(e,n){return Xr("not implemented")}_getReauthenticationResolver(e){return Xr("not implemented")}}async function wL(t,e){return gs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TL(t,e){return nf(t,"POST","/v1/accounts:signInWithPassword",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CL(t,e){return nf(t,"POST","/v1/accounts:signInWithEmailLink",so(t,e))}async function SL(t,e){return nf(t,"POST","/v1/accounts:signInWithEmailLink",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends py{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new vu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new vu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return TE(e,n,"signInWithPassword",TL);case"emailLink":return CL(e,{email:this._email,oobCode:this._password});default:gr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return TE(e,r,"signUpPassword",wL);case"emailLink":return SL(e,{idToken:n,email:this._email,oobCode:this._password});default:gr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(t,e){return nf(t,"POST","/v1/accounts:signInWithIdp",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL="http://localhost";class Gs extends py{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Gs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):gr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=uy(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Gs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Xo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Xo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xo(e,n)}buildRequest(){const e={requestUri:AL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Uu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kL(t){const e=ga(_a(t)).link,n=e?ga(_a(e)).deep_link_id:null,r=ga(_a(t)).deep_link_id;return(r?ga(_a(r)).link:null)||r||n||e||t}class my{constructor(e){var n,r,i,s,o,l;const a=ga(_a(e)),u=(n=a.apiKey)!==null&&n!==void 0?n:null,d=(r=a.oobCode)!==null&&r!==void 0?r:null,h=IL((i=a.mode)!==null&&i!==void 0?i:null);Ee(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(s=a.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=a.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=a.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=kL(e);try{return new my(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(){this.providerId=Nl.PROVIDER_ID}static credential(e,n){return vu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=my.parseLink(n);return Ee(r,"argument-error"),vu._fromEmailAndCode(e,r.code,r.tenantId)}}Nl.PROVIDER_ID="password";Nl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Nl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu extends vA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends zu{constructor(){super("facebook.com")}static credential(e){return Gs._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ki.credential(e.oauthAccessToken)}catch{return null}}}ki.FACEBOOK_SIGN_IN_METHOD="facebook.com";ki.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends zu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Gs._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ri.credential(n,r)}catch{return null}}}Ri.GOOGLE_SIGN_IN_METHOD="google.com";Ri.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends zu{constructor(){super("github.com")}static credential(e){return Gs._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ni.credential(e.oauthAccessToken)}catch{return null}}}Ni.GITHUB_SIGN_IN_METHOD="github.com";Ni.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends zu{constructor(){super("twitter.com")}static credential(e,n){return Gs._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Pi.credential(n,r)}catch{return null}}}Pi.TWITTER_SIGN_IN_METHOD="twitter.com";Pi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Zr._fromIdTokenResponse(e,r,i),o=SE(r);return new fl({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=SE(r);return new fl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function SE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch extends Fr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ch.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ch(e,n,r,i)}}function EA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ch._fromErrorAndOperation(t,s,e,r):s})}async function RL(t,e,n=!1){const r=await yu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return fl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NL(t,e,n=!1){const{auth:r}=t;if(Yr(r.app))return Promise.reject(Yi(r));const i="reauthenticate";try{const s=await yu(t,EA(r,i,e,t),n);Ee(s.idToken,r,"internal-error");const o=hy(s.idToken);Ee(o,r,"internal-error");const{sub:l}=o;return Ee(t.uid===l,r,"user-mismatch"),fl._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&gr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xA(t,e,n=!1){if(Yr(t.app))return Promise.reject(Yi(t));const r="signIn",i=await EA(t,r,e),s=await fl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function PL(t,e){return xA(Rl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DL(t){const e=Rl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function bL(t,e,n){return Yr(t.app)?Promise.reject(Yi(t)):PL(gt(t),Nl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&DL(t),r})}function OL(t,e,n,r){return gt(t).onIdTokenChanged(e,n,r)}function FL(t,e,n){return gt(t).beforeAuthStateChanged(e,n)}function ML(t){return gt(t).signOut()}const dh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dh,"1"),this.storage.removeItem(dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL=1e3,$L=10;class TA extends wA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,a)=>{this.notifyListeners(o,a)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);iL()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,$L):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},LL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}TA.type="LOCAL";const VL=TA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA extends wA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}CA.type="SESSION";const SA=CA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new sf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async u=>u(n.origin,s)),a=await BL(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:a})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,a)=>{const u=gy("",20);i.port1.start();const d=setTimeout(()=>{a(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(f.data.response);break;default:clearTimeout(d),clearTimeout(s),a(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(){return window}function jL(t){Rr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(){return typeof Rr().WorkerGlobalScope<"u"&&typeof Rr().importScripts=="function"}async function zL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function HL(){return AA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA="firebaseLocalStorageDb",KL=1,hh="firebaseLocalStorage",kA="fbase_key";class Wu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function of(t,e){return t.transaction([hh],e?"readwrite":"readonly").objectStore(hh)}function qL(){const t=indexedDB.deleteDatabase(IA);return new Wu(t).toPromise()}function og(){const t=indexedDB.open(IA,KL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(hh,{keyPath:kA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(hh)?e(r):(r.close(),await qL(),e(await og()))})})}async function AE(t,e,n){const r=of(t,!0).put({[kA]:e,value:n});return new Wu(r).toPromise()}async function GL(t,e){const n=of(t,!1).get(e),r=await new Wu(n).toPromise();return r===void 0?null:r.value}function IE(t,e){const n=of(t,!0).delete(e);return new Wu(n).toPromise()}const JL=800,QL=3;class RA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await og(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>QL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sf._getInstance(HL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await zL(),!this.activeServiceWorker)return;this.sender=new UL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await og();return await AE(e,dh,"1"),await IE(e,dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>AE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>GL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>IE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=of(i,!1).getAll();return new Wu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RA.type="LOCAL";const YL=RA;new ju(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(t,e){return e?ei(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y extends py{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ZL(t){return xA(t.auth,new _y(t),t.bypassAuthState)}function e4(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),NL(n,new _y(t),t.bypassAuthState)}async function t4(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),RL(n,new _y(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const a={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(a))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZL;case"linkViaPopup":case"linkViaRedirect":return t4;case"reauthViaPopup":case"reauthViaRedirect":return e4;default:gr(this.auth,"internal-error")}}resolve(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4=new ju(2e3,1e4);class Vo extends NA{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Vo.currentPopupAction&&Vo.currentPopupAction.cancel(),Vo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){ui(this.filter.length===1,"Popup operations only handle one event");const e=gy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,n4.get())};e()}}Vo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4="pendingRedirect",gd=new Map;class i4 extends NA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=gd.get(this.auth._key());if(!e){try{const r=await s4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}gd.set(this.auth._key(),e)}return this.bypassAuthState||gd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function s4(t,e){const n=a4(e),r=l4(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function o4(t,e){gd.set(t._key(),e)}function l4(t){return ei(t._redirectPersistence)}function a4(t){return md(r4,t.config.apiKey,t.name)}async function u4(t,e,n=!1){if(Yr(t.app))return Promise.reject(Yi(t));const r=Rl(t),i=XL(r,e),o=await new i4(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=10*60*1e3;class d4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!h4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!PA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(kr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=c4&&this.cachedEventUids.clear(),this.cachedEventUids.has(kE(e))}saveEventToCache(e){this.cachedEventUids.add(kE(e)),this.lastProcessedEventTime=Date.now()}}function kE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function PA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function h4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f4(t,e={}){return gs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,m4=/^https?/;async function g4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await f4(t);for(const n of e)try{if(_4(n))return}catch{}gr(t,"unauthorized-domain")}function _4(t){const e=ig(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!m4.test(n))return!1;if(p4.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4=new ju(3e4,6e4);function RE(){const t=Rr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function v4(t){return new Promise((e,n)=>{var r,i,s;function o(){RE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{RE(),n(kr(t,"network-request-failed"))},timeout:y4.get()})}if(!((i=(r=Rr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Rr().gapi)===null||s===void 0)&&s.load)o();else{const l=fL("iframefcb");return Rr()[l]=()=>{gapi.load?o():n(kr(t,"network-request-failed"))},_A(`${hL()}?onload=${l}`).catch(a=>n(a))}}).catch(e=>{throw _d=null,e})}let _d=null;function E4(t){return _d=_d||v4(t),_d}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4=new ju(5e3,15e3),w4="__/auth/iframe",T4="emulator/auth/iframe",C4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},S4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function A4(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?dy(e,T4):`https://${t.config.authDomain}/${w4}`,r={apiKey:e.apiKey,appName:t.name,v:io},i=S4.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Uu(r).slice(1)}`}async function I4(t){const e=await E4(t),n=Rr().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:A4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:C4,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=kr(t,"network-request-failed"),l=Rr().setTimeout(()=>{s(o)},x4.get());function a(){Rr().clearTimeout(l),i(r)}r.ping(a).then(a,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},R4=500,N4=600,P4="_blank",D4="http://localhost";class NE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function b4(t,e,n,r=R4,i=N4){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const a=Object.assign(Object.assign({},k4),{width:r.toString(),height:i.toString(),top:s,left:o}),u=_n().toLowerCase();n&&(l=cA(u)?P4:n),aA(u)&&(e=e||D4,a.scrollbars="yes");const d=Object.entries(a).reduce((f,[p,y])=>`${f}${p}=${y},`,"");if(rL(u)&&l!=="_self")return O4(e||"",l),new NE(null);const h=window.open(e||"",l,d);Ee(h,t,"popup-blocked");try{h.focus()}catch{}return new NE(h)}function O4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4="__/auth/handler",M4="emulator/auth/handler",L4=encodeURIComponent("fac");async function PE(t,e,n,r,i,s){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:io,eventId:i};if(e instanceof vA){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",IF(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof zu){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const a=await t._getAppCheckToken(),u=a?`#${L4}=${encodeURIComponent(a)}`:"";return`${$4(t)}?${Uu(l).slice(1)}${u}`}function $4({config:t}){return t.emulator?dy(t,M4):`https://${t.authDomain}/${F4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp="webStorageSupport";class V4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=SA,this._completeRedirectFn=u4,this._overrideRedirectResult=o4}async _openPopup(e,n,r,i){var s;ui((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await PE(e,n,r,ig(),i);return b4(e,o,gy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await PE(e,n,r,ig(),i);return jL(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ui(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await I4(e),r=new d4(e);return n.register("authEvent",i=>(Ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rp,{type:Rp},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Rp];o!==void 0&&n(!!o),gr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=g4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mA()||uA()||fy()}}const B4=V4;var DE="@firebase/auth",bE="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function z4(t){qs(new is("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;Ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const a={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gA(t)},u=new uL(r,i,s,a);return yL(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),qs(new is("auth-internal",e=>{const n=Rl(e.getProvider("auth").getImmediate());return(r=>new U4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ir(DE,bE,j4(t)),Ir(DE,bE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4=5*60,H4=KS("authIdTokenMaxAge")||W4;let OE=null;const K4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>H4)return;const i=n==null?void 0:n.token;OE!==i&&(OE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function q4(t=ay()){const e=tf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=_L(t,{popupRedirectResolver:B4,persistence:[YL,VL,SA]}),r=KS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=K4(s.toString());FL(n,o,()=>o(n.currentUser)),OL(n,l=>o(l))}}const i=zS("auth");return i&&vL(n,`http://${i}`),n}function G4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}cL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=kr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",G4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});z4("Browser");var J4="firebase",Q4="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ir(J4,Q4,"app");var FE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $s,DA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,x){function I(){}I.prototype=x.prototype,T.D=x.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(P,R,D){for(var O=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)O[ve-2]=arguments[ve];return x.prototype[R].apply(P,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,x,I){I||(I=0);var P=Array(16);if(typeof x=="string")for(var R=0;16>R;++R)P[R]=x.charCodeAt(I++)|x.charCodeAt(I++)<<8|x.charCodeAt(I++)<<16|x.charCodeAt(I++)<<24;else for(R=0;16>R;++R)P[R]=x[I++]|x[I++]<<8|x[I++]<<16|x[I++]<<24;x=T.g[0],I=T.g[1],R=T.g[2];var D=T.g[3],O=x+(D^I&(R^D))+P[0]+3614090360&4294967295;x=I+(O<<7&4294967295|O>>>25),O=D+(R^x&(I^R))+P[1]+3905402710&4294967295,D=x+(O<<12&4294967295|O>>>20),O=R+(I^D&(x^I))+P[2]+606105819&4294967295,R=D+(O<<17&4294967295|O>>>15),O=I+(x^R&(D^x))+P[3]+3250441966&4294967295,I=R+(O<<22&4294967295|O>>>10),O=x+(D^I&(R^D))+P[4]+4118548399&4294967295,x=I+(O<<7&4294967295|O>>>25),O=D+(R^x&(I^R))+P[5]+1200080426&4294967295,D=x+(O<<12&4294967295|O>>>20),O=R+(I^D&(x^I))+P[6]+2821735955&4294967295,R=D+(O<<17&4294967295|O>>>15),O=I+(x^R&(D^x))+P[7]+4249261313&4294967295,I=R+(O<<22&4294967295|O>>>10),O=x+(D^I&(R^D))+P[8]+1770035416&4294967295,x=I+(O<<7&4294967295|O>>>25),O=D+(R^x&(I^R))+P[9]+2336552879&4294967295,D=x+(O<<12&4294967295|O>>>20),O=R+(I^D&(x^I))+P[10]+4294925233&4294967295,R=D+(O<<17&4294967295|O>>>15),O=I+(x^R&(D^x))+P[11]+2304563134&4294967295,I=R+(O<<22&4294967295|O>>>10),O=x+(D^I&(R^D))+P[12]+1804603682&4294967295,x=I+(O<<7&4294967295|O>>>25),O=D+(R^x&(I^R))+P[13]+4254626195&4294967295,D=x+(O<<12&4294967295|O>>>20),O=R+(I^D&(x^I))+P[14]+2792965006&4294967295,R=D+(O<<17&4294967295|O>>>15),O=I+(x^R&(D^x))+P[15]+1236535329&4294967295,I=R+(O<<22&4294967295|O>>>10),O=x+(R^D&(I^R))+P[1]+4129170786&4294967295,x=I+(O<<5&4294967295|O>>>27),O=D+(I^R&(x^I))+P[6]+3225465664&4294967295,D=x+(O<<9&4294967295|O>>>23),O=R+(x^I&(D^x))+P[11]+643717713&4294967295,R=D+(O<<14&4294967295|O>>>18),O=I+(D^x&(R^D))+P[0]+3921069994&4294967295,I=R+(O<<20&4294967295|O>>>12),O=x+(R^D&(I^R))+P[5]+3593408605&4294967295,x=I+(O<<5&4294967295|O>>>27),O=D+(I^R&(x^I))+P[10]+38016083&4294967295,D=x+(O<<9&4294967295|O>>>23),O=R+(x^I&(D^x))+P[15]+3634488961&4294967295,R=D+(O<<14&4294967295|O>>>18),O=I+(D^x&(R^D))+P[4]+3889429448&4294967295,I=R+(O<<20&4294967295|O>>>12),O=x+(R^D&(I^R))+P[9]+568446438&4294967295,x=I+(O<<5&4294967295|O>>>27),O=D+(I^R&(x^I))+P[14]+3275163606&4294967295,D=x+(O<<9&4294967295|O>>>23),O=R+(x^I&(D^x))+P[3]+4107603335&4294967295,R=D+(O<<14&4294967295|O>>>18),O=I+(D^x&(R^D))+P[8]+1163531501&4294967295,I=R+(O<<20&4294967295|O>>>12),O=x+(R^D&(I^R))+P[13]+2850285829&4294967295,x=I+(O<<5&4294967295|O>>>27),O=D+(I^R&(x^I))+P[2]+4243563512&4294967295,D=x+(O<<9&4294967295|O>>>23),O=R+(x^I&(D^x))+P[7]+1735328473&4294967295,R=D+(O<<14&4294967295|O>>>18),O=I+(D^x&(R^D))+P[12]+2368359562&4294967295,I=R+(O<<20&4294967295|O>>>12),O=x+(I^R^D)+P[5]+4294588738&4294967295,x=I+(O<<4&4294967295|O>>>28),O=D+(x^I^R)+P[8]+2272392833&4294967295,D=x+(O<<11&4294967295|O>>>21),O=R+(D^x^I)+P[11]+1839030562&4294967295,R=D+(O<<16&4294967295|O>>>16),O=I+(R^D^x)+P[14]+4259657740&4294967295,I=R+(O<<23&4294967295|O>>>9),O=x+(I^R^D)+P[1]+2763975236&4294967295,x=I+(O<<4&4294967295|O>>>28),O=D+(x^I^R)+P[4]+1272893353&4294967295,D=x+(O<<11&4294967295|O>>>21),O=R+(D^x^I)+P[7]+4139469664&4294967295,R=D+(O<<16&4294967295|O>>>16),O=I+(R^D^x)+P[10]+3200236656&4294967295,I=R+(O<<23&4294967295|O>>>9),O=x+(I^R^D)+P[13]+681279174&4294967295,x=I+(O<<4&4294967295|O>>>28),O=D+(x^I^R)+P[0]+3936430074&4294967295,D=x+(O<<11&4294967295|O>>>21),O=R+(D^x^I)+P[3]+3572445317&4294967295,R=D+(O<<16&4294967295|O>>>16),O=I+(R^D^x)+P[6]+76029189&4294967295,I=R+(O<<23&4294967295|O>>>9),O=x+(I^R^D)+P[9]+3654602809&4294967295,x=I+(O<<4&4294967295|O>>>28),O=D+(x^I^R)+P[12]+3873151461&4294967295,D=x+(O<<11&4294967295|O>>>21),O=R+(D^x^I)+P[15]+530742520&4294967295,R=D+(O<<16&4294967295|O>>>16),O=I+(R^D^x)+P[2]+3299628645&4294967295,I=R+(O<<23&4294967295|O>>>9),O=x+(R^(I|~D))+P[0]+4096336452&4294967295,x=I+(O<<6&4294967295|O>>>26),O=D+(I^(x|~R))+P[7]+1126891415&4294967295,D=x+(O<<10&4294967295|O>>>22),O=R+(x^(D|~I))+P[14]+2878612391&4294967295,R=D+(O<<15&4294967295|O>>>17),O=I+(D^(R|~x))+P[5]+4237533241&4294967295,I=R+(O<<21&4294967295|O>>>11),O=x+(R^(I|~D))+P[12]+1700485571&4294967295,x=I+(O<<6&4294967295|O>>>26),O=D+(I^(x|~R))+P[3]+2399980690&4294967295,D=x+(O<<10&4294967295|O>>>22),O=R+(x^(D|~I))+P[10]+4293915773&4294967295,R=D+(O<<15&4294967295|O>>>17),O=I+(D^(R|~x))+P[1]+2240044497&4294967295,I=R+(O<<21&4294967295|O>>>11),O=x+(R^(I|~D))+P[8]+1873313359&4294967295,x=I+(O<<6&4294967295|O>>>26),O=D+(I^(x|~R))+P[15]+4264355552&4294967295,D=x+(O<<10&4294967295|O>>>22),O=R+(x^(D|~I))+P[6]+2734768916&4294967295,R=D+(O<<15&4294967295|O>>>17),O=I+(D^(R|~x))+P[13]+1309151649&4294967295,I=R+(O<<21&4294967295|O>>>11),O=x+(R^(I|~D))+P[4]+4149444226&4294967295,x=I+(O<<6&4294967295|O>>>26),O=D+(I^(x|~R))+P[11]+3174756917&4294967295,D=x+(O<<10&4294967295|O>>>22),O=R+(x^(D|~I))+P[2]+718787259&4294967295,R=D+(O<<15&4294967295|O>>>17),O=I+(D^(R|~x))+P[9]+3951481745&4294967295,T.g[0]=T.g[0]+x&4294967295,T.g[1]=T.g[1]+(R+(O<<21&4294967295|O>>>11))&4294967295,T.g[2]=T.g[2]+R&4294967295,T.g[3]=T.g[3]+D&4294967295}r.prototype.u=function(T,x){x===void 0&&(x=T.length);for(var I=x-this.blockSize,P=this.B,R=this.h,D=0;D<x;){if(R==0)for(;D<=I;)i(this,T,D),D+=this.blockSize;if(typeof T=="string"){for(;D<x;)if(P[R++]=T.charCodeAt(D++),R==this.blockSize){i(this,P),R=0;break}}else for(;D<x;)if(P[R++]=T[D++],R==this.blockSize){i(this,P),R=0;break}}this.h=R,this.o+=x},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var x=1;x<T.length-8;++x)T[x]=0;var I=8*this.o;for(x=T.length-8;x<T.length;++x)T[x]=I&255,I/=256;for(this.u(T),T=Array(16),x=I=0;4>x;++x)for(var P=0;32>P;P+=8)T[I++]=this.g[x]>>>P&255;return T};function s(T,x){var I=l;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=x(T)}function o(T,x){this.h=x;for(var I=[],P=!0,R=T.length-1;0<=R;R--){var D=T[R]|0;P&&D==x||(I[R]=D,P=!1)}this.g=I}var l={};function a(T){return-128<=T&&128>T?s(T,function(x){return new o([x|0],0>x?-1:0)}):new o([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return h;if(0>T)return C(u(-T));for(var x=[],I=1,P=0;T>=I;P++)x[P]=T/I|0,I*=4294967296;return new o(x,0)}function d(T,x){if(T.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(T.charAt(0)=="-")return C(d(T.substring(1),x));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(x,8)),P=h,R=0;R<T.length;R+=8){var D=Math.min(8,T.length-R),O=parseInt(T.substring(R,R+D),x);8>D?(D=u(Math.pow(x,D)),P=P.j(D).add(u(O))):(P=P.j(I),P=P.add(u(O)))}return P}var h=a(0),f=a(1),p=a(16777216);t=o.prototype,t.m=function(){if(w(this))return-C(this).m();for(var T=0,x=1,I=0;I<this.g.length;I++){var P=this.i(I);T+=(0<=P?P:4294967296+P)*x,x*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(y(this))return"0";if(w(this))return"-"+C(this).toString(T);for(var x=u(Math.pow(T,6)),I=this,P="";;){var R=N(I,x).g;I=_(I,R.j(x));var D=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=R,y(I))return D+P;for(;6>D.length;)D="0"+D;P=D+P}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function y(T){if(T.h!=0)return!1;for(var x=0;x<T.g.length;x++)if(T.g[x]!=0)return!1;return!0}function w(T){return T.h==-1}t.l=function(T){return T=_(this,T),w(T)?-1:y(T)?0:1};function C(T){for(var x=T.g.length,I=[],P=0;P<x;P++)I[P]=~T.g[P];return new o(I,~T.h).add(f)}t.abs=function(){return w(this)?C(this):this},t.add=function(T){for(var x=Math.max(this.g.length,T.g.length),I=[],P=0,R=0;R<=x;R++){var D=P+(this.i(R)&65535)+(T.i(R)&65535),O=(D>>>16)+(this.i(R)>>>16)+(T.i(R)>>>16);P=O>>>16,D&=65535,O&=65535,I[R]=O<<16|D}return new o(I,I[I.length-1]&-2147483648?-1:0)};function _(T,x){return T.add(C(x))}t.j=function(T){if(y(this)||y(T))return h;if(w(this))return w(T)?C(this).j(C(T)):C(C(this).j(T));if(w(T))return C(this.j(C(T)));if(0>this.l(p)&&0>T.l(p))return u(this.m()*T.m());for(var x=this.g.length+T.g.length,I=[],P=0;P<2*x;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(var R=0;R<T.g.length;R++){var D=this.i(P)>>>16,O=this.i(P)&65535,ve=T.i(R)>>>16,pe=T.i(R)&65535;I[2*P+2*R]+=O*pe,E(I,2*P+2*R),I[2*P+2*R+1]+=D*pe,E(I,2*P+2*R+1),I[2*P+2*R+1]+=O*ve,E(I,2*P+2*R+1),I[2*P+2*R+2]+=D*ve,E(I,2*P+2*R+2)}for(P=0;P<x;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=x;P<2*x;P++)I[P]=0;return new o(I,0)};function E(T,x){for(;(T[x]&65535)!=T[x];)T[x+1]+=T[x]>>>16,T[x]&=65535,x++}function v(T,x){this.g=T,this.h=x}function N(T,x){if(y(x))throw Error("division by zero");if(y(T))return new v(h,h);if(w(T))return x=N(C(T),x),new v(C(x.g),C(x.h));if(w(x))return x=N(T,C(x)),new v(C(x.g),x.h);if(30<T.g.length){if(w(T)||w(x))throw Error("slowDivide_ only works with positive integers.");for(var I=f,P=x;0>=P.l(T);)I=L(I),P=L(P);var R=k(I,1),D=k(P,1);for(P=k(P,2),I=k(I,2);!y(P);){var O=D.add(P);0>=O.l(T)&&(R=R.add(I),D=O),P=k(P,1),I=k(I,1)}return x=_(T,R.j(x)),new v(R,x)}for(R=h;0<=T.l(x);){for(I=Math.max(1,Math.floor(T.m()/x.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),D=u(I),O=D.j(x);w(O)||0<O.l(T);)I-=P,D=u(I),O=D.j(x);y(D)&&(D=f),R=R.add(D),T=_(T,O)}return new v(R,T)}t.A=function(T){return N(this,T).h},t.and=function(T){for(var x=Math.max(this.g.length,T.g.length),I=[],P=0;P<x;P++)I[P]=this.i(P)&T.i(P);return new o(I,this.h&T.h)},t.or=function(T){for(var x=Math.max(this.g.length,T.g.length),I=[],P=0;P<x;P++)I[P]=this.i(P)|T.i(P);return new o(I,this.h|T.h)},t.xor=function(T){for(var x=Math.max(this.g.length,T.g.length),I=[],P=0;P<x;P++)I[P]=this.i(P)^T.i(P);return new o(I,this.h^T.h)};function L(T){for(var x=T.g.length+1,I=[],P=0;P<x;P++)I[P]=T.i(P)<<1|T.i(P-1)>>>31;return new o(I,T.h)}function k(T,x){var I=x>>5;x%=32;for(var P=T.g.length-I,R=[],D=0;D<P;D++)R[D]=0<x?T.i(D+I)>>>x|T.i(D+I+1)<<32-x:T.i(D+I);return new o(R,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,DA=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,$s=o}).apply(typeof FE<"u"?FE:typeof self<"u"?self:typeof window<"u"?window:{});var jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bA,ya,OA,yd,lg,FA,MA,LA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,g){return c==Array.prototype||c==Object.prototype||(c[m]=g.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof jc=="object"&&jc];for(var m=0;m<c.length;++m){var g=c[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(c,m){if(m)e:{var g=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var V=c[A];if(!(V in g))break e;g=g[V]}c=c[c.length-1],A=g[c],m=m(A),m!=A&&m!=null&&e(g,c,{configurable:!0,writable:!0,value:m})}}function s(c,m){c instanceof String&&(c+="");var g=0,A=!1,V={next:function(){if(!A&&g<c.length){var U=g++;return{value:m(U,c[U]),done:!1}}return A=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(c){return c||function(){return s(this,function(m,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function a(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function u(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function d(c,m,g){return c.call.apply(c.bind,arguments)}function h(c,m,g){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,A),c.apply(m,V)}}return function(){return c.apply(m,arguments)}}function f(c,m,g){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function p(c,m){var g=Array.prototype.slice.call(arguments,1);return function(){var A=g.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function y(c,m){function g(){}g.prototype=m.prototype,c.aa=m.prototype,c.prototype=new g,c.prototype.constructor=c,c.Qb=function(A,V,U){for(var X=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)X[Xe-2]=arguments[Xe];return m.prototype[V].apply(A,X)}}function w(c){const m=c.length;if(0<m){const g=Array(m);for(let A=0;A<m;A++)g[A]=c[A];return g}return[]}function C(c,m){for(let g=1;g<arguments.length;g++){const A=arguments[g];if(a(A)){const V=c.length||0,U=A.length||0;c.length=V+U;for(let X=0;X<U;X++)c[V+X]=A[X]}else c.push(A)}}class _{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function E(c){return/^[\s\xa0]*$/.test(c)}function v(){var c=l.navigator;return c&&(c=c.userAgent)?c:""}function N(c){return N[" "](c),c}N[" "]=function(){};var L=v().indexOf("Gecko")!=-1&&!(v().toLowerCase().indexOf("webkit")!=-1&&v().indexOf("Edge")==-1)&&!(v().indexOf("Trident")!=-1||v().indexOf("MSIE")!=-1)&&v().indexOf("Edge")==-1;function k(c,m,g){for(const A in c)m.call(g,c[A],A,c)}function T(c,m){for(const g in c)m.call(void 0,c[g],g,c)}function x(c){const m={};for(const g in c)m[g]=c[g];return m}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(c,m){let g,A;for(let V=1;V<arguments.length;V++){A=arguments[V];for(g in A)c[g]=A[g];for(let U=0;U<I.length;U++)g=I[U],Object.prototype.hasOwnProperty.call(A,g)&&(c[g]=A[g])}}function R(c){var m=1;c=c.split(":");const g=[];for(;0<m&&c.length;)g.push(c.shift()),m--;return c.length&&g.push(c.join(":")),g}function D(c){l.setTimeout(()=>{throw c},0)}function O(){var c=ae;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class ve{constructor(){this.h=this.g=null}add(m,g){const A=pe.get();A.set(m,g),this.h?this.h.next=A:this.g=A,this.h=A}}var pe=new _(()=>new Ne,c=>c.reset());class Ne{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,q=!1,ae=new ve,F=()=>{const c=l.Promise.resolve(void 0);fe=()=>{c.then(Ce)}};var Ce=()=>{for(var c;c=O();){try{c.h.call(c.g)}catch(g){D(g)}var m=pe;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}q=!1};function we(){this.s=this.s,this.C=this.C}we.prototype.s=!1,we.prototype.ma=function(){this.s||(this.s=!0,this.N())},we.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var je=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const g=()=>{};l.addEventListener("test",g,m),l.removeEventListener("test",g,m)}catch{}return c}();function Ye(c,m){if(M.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var g=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(L){e:{try{N(m.nodeName);var V=!0;break e}catch{}V=!1}V||(m=null)}}else g=="mouseover"?m=c.fromElement:g=="mouseout"&&(m=c.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Pe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ye.aa.h.call(this)}}y(Ye,M);var Pe={2:"touch",3:"pen",4:"mouse"};Ye.prototype.h=function(){Ye.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var W="closure_listenable_"+(1e6*Math.random()|0),G=0;function Q(c,m,g,A,V){this.listener=c,this.proxy=null,this.src=m,this.type=g,this.capture=!!A,this.ha=V,this.key=++G,this.da=this.fa=!1}function Z(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function te(c){this.src=c,this.g={},this.h=0}te.prototype.add=function(c,m,g,A,V){var U=c.toString();c=this.g[U],c||(c=this.g[U]=[],this.h++);var X=qe(c,m,A,V);return-1<X?(m=c[X],g||(m.fa=!1)):(m=new Q(m,this.src,U,!!A,V),m.fa=g,c.push(m)),m};function Be(c,m){var g=m.type;if(g in c.g){var A=c.g[g],V=Array.prototype.indexOf.call(A,m,void 0),U;(U=0<=V)&&Array.prototype.splice.call(A,V,1),U&&(Z(m),c.g[g].length==0&&(delete c.g[g],c.h--))}}function qe(c,m,g,A){for(var V=0;V<c.length;++V){var U=c[V];if(!U.da&&U.listener==m&&U.capture==!!g&&U.ha==A)return V}return-1}var et="closure_lm_"+(1e6*Math.random()|0),Nt={};function ze(c,m,g,A,V){if(Array.isArray(m)){for(var U=0;U<m.length;U++)ze(c,m[U],g,A,V);return null}return g=Re(g),c&&c[W]?c.K(m,g,u(A)?!!A.capture:!!A,V):xe(c,m,g,!1,A,V)}function xe(c,m,g,A,V,U){if(!m)throw Error("Invalid event type");var X=u(V)?!!V.capture:!!V,Xe=ee(c);if(Xe||(c[et]=Xe=new te(c)),g=Xe.add(m,g,A,X,U),g.proxy)return g;if(A=Ke(),g.proxy=A,A.src=c,A.listener=g,c.addEventListener)je||(V=X),V===void 0&&(V=!1),c.addEventListener(m.toString(),A,V);else if(c.attachEvent)c.attachEvent(St(m.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Ke(){function c(g){return m.call(c.src,c.listener,g)}const m=ne;return c}function Fe(c,m,g,A,V){if(Array.isArray(m))for(var U=0;U<m.length;U++)Fe(c,m[U],g,A,V);else A=u(A)?!!A.capture:!!A,g=Re(g),c&&c[W]?(c=c.i,m=String(m).toString(),m in c.g&&(U=c.g[m],g=qe(U,g,A,V),-1<g&&(Z(U[g]),Array.prototype.splice.call(U,g,1),U.length==0&&(delete c.g[m],c.h--)))):c&&(c=ee(c))&&(m=c.g[m.toString()],c=-1,m&&(c=qe(m,g,A,V)),(g=-1<c?m[c]:null)&&Le(g))}function Le(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[W])Be(m.i,c);else{var g=c.type,A=c.proxy;m.removeEventListener?m.removeEventListener(g,A,c.capture):m.detachEvent?m.detachEvent(St(g),A):m.addListener&&m.removeListener&&m.removeListener(A),(g=ee(m))?(Be(g,c),g.h==0&&(g.src=null,m[et]=null)):Z(c)}}}function St(c){return c in Nt?Nt[c]:Nt[c]="on"+c}function ne(c,m){if(c.da)c=!0;else{m=new Ye(m,this);var g=c.listener,A=c.ha||c.src;c.fa&&Le(c),c=g.call(A,m)}return c}function ee(c){return c=c[et],c instanceof te?c:null}var ie="__closure_events_fn_"+(1e9*Math.random()>>>0);function Re(c){return typeof c=="function"?c:(c[ie]||(c[ie]=function(m){return c.handleEvent(m)}),c[ie])}function ke(){we.call(this),this.i=new te(this),this.M=this,this.F=null}y(ke,we),ke.prototype[W]=!0,ke.prototype.removeEventListener=function(c,m,g,A){Fe(this,c,m,g,A)};function $(c,m){var g,A=c.F;if(A)for(g=[];A;A=A.F)g.push(A);if(c=c.M,A=m.type||m,typeof m=="string")m=new M(m,c);else if(m instanceof M)m.target=m.target||c;else{var V=m;m=new M(A,c),P(m,V)}if(V=!0,g)for(var U=g.length-1;0<=U;U--){var X=m.g=g[U];V=S(X,A,!0,m)&&V}if(X=m.g=c,V=S(X,A,!0,m)&&V,V=S(X,A,!1,m)&&V,g)for(U=0;U<g.length;U++)X=m.g=g[U],V=S(X,A,!1,m)&&V}ke.prototype.N=function(){if(ke.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var g=c.g[m],A=0;A<g.length;A++)Z(g[A]);delete c.g[m],c.h--}}this.F=null},ke.prototype.K=function(c,m,g,A){return this.i.add(String(c),m,!1,g,A)},ke.prototype.L=function(c,m,g,A){return this.i.add(String(c),m,!0,g,A)};function S(c,m,g,A){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var V=!0,U=0;U<m.length;++U){var X=m[U];if(X&&!X.da&&X.capture==g){var Xe=X.listener,qt=X.ha||X.src;X.fa&&Be(c.i,X),V=Xe.call(qt,A)!==!1&&V}}return V&&!A.defaultPrevented}function ue(c,m,g){if(typeof c=="function")g&&(c=f(c,g));else if(c&&typeof c.handleEvent=="function")c=f(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:l.setTimeout(c,m||0)}function be(c){c.g=ue(()=>{c.g=null,c.i&&(c.i=!1,be(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Ge extends we{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:be(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kt(c){we.call(this),this.h=c,this.g={}}y(Kt,we);var ir=[];function Gn(c){k(c.g,function(m,g){this.g.hasOwnProperty(g)&&Le(m)},c),c.g={}}Kt.prototype.N=function(){Kt.aa.N.call(this),Gn(this)},Kt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Br=l.JSON.stringify,xs=l.JSON.parse,dt=class{stringify(c){return l.JSON.stringify(c,void 0)}parse(c){return l.JSON.parse(c,void 0)}};function ws(){}ws.prototype.h=null;function Jn(c){return c.h||(c.h=c.i())}function q0(){}var jl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ff(){M.call(this,"d")}y(Ff,M);function Mf(){M.call(this,"c")}y(Mf,M);var Ts={},G0=null;function uc(){return G0=G0||new ke}Ts.La="serverreachability";function J0(c){M.call(this,Ts.La,c)}y(J0,M);function zl(c){const m=uc();$(m,new J0(m))}Ts.STAT_EVENT="statevent";function Q0(c,m){M.call(this,Ts.STAT_EVENT,c),this.stat=m}y(Q0,M);function yn(c){const m=uc();$(m,new Q0(m,c))}Ts.Ma="timingevent";function Y0(c,m){M.call(this,Ts.Ma,c),this.size=m}y(Y0,M);function Wl(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){c()},m)}function Hl(){this.g=!0}Hl.prototype.xa=function(){this.g=!1};function HN(c,m,g,A,V,U){c.info(function(){if(c.g)if(U)for(var X="",Xe=U.split("&"),qt=0;qt<Xe.length;qt++){var We=Xe[qt].split("=");if(1<We.length){var sn=We[0];We=We[1];var on=sn.split("_");X=2<=on.length&&on[1]=="type"?X+(sn+"="+We+"&"):X+(sn+"=redacted&")}}else X=null;else X=U;return"XMLHTTP REQ ("+A+") [attempt "+V+"]: "+m+`
`+g+`
`+X})}function KN(c,m,g,A,V,U,X){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+V+"]: "+m+`
`+g+`
`+U+" "+X})}function ho(c,m,g,A){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+GN(c,g)+(A?" "+A:"")})}function qN(c,m){c.info(function(){return"TIMEOUT: "+m})}Hl.prototype.info=function(){};function GN(c,m){if(!c.g)return m;if(!m)return null;try{var g=JSON.parse(m);if(g){for(c=0;c<g.length;c++)if(Array.isArray(g[c])){var A=g[c];if(!(2>A.length)){var V=A[1];if(Array.isArray(V)&&!(1>V.length)){var U=V[0];if(U!="noop"&&U!="stop"&&U!="close")for(var X=1;X<V.length;X++)V[X]=""}}}}return Br(g)}catch{return m}}var cc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},X0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Lf;function dc(){}y(dc,ws),dc.prototype.g=function(){return new XMLHttpRequest},dc.prototype.i=function(){return{}},Lf=new dc;function gi(c,m,g,A){this.j=c,this.i=m,this.l=g,this.R=A||1,this.U=new Kt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Z0}function Z0(){this.i=null,this.g="",this.h=!1}var ev={},$f={};function Vf(c,m,g){c.L=1,c.v=mc(Ur(m)),c.m=g,c.P=!0,tv(c,null)}function tv(c,m){c.F=Date.now(),hc(c),c.A=Ur(c.v);var g=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),mv(g.i,"t",A),c.C=0,g=c.j.J,c.h=new Z0,c.g=bv(c.j,g?m:null,!c.m),0<c.O&&(c.M=new Ge(f(c.Y,c,c.g),c.O)),m=c.U,g=c.g,A=c.ca;var V="readystatechange";Array.isArray(V)||(V&&(ir[0]=V.toString()),V=ir);for(var U=0;U<V.length;U++){var X=ze(g,V[U],A||m.handleEvent,!1,m.h||m);if(!X)break;m.g[X.key]=X}m=c.H?x(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),zl(),HN(c.i,c.u,c.A,c.l,c.R,c.m)}gi.prototype.ca=function(c){c=c.target;const m=this.M;m&&jr(c)==3?m.j():this.Y(c)},gi.prototype.Y=function(c){try{if(c==this.g)e:{const on=jr(this.g);var m=this.g.Ba();const mo=this.g.Z();if(!(3>on)&&(on!=3||this.g&&(this.h.h||this.g.oa()||wv(this.g)))){this.J||on!=4||m==7||(m==8||0>=mo?zl(3):zl(2)),Bf(this);var g=this.g.Z();this.X=g;t:if(nv(this)){var A=wv(this.g);c="";var V=A.length,U=jr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cs(this),Kl(this);var X="";break t}this.h.i=new l.TextDecoder}for(m=0;m<V;m++)this.h.h=!0,c+=this.h.i.decode(A[m],{stream:!(U&&m==V-1)});A.length=0,this.h.g+=c,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=g==200,KN(this.i,this.u,this.A,this.l,this.R,on,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Xe,qt=this.g;if((Xe=qt.g?qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(Xe)){var We=Xe;break t}}We=null}if(g=We)ho(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Uf(this,g);else{this.o=!1,this.s=3,yn(12),Cs(this),Kl(this);break e}}if(this.P){g=!0;let sr;for(;!this.J&&this.C<X.length;)if(sr=JN(this,X),sr==$f){on==4&&(this.s=4,yn(14),g=!1),ho(this.i,this.l,null,"[Incomplete Response]");break}else if(sr==ev){this.s=4,yn(15),ho(this.i,this.l,X,"[Invalid Chunk]"),g=!1;break}else ho(this.i,this.l,sr,null),Uf(this,sr);if(nv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),on!=4||X.length!=0||this.h.h||(this.s=1,yn(16),g=!1),this.o=this.o&&g,!g)ho(this.i,this.l,X,"[Invalid Chunked Response]"),Cs(this),Kl(this);else if(0<X.length&&!this.W){this.W=!0;var sn=this.j;sn.g==this&&sn.ba&&!sn.M&&(sn.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),qf(sn),sn.M=!0,yn(11))}}else ho(this.i,this.l,X,null),Uf(this,X);on==4&&Cs(this),this.o&&!this.J&&(on==4?Rv(this.j,this):(this.o=!1,hc(this)))}else hP(this.g),g==400&&0<X.indexOf("Unknown SID")?(this.s=3,yn(12)):(this.s=0,yn(13)),Cs(this),Kl(this)}}}catch{}finally{}};function nv(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function JN(c,m){var g=c.C,A=m.indexOf(`
`,g);return A==-1?$f:(g=Number(m.substring(g,A)),isNaN(g)?ev:(A+=1,A+g>m.length?$f:(m=m.slice(A,A+g),c.C=A+g,m)))}gi.prototype.cancel=function(){this.J=!0,Cs(this)};function hc(c){c.S=Date.now()+c.I,rv(c,c.I)}function rv(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Wl(f(c.ba,c),m)}function Bf(c){c.B&&(l.clearTimeout(c.B),c.B=null)}gi.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(qN(this.i,this.A),this.L!=2&&(zl(),yn(17)),Cs(this),this.s=2,Kl(this)):rv(this,this.S-c)};function Kl(c){c.j.G==0||c.J||Rv(c.j,c)}function Cs(c){Bf(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,Gn(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function Uf(c,m){try{var g=c.j;if(g.G!=0&&(g.g==c||jf(g.h,c))){if(!c.K&&jf(g.h,c)&&g.G==3){try{var A=g.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var V=A;if(V[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<c.F)xc(g),vc(g);else break e;Kf(g),yn(18)}}else g.za=V[1],0<g.za-g.T&&37500>V[2]&&g.F&&g.v==0&&!g.C&&(g.C=Wl(f(g.Za,g),6e3));if(1>=ov(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else As(g,11)}else if((c.K||g.g==c)&&xc(g),!E(m))for(V=g.Da.g.parse(m),m=0;m<V.length;m++){let We=V[m];if(g.T=We[0],We=We[1],g.G==2)if(We[0]=="c"){g.K=We[1],g.ia=We[2];const sn=We[3];sn!=null&&(g.la=sn,g.j.info("VER="+g.la));const on=We[4];on!=null&&(g.Aa=on,g.j.info("SVER="+g.Aa));const mo=We[5];mo!=null&&typeof mo=="number"&&0<mo&&(A=1.5*mo,g.L=A,g.j.info("backChannelRequestTimeoutMs_="+A)),A=g;const sr=c.g;if(sr){const Tc=sr.g?sr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tc){var U=A.h;U.g||Tc.indexOf("spdy")==-1&&Tc.indexOf("quic")==-1&&Tc.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(zf(U,U.h),U.h=null))}if(A.D){const Gf=sr.g?sr.g.getResponseHeader("X-HTTP-Session-Id"):null;Gf&&(A.ya=Gf,st(A.I,A.D,Gf))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-c.F,g.j.info("Handshake RTT: "+g.R+"ms")),A=g;var X=c;if(A.qa=Dv(A,A.J?A.ia:null,A.W),X.K){lv(A.h,X);var Xe=X,qt=A.L;qt&&(Xe.I=qt),Xe.B&&(Bf(Xe),hc(Xe)),A.g=X}else Iv(A);0<g.i.length&&Ec(g)}else We[0]!="stop"&&We[0]!="close"||As(g,7);else g.G==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?As(g,7):Hf(g):We[0]!="noop"&&g.l&&g.l.ta(We),g.v=0)}}zl(4)}catch{}}var QN=class{constructor(c,m){this.g=c,this.map=m}};function iv(c){this.l=c||10,l.PerformanceNavigationTiming?(c=l.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sv(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ov(c){return c.h?1:c.g?c.g.size:0}function jf(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function zf(c,m){c.g?c.g.add(m):c.h=m}function lv(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}iv.prototype.cancel=function(){if(this.i=av(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function av(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const g of c.g.values())m=m.concat(g.D);return m}return w(c.i)}function YN(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(a(c)){for(var m=[],g=c.length,A=0;A<g;A++)m.push(c[A]);return m}m=[],g=0;for(A in c)m[g++]=c[A];return m}function XN(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(a(c)||typeof c=="string"){var m=[];c=c.length;for(var g=0;g<c;g++)m.push(g);return m}m=[],g=0;for(const A in c)m[g++]=A;return m}}}function uv(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(a(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var g=XN(c),A=YN(c),V=A.length,U=0;U<V;U++)m.call(void 0,A[U],g&&g[U],c)}var cv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ZN(c,m){if(c){c=c.split("&");for(var g=0;g<c.length;g++){var A=c[g].indexOf("="),V=null;if(0<=A){var U=c[g].substring(0,A);V=c[g].substring(A+1)}else U=c[g];m(U,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Ss(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ss){this.h=c.h,fc(this,c.j),this.o=c.o,this.g=c.g,pc(this,c.s),this.l=c.l;var m=c.i,g=new Jl;g.i=m.i,m.g&&(g.g=new Map(m.g),g.h=m.h),dv(this,g),this.m=c.m}else c&&(m=String(c).match(cv))?(this.h=!1,fc(this,m[1]||"",!0),this.o=ql(m[2]||""),this.g=ql(m[3]||"",!0),pc(this,m[4]),this.l=ql(m[5]||"",!0),dv(this,m[6]||"",!0),this.m=ql(m[7]||"")):(this.h=!1,this.i=new Jl(null,this.h))}Ss.prototype.toString=function(){var c=[],m=this.j;m&&c.push(Gl(m,hv,!0),":");var g=this.g;return(g||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Gl(m,hv,!0),"@"),c.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&c.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push(Gl(g,g.charAt(0)=="/"?nP:tP,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",Gl(g,iP)),c.join("")};function Ur(c){return new Ss(c)}function fc(c,m,g){c.j=g?ql(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function pc(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function dv(c,m,g){m instanceof Jl?(c.i=m,sP(c.i,c.h)):(g||(m=Gl(m,rP)),c.i=new Jl(m,c.h))}function st(c,m,g){c.i.set(m,g)}function mc(c){return st(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ql(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Gl(c,m,g){return typeof c=="string"?(c=encodeURI(c).replace(m,eP),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function eP(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var hv=/[#\/\?@]/g,tP=/[#\?:]/g,nP=/[#\?]/g,rP=/[#\?@]/g,iP=/#/g;function Jl(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function _i(c){c.g||(c.g=new Map,c.h=0,c.i&&ZN(c.i,function(m,g){c.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}t=Jl.prototype,t.add=function(c,m){_i(this),this.i=null,c=fo(this,c);var g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(m),this.h+=1,this};function fv(c,m){_i(c),m=fo(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function pv(c,m){return _i(c),m=fo(c,m),c.g.has(m)}t.forEach=function(c,m){_i(this),this.g.forEach(function(g,A){g.forEach(function(V){c.call(m,V,A,this)},this)},this)},t.na=function(){_i(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),g=[];for(let A=0;A<m.length;A++){const V=c[A];for(let U=0;U<V.length;U++)g.push(m[A])}return g},t.V=function(c){_i(this);let m=[];if(typeof c=="string")pv(this,c)&&(m=m.concat(this.g.get(fo(this,c))));else{c=Array.from(this.g.values());for(let g=0;g<c.length;g++)m=m.concat(c[g])}return m},t.set=function(c,m){return _i(this),this.i=null,c=fo(this,c),pv(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function mv(c,m,g){fv(c,m),0<g.length&&(c.i=null,c.g.set(fo(c,m),w(g)),c.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var g=0;g<m.length;g++){var A=m[g];const U=encodeURIComponent(String(A)),X=this.V(A);for(A=0;A<X.length;A++){var V=U;X[A]!==""&&(V+="="+encodeURIComponent(String(X[A]))),c.push(V)}}return this.i=c.join("&")};function fo(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function sP(c,m){m&&!c.j&&(_i(c),c.i=null,c.g.forEach(function(g,A){var V=A.toLowerCase();A!=V&&(fv(this,A),mv(this,V,g))},c)),c.j=m}function oP(c,m){const g=new Hl;if(l.Image){const A=new Image;A.onload=p(yi,g,"TestLoadImage: loaded",!0,m,A),A.onerror=p(yi,g,"TestLoadImage: error",!1,m,A),A.onabort=p(yi,g,"TestLoadImage: abort",!1,m,A),A.ontimeout=p(yi,g,"TestLoadImage: timeout",!1,m,A),l.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else m(!1)}function lP(c,m){const g=new Hl,A=new AbortController,V=setTimeout(()=>{A.abort(),yi(g,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:A.signal}).then(U=>{clearTimeout(V),U.ok?yi(g,"TestPingServer: ok",!0,m):yi(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(V),yi(g,"TestPingServer: error",!1,m)})}function yi(c,m,g,A,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),A(g)}catch{}}function aP(){this.g=new dt}function uP(c,m,g){const A=g||"";try{uv(c,function(V,U){let X=V;u(V)&&(X=Br(V)),m.push(A+U+"="+encodeURIComponent(X))})}catch(V){throw m.push(A+"type="+encodeURIComponent("_badmap")),V}}function gc(c){this.l=c.Ub||null,this.j=c.eb||!1}y(gc,ws),gc.prototype.g=function(){return new _c(this.l,this.j)},gc.prototype.i=function(c){return function(){return c}}({});function _c(c,m){ke.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(_c,ke),t=_c.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,Yl(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||l).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ql(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Yl(this)),this.g&&(this.readyState=3,Yl(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gv(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function gv(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Ql(this):Yl(this),this.readyState==3&&gv(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ql(this))},t.Qa=function(c){this.g&&(this.response=c,Ql(this))},t.ga=function(){this.g&&Ql(this)};function Ql(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Yl(c)}t.setRequestHeader=function(c,m){this.u.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=m.next();return c.join(`\r
`)};function Yl(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(_c.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function _v(c){let m="";return k(c,function(g,A){m+=A,m+=":",m+=g,m+=`\r
`}),m}function Wf(c,m,g){e:{for(A in g){var A=!1;break e}A=!0}A||(g=_v(g),typeof c=="string"?g!=null&&encodeURIComponent(String(g)):st(c,m,g))}function vt(c){ke.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(vt,ke);var cP=/^https?$/i,dP=["POST","PUT"];t=vt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,m,g,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Lf.g(),this.v=this.o?Jn(this.o):Jn(Lf),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(U){yv(this,U);return}if(c=g||"",g=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var V in A)g.set(V,A[V]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const U of A.keys())g.set(U,A.get(U));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(g.keys()).find(U=>U.toLowerCase()=="content-type"),V=l.FormData&&c instanceof l.FormData,!(0<=Array.prototype.indexOf.call(dP,m,void 0))||A||V||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,X]of g)this.g.setRequestHeader(U,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xv(this),this.u=!0,this.g.send(c),this.u=!1}catch(U){yv(this,U)}};function yv(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,vv(c),yc(c)}function vv(c){c.A||(c.A=!0,$(c,"complete"),$(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,$(this,"complete"),$(this,"abort"),yc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yc(this,!0)),vt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ev(this):this.bb())},t.bb=function(){Ev(this)};function Ev(c){if(c.h&&typeof o<"u"&&(!c.v[1]||jr(c)!=4||c.Z()!=2)){if(c.u&&jr(c)==4)ue(c.Ea,0,c);else if($(c,"readystatechange"),jr(c)==4){c.h=!1;try{const X=c.Z();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var g;if(!(g=m)){var A;if(A=X===0){var V=String(c.D).match(cv)[1]||null;!V&&l.self&&l.self.location&&(V=l.self.location.protocol.slice(0,-1)),A=!cP.test(V?V.toLowerCase():"")}g=A}if(g)$(c,"complete"),$(c,"success");else{c.m=6;try{var U=2<jr(c)?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.Z()+"]",vv(c)}}finally{yc(c)}}}}function yc(c,m){if(c.g){xv(c);const g=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||$(c,"ready");try{g.onreadystatechange=A}catch{}}}function xv(c){c.I&&(l.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function jr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<jr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),xs(m)}};function wv(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function hP(c){const m={};c=(c.g&&2<=jr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(E(c[A]))continue;var g=R(c[A]);const V=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const U=m[V]||[];m[V]=U,U.push(g)}T(m,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xl(c,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||m}function Tv(c){this.Aa=0,this.i=[],this.j=new Hl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xl("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xl("baseRetryDelayMs",5e3,c),this.cb=Xl("retryDelaySeedMs",1e4,c),this.Wa=Xl("forwardChannelMaxRetries",2,c),this.wa=Xl("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new iv(c&&c.concurrentRequestLimit),this.Da=new aP,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Tv.prototype,t.la=8,t.G=1,t.connect=function(c,m,g,A){yn(0),this.W=c,this.H=m||{},g&&A!==void 0&&(this.H.OSID=g,this.H.OAID=A),this.F=this.X,this.I=Dv(this,null,this.W),Ec(this)};function Hf(c){if(Cv(c),c.G==3){var m=c.U++,g=Ur(c.I);if(st(g,"SID",c.K),st(g,"RID",m),st(g,"TYPE","terminate"),Zl(c,g),m=new gi(c,c.j,m),m.L=2,m.v=mc(Ur(g)),g=!1,l.navigator&&l.navigator.sendBeacon)try{g=l.navigator.sendBeacon(m.v.toString(),"")}catch{}!g&&l.Image&&(new Image().src=m.v,g=!0),g||(m.g=bv(m.j,null),m.g.ea(m.v)),m.F=Date.now(),hc(m)}Pv(c)}function vc(c){c.g&&(qf(c),c.g.cancel(),c.g=null)}function Cv(c){vc(c),c.u&&(l.clearTimeout(c.u),c.u=null),xc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&l.clearTimeout(c.s),c.s=null)}function Ec(c){if(!sv(c.h)&&!c.s){c.s=!0;var m=c.Ga;fe||F(),q||(fe(),q=!0),ae.add(m,c),c.B=0}}function fP(c,m){return ov(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Wl(f(c.Ga,c,m),Nv(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const V=new gi(this,this.j,c);let U=this.o;if(this.S&&(U?(U=x(U),P(U,this.S)):U=this.S),this.m!==null||this.O||(V.H=U,U=null),this.P)e:{for(var m=0,g=0;g<this.i.length;g++){t:{var A=this.i[g];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=g;break e}if(m===4096||g===this.i.length-1){m=g+1;break e}}m=1e3}else m=1e3;m=Av(this,V,m),g=Ur(this.I),st(g,"RID",c),st(g,"CVER",22),this.D&&st(g,"X-HTTP-Session-Id",this.D),Zl(this,g),U&&(this.O?m="headers="+encodeURIComponent(String(_v(U)))+"&"+m:this.m&&Wf(g,this.m,U)),zf(this.h,V),this.Ua&&st(g,"TYPE","init"),this.P?(st(g,"$req",m),st(g,"SID","null"),V.T=!0,Vf(V,g,null)):Vf(V,g,m),this.G=2}}else this.G==3&&(c?Sv(this,c):this.i.length==0||sv(this.h)||Sv(this))};function Sv(c,m){var g;m?g=m.l:g=c.U++;const A=Ur(c.I);st(A,"SID",c.K),st(A,"RID",g),st(A,"AID",c.T),Zl(c,A),c.m&&c.o&&Wf(A,c.m,c.o),g=new gi(c,c.j,g,c.B+1),c.m===null&&(g.H=c.o),m&&(c.i=m.D.concat(c.i)),m=Av(c,g,1e3),g.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),zf(c.h,g),Vf(g,A,m)}function Zl(c,m){c.H&&k(c.H,function(g,A){st(m,A,g)}),c.l&&uv({},function(g,A){st(m,A,g)})}function Av(c,m,g){g=Math.min(c.i.length,g);var A=c.l?f(c.l.Na,c.l,c):null;e:{var V=c.i;let U=-1;for(;;){const X=["count="+g];U==-1?0<g?(U=V[0].g,X.push("ofs="+U)):U=0:X.push("ofs="+U);let Xe=!0;for(let qt=0;qt<g;qt++){let We=V[qt].g;const sn=V[qt].map;if(We-=U,0>We)U=Math.max(0,V[qt].g-100),Xe=!1;else try{uP(sn,X,"req"+We+"_")}catch{A&&A(sn)}}if(Xe){A=X.join("&");break e}}}return c=c.i.splice(0,g),m.D=c,A}function Iv(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;fe||F(),q||(fe(),q=!0),ae.add(m,c),c.v=0}}function Kf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Wl(f(c.Fa,c),Nv(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,kv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Wl(f(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yn(10),vc(this),kv(this))};function qf(c){c.A!=null&&(l.clearTimeout(c.A),c.A=null)}function kv(c){c.g=new gi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=Ur(c.qa);st(m,"RID","rpc"),st(m,"SID",c.K),st(m,"AID",c.T),st(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&st(m,"TO",c.ja),st(m,"TYPE","xmlhttp"),Zl(c,m),c.m&&c.o&&Wf(m,c.m,c.o),c.L&&(c.g.I=c.L);var g=c.g;c=c.ia,g.L=1,g.v=mc(Ur(m)),g.m=null,g.P=!0,tv(g,c)}t.Za=function(){this.C!=null&&(this.C=null,vc(this),Kf(this),yn(19))};function xc(c){c.C!=null&&(l.clearTimeout(c.C),c.C=null)}function Rv(c,m){var g=null;if(c.g==m){xc(c),qf(c),c.g=null;var A=2}else if(jf(c.h,m))g=m.D,lv(c.h,m),A=1;else return;if(c.G!=0){if(m.o)if(A==1){g=m.m?m.m.length:0,m=Date.now()-m.F;var V=c.B;A=uc(),$(A,new Y0(A,g)),Ec(c)}else Iv(c);else if(V=m.s,V==3||V==0&&0<m.X||!(A==1&&fP(c,m)||A==2&&Kf(c)))switch(g&&0<g.length&&(m=c.h,m.i=m.i.concat(g)),V){case 1:As(c,5);break;case 4:As(c,10);break;case 3:As(c,6);break;default:As(c,2)}}}function Nv(c,m){let g=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(g*=2),g*m}function As(c,m){if(c.j.info("Error code "+m),m==2){var g=f(c.fb,c),A=c.Xa;const V=!A;A=new Ss(A||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||fc(A,"https"),mc(A),V?oP(A.toString(),g):lP(A.toString(),g)}else yn(2);c.G=0,c.l&&c.l.sa(m),Pv(c),Cv(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),yn(2)):(this.j.info("Failed to ping google.com"),yn(1))};function Pv(c){if(c.G=0,c.ka=[],c.l){const m=av(c.h);(m.length!=0||c.i.length!=0)&&(C(c.ka,m),C(c.ka,c.i),c.h.i.length=0,w(c.i),c.i.length=0),c.l.ra()}}function Dv(c,m,g){var A=g instanceof Ss?Ur(g):new Ss(g);if(A.g!="")m&&(A.g=m+"."+A.g),pc(A,A.s);else{var V=l.location;A=V.protocol,m=m?m+"."+V.hostname:V.hostname,V=+V.port;var U=new Ss(null);A&&fc(U,A),m&&(U.g=m),V&&pc(U,V),g&&(U.l=g),A=U}return g=c.D,m=c.ya,g&&m&&st(A,g,m),st(A,"VER",c.la),Zl(c,A),A}function bv(c,m,g){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new vt(new gc({eb:g})):new vt(c.pa),m.Ha(c.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ov(){}t=Ov.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function wc(){}wc.prototype.g=function(c,m){return new Ln(c,m)};function Ln(c,m){ke.call(this),this.g=new Tv(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!E(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!E(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new po(this)}y(Ln,ke),Ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ln.prototype.close=function(){Hf(this.g)},Ln.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.u&&(g={},g.__data__=Br(c),c=g);m.i.push(new QN(m.Ya++,c)),m.G==3&&Ec(m)},Ln.prototype.N=function(){this.g.l=null,delete this.j,Hf(this.g),delete this.g,Ln.aa.N.call(this)};function Fv(c){Ff.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const g in m){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}y(Fv,Ff);function Mv(){Mf.call(this),this.status=1}y(Mv,Mf);function po(c){this.g=c}y(po,Ov),po.prototype.ua=function(){$(this.g,"a")},po.prototype.ta=function(c){$(this.g,new Fv(c))},po.prototype.sa=function(c){$(this.g,new Mv)},po.prototype.ra=function(){$(this.g,"b")},wc.prototype.createWebChannel=wc.prototype.g,Ln.prototype.send=Ln.prototype.o,Ln.prototype.open=Ln.prototype.m,Ln.prototype.close=Ln.prototype.close,LA=function(){return new wc},MA=function(){return uc()},FA=Ts,lg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cc.NO_ERROR=0,cc.TIMEOUT=8,cc.HTTP_ERROR=6,yd=cc,X0.COMPLETE="complete",OA=X0,q0.EventType=jl,jl.OPEN="a",jl.CLOSE="b",jl.ERROR="c",jl.MESSAGE="d",ke.prototype.listen=ke.prototype.K,ya=q0,vt.prototype.listenOnce=vt.prototype.L,vt.prototype.getLastError=vt.prototype.Ka,vt.prototype.getLastErrorCode=vt.prototype.Ba,vt.prototype.getStatus=vt.prototype.Z,vt.prototype.getResponseJson=vt.prototype.Oa,vt.prototype.getResponseText=vt.prototype.oa,vt.prototype.send=vt.prototype.ea,vt.prototype.setWithCredentials=vt.prototype.Ha,bA=vt}).apply(typeof jc<"u"?jc:typeof self<"u"?self:typeof window<"u"?window:{});const ME="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pl="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=new oy("@firebase/firestore");function aa(){return Js.logLevel}function ce(t,...e){if(Js.logLevel<=Me.DEBUG){const n=e.map(yy);Js.debug(`Firestore (${Pl}): ${t}`,...n)}}function ci(t,...e){if(Js.logLevel<=Me.ERROR){const n=e.map(yy);Js.error(`Firestore (${Pl}): ${t}`,...n)}}function pl(t,...e){if(Js.logLevel<=Me.WARN){const n=e.map(yy);Js.warn(`Firestore (${Pl}): ${t}`,...n)}}function yy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(t="Unexpected state"){const e=`FIRESTORE (${Pl}) INTERNAL ASSERTION FAILED: `+t;throw ci(e),new Error(e)}function Qe(t,e){t||Te()}function Ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Fr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Y4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(dn.UNAUTHENTICATED))}shutdown(){}}class X4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Z4{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0);let r=this.i;const i=a=>this.i!==r?(r=this.i,n(a)):Promise.resolve();let s=new Xi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Xi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const a=s;e.enqueueRetryable(async()=>{await a.promise,await i(this.currentUser)})},l=a=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=a,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(a=>l(a)),setTimeout(()=>{if(!this.auth){const a=this.t.getImmediate({optional:!0});a?l(a):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Xi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string"),new $A(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new dn(e)}}class e${constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class t${constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new e$(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class n${constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class r${constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Qe(this.o===void 0);const r=s=>{s.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ce("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Qe(typeof n.token=="string"),this.R=n.token,new n$(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i$(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=i$(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function He(t,e){return t<e?-1:t>e?1:0}function ml(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new le(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Vt.fromMillis(Date.now())}static fromDate(e){return Vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Vt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Vt(0,0))}static max(){return new Ae(new Vt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n,r){n===void 0?n=0:n>e.length&&Te(),r===void 0?r=e.length-n:r>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Eu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Eu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class lt extends Eu{construct(e,n,r){return new lt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new lt(n)}static emptyPath(){return new lt([])}}const s$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends Eu{construct(e,n,r){return new Zt(e,n,r)}static isValidIdentifier(e){return s$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Zt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new le(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new le(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const a=e[i+1];if(a!=="\\"&&a!=="."&&a!=="`")throw new le(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=a,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new le(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(n)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(lt.fromString(e))}static fromName(e){return new ge(lt.fromString(e).popFirst(5))}static empty(){return new ge(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new lt(e.slice()))}}function o$(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ae.fromTimestamp(r===1e9?new Vt(n+1,0):new Vt(n,r));return new ss(i,ge.empty(),e)}function l$(t){return new ss(t.readTime,t.key,-1)}class ss{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ss(Ae.min(),ge.empty(),-1)}static max(){return new ss(Ae.max(),ge.empty(),-1)}}function a$(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(t.documentKey,e.documentKey),n!==0?n:He(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class c${constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hu(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==u$)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):K.reject(n)}static resolve(e){return new K((n,r)=>{n(e)})}static reject(e){return new K((n,r)=>{r(e)})}static waitFor(e){return new K((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},a=>r(a))}),o=!0,s===i&&n()})}static or(e){let n=K.resolve(!1);for(const r of e)n=n.next(i=>i?K.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new K((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let a=0;a<s;a++){const u=a;n(e[u]).next(d=>{o[u]=d,++l,l===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new K((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function d$(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ku(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}vy.oe=-1;function lf(t){return t==null}function fh(t){return t===0&&1/t==-1/0}function h$(t){return typeof t=="number"&&Number.isInteger(t)&&!fh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function oo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function BA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new _t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zc(this.root,e,this.comparator,!1)}getReverseIterator(){return new zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zc(this.root,e,this.comparator,!0)}}class zc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Yt.RED,this.left=i??Yt.EMPTY,this.right=s??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Yt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Yt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $E(this.data.getIterator())}getIteratorFrom(e){return new $E(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof tn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new tn(this.comparator);return n.data=e,n}}class $E{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new Bn([])}unionWith(e){let n=new tn(Zt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ml(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new UA("Invalid base64 string: "+s):s}}(e);return new rn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const f$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function os(t){if(Qe(!!t),typeof t=="string"){let e=0;const n=f$.exec(t);if(Qe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:At(t.seconds),nanos:At(t.nanos)}}function At(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qs(t){return typeof t=="string"?rn.fromBase64String(t):rn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function xy(t){const e=t.mapValue.fields.__previous_value__;return Ey(e)?xy(e):e}function xu(t){const e=os(t.mapValue.fields.__local_write_time__.timestampValue);return new Vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p${constructor(e,n,r,i,s,o,l,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=a,this.useFetchStreams=u}}class wu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new wu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof wu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ys(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ey(t)?4:g$(t)?9007199254740991:m$(t)?10:11:Te()}function Dr(t,e){if(t===e)return!0;const n=Ys(t);if(n!==Ys(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xu(t).isEqual(xu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=os(i.timestampValue),l=os(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Qs(i.bytesValue).isEqual(Qs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return At(i.geoPointValue.latitude)===At(s.geoPointValue.latitude)&&At(i.geoPointValue.longitude)===At(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return At(i.integerValue)===At(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=At(i.doubleValue),l=At(s.doubleValue);return o===l?fh(o)===fh(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return ml(t.arrayValue.values||[],e.arrayValue.values||[],Dr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(LE(o)!==LE(l))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(l[a]===void 0||!Dr(o[a],l[a])))return!1;return!0}(t,e);default:return Te()}}function Tu(t,e){return(t.values||[]).find(n=>Dr(n,e))!==void 0}function gl(t,e){if(t===e)return 0;const n=Ys(t),r=Ys(e);if(n!==r)return He(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=At(s.integerValue||s.doubleValue),a=At(o.integerValue||o.doubleValue);return l<a?-1:l>a?1:l===a?0:isNaN(l)?isNaN(a)?0:-1:1}(t,e);case 3:return VE(t.timestampValue,e.timestampValue);case 4:return VE(xu(t),xu(e));case 5:return He(t.stringValue,e.stringValue);case 6:return function(s,o){const l=Qs(s),a=Qs(o);return l.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),a=o.split("/");for(let u=0;u<l.length&&u<a.length;u++){const d=He(l[u],a[u]);if(d!==0)return d}return He(l.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=He(At(s.latitude),At(o.latitude));return l!==0?l:He(At(s.longitude),At(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return BE(t.arrayValue,e.arrayValue);case 10:return function(s,o){var l,a,u,d;const h=s.fields||{},f=o.fields||{},p=(l=h.value)===null||l===void 0?void 0:l.arrayValue,y=(a=f.value)===null||a===void 0?void 0:a.arrayValue,w=He(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((d=y==null?void 0:y.values)===null||d===void 0?void 0:d.length)||0);return w!==0?w:BE(p,y)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Wc.mapValue&&o===Wc.mapValue)return 0;if(s===Wc.mapValue)return 1;if(o===Wc.mapValue)return-1;const l=s.fields||{},a=Object.keys(l),u=o.fields||{},d=Object.keys(u);a.sort(),d.sort();for(let h=0;h<a.length&&h<d.length;++h){const f=He(a[h],d[h]);if(f!==0)return f;const p=gl(l[a[h]],u[d[h]]);if(p!==0)return p}return He(a.length,d.length)}(t.mapValue,e.mapValue);default:throw Te()}}function VE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return He(t,e);const n=os(t),r=os(e),i=He(n.seconds,r.seconds);return i!==0?i:He(n.nanos,r.nanos)}function BE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=gl(n[i],r[i]);if(s)return s}return He(n.length,r.length)}function _l(t){return ag(t)}function ag(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=os(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Qs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ge.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=ag(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${ag(n.fields[o])}`;return i+"}"}(t.mapValue):Te()}function UE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ug(t){return!!t&&"integerValue"in t}function wy(t){return!!t&&"arrayValue"in t}function jE(t){return!!t&&"nullValue"in t}function zE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function vd(t){return!!t&&"mapValue"in t}function m$(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Fa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return oo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Fa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function g$(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!vd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fa(n)}setAll(e){let n=Zt.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const a=this.getFieldsMap(n);this.applyChanges(a,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Fa(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());vd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Dr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];vd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){oo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Nn(Fa(this.value))}}function jA(t){const e=[];return oo(t.fields,(n,r)=>{const i=new Zt([n]);if(vd(r)){const s=jA(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new fn(e,0,Ae.min(),Ae.min(),Ae.min(),Nn.empty(),0)}static newFoundDocument(e,n,r,i){return new fn(e,1,n,Ae.min(),r,i,0)}static newNoDocument(e,n){return new fn(e,2,n,Ae.min(),Ae.min(),Nn.empty(),0)}static newUnknownDocument(e,n){return new fn(e,3,n,Ae.min(),Ae.min(),Nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n){this.position=e,this.inclusive=n}}function WE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ge.comparator(ge.fromName(o.referenceValue),n.key):r=gl(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function HE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Dr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n="asc"){this.field=e,this.dir=n}}function _$(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{}class Ot extends zA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new v$(e,n,r):n==="array-contains"?new w$(e,r):n==="in"?new T$(e,r):n==="not-in"?new C$(e,r):n==="array-contains-any"?new S$(e,r):new Ot(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new E$(e,r):new x$(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(gl(n,this.value)):n!==null&&Ys(this.value)===Ys(n)&&this.matchesComparison(gl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _r extends zA{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new _r(e,n)}matches(e){return WA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function WA(t){return t.op==="and"}function HA(t){return y$(t)&&WA(t)}function y$(t){for(const e of t.filters)if(e instanceof _r)return!1;return!0}function cg(t){if(t instanceof Ot)return t.field.canonicalString()+t.op.toString()+_l(t.value);if(HA(t))return t.filters.map(e=>cg(e)).join(",");{const e=t.filters.map(n=>cg(n)).join(",");return`${t.op}(${e})`}}function KA(t,e){return t instanceof Ot?function(r,i){return i instanceof Ot&&r.op===i.op&&r.field.isEqual(i.field)&&Dr(r.value,i.value)}(t,e):t instanceof _r?function(r,i){return i instanceof _r&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&KA(o,i.filters[l]),!0):!1}(t,e):void Te()}function qA(t){return t instanceof Ot?function(n){return`${n.field.canonicalString()} ${n.op} ${_l(n.value)}`}(t):t instanceof _r?function(n){return n.op.toString()+" {"+n.getFilters().map(qA).join(" ,")+"}"}(t):"Filter"}class v$ extends Ot{constructor(e,n,r){super(e,n,r),this.key=ge.fromName(r.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class E$ extends Ot{constructor(e,n){super(e,"in",n),this.keys=GA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class x$ extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=GA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function GA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ge.fromName(r.referenceValue))}class w$ extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return wy(n)&&Tu(n.arrayValue,this.value)}}class T$ extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Tu(this.value.arrayValue,n)}}class C$ extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(Tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Tu(this.value.arrayValue,n)}}class S$ extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!wy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Tu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A${constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function KE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new A$(t,e,n,r,i,s,o)}function Ty(t){const e=Ie(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>cg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),lf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>_l(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>_l(r)).join(",")),e.ue=n}return e.ue}function Cy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_$(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!KA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!HE(t.startAt,e.startAt)&&HE(t.endAt,e.endAt)}function dg(t){return ge.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,a=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function I$(t,e,n,r,i,s,o,l){return new Dl(t,e,n,r,i,s,o,l)}function JA(t){return new Dl(t)}function qE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function QA(t){return t.collectionGroup!==null}function Ma(t){const e=Ie(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new tn(Zt.comparator);return o.filters.forEach(a=>{a.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Cu(s,r))}),n.has(Zt.keyField().canonicalString())||e.ce.push(new Cu(Zt.keyField(),r))}return e.ce}function Nr(t){const e=Ie(t);return e.le||(e.le=k$(e,Ma(t))),e.le}function k$(t,e){if(t.limitType==="F")return KE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Cu(i.field,s)});const n=t.endAt?new ph(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ph(t.startAt.position,t.startAt.inclusive):null;return KE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function hg(t,e){const n=t.filters.concat([e]);return new Dl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function fg(t,e,n){return new Dl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function af(t,e){return Cy(Nr(t),Nr(e))&&t.limitType===e.limitType}function YA(t){return`${Ty(Nr(t))}|lt:${t.limitType}`}function wo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>qA(i)).join(", ")}]`),lf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>_l(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>_l(i)).join(",")),`Target(${r})`}(Nr(t))}; limitType=${t.limitType})`}function uf(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ge.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ma(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,a){const u=WE(o,l,a);return o.inclusive?u<=0:u<0}(r.startAt,Ma(r),i)||r.endAt&&!function(o,l,a){const u=WE(o,l,a);return o.inclusive?u>=0:u>0}(r.endAt,Ma(r),i))}(t,e)}function R$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function XA(t){return(e,n)=>{let r=!1;for(const i of Ma(t)){const s=N$(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function N$(t,e,n){const r=t.field.isKeyField()?ge.comparator(e.key,n.key):function(s,o,l){const a=o.data.field(s),u=l.data.field(s);return a!==null&&u!==null?gl(a,u):Te()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){oo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return BA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P$=new _t(ge.comparator);function di(){return P$}const ZA=new _t(ge.comparator);function va(...t){let e=ZA;for(const n of t)e=e.insert(n.key,n);return e}function eI(t){let e=ZA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Fs(){return La()}function tI(){return La()}function La(){return new bl(t=>t.toString(),(t,e)=>t.isEqual(e))}const D$=new _t(ge.comparator),b$=new tn(ge.comparator);function Oe(...t){let e=b$;for(const n of t)e=e.add(n);return e}const O$=new tn(He);function F$(){return O$}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fh(e)?"-0":e}}function nI(t){return{integerValue:""+t}}function M$(t,e){return h$(e)?nI(e):Sy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(){this._=void 0}}function L$(t,e,n){return t instanceof mh?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Ey(s)&&(s=xy(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Su?iI(t,e):t instanceof Au?sI(t,e):function(i,s){const o=rI(i,s),l=GE(o)+GE(i.Pe);return ug(o)&&ug(i.Pe)?nI(l):Sy(i.serializer,l)}(t,e)}function $$(t,e,n){return t instanceof Su?iI(t,e):t instanceof Au?sI(t,e):n}function rI(t,e){return t instanceof gh?function(r){return ug(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class mh extends cf{}class Su extends cf{constructor(e){super(),this.elements=e}}function iI(t,e){const n=oI(e);for(const r of t.elements)n.some(i=>Dr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Au extends cf{constructor(e){super(),this.elements=e}}function sI(t,e){let n=oI(e);for(const r of t.elements)n=n.filter(i=>!Dr(i,r));return{arrayValue:{values:n}}}class gh extends cf{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function GE(t){return At(t.integerValue||t.doubleValue)}function oI(t){return wy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function V$(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Su&&i instanceof Su||r instanceof Au&&i instanceof Au?ml(r.elements,i.elements,Dr):r instanceof gh&&i instanceof gh?Dr(r.Pe,i.Pe):r instanceof mh&&i instanceof mh}(t.transform,e.transform)}class B${constructor(e,n){this.version=e,this.transformResults=n}}class pr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new pr}static exists(e){return new pr(void 0,e)}static updateTime(e){return new pr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ed(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class df{}function lI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ay(t.key,pr.none()):new qu(t.key,t.data,pr.none());{const n=t.data,r=Nn.empty();let i=new tn(Zt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new _s(t.key,r,new Bn(i.toArray()),pr.none())}}function U$(t,e,n){t instanceof qu?function(i,s,o){const l=i.value.clone(),a=QE(i.fieldTransforms,s,o.transformResults);l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof _s?function(i,s,o){if(!Ed(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=QE(i.fieldTransforms,s,o.transformResults),a=s.data;a.setAll(aI(i)),a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function $a(t,e,n,r){return t instanceof qu?function(s,o,l,a){if(!Ed(s.precondition,o))return l;const u=s.value.clone(),d=YE(s.fieldTransforms,a,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof _s?function(s,o,l,a){if(!Ed(s.precondition,o))return l;const u=YE(s.fieldTransforms,a,o),d=o.data;return d.setAll(aI(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,l){return Ed(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function j$(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=rI(r.transform,i||null);s!=null&&(n===null&&(n=Nn.empty()),n.set(r.field,s))}return n||null}function JE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ml(r,i,(s,o)=>V$(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class qu extends df{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class _s extends df{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function aI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function QE(t,e,n){const r=new Map;Qe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,$$(o,l,n[i]))}return r}function YE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,L$(s,o,e))}return r}class Ay extends df{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class z$ extends df{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&U$(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=$a(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=$a(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=tI();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const a=lI(o,l);a!==null&&r.set(i.key,a),o.isValidDocument()||o.convertToNoDocument(Ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Oe())}isEqual(e){return this.batchId===e.batchId&&ml(this.mutations,e.mutations,(n,r)=>JE(n,r))&&ml(this.baseMutations,e.baseMutations,(n,r)=>JE(n,r))}}class Iy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Qe(e.mutations.length===r.length);let i=function(){return D$}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Iy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K${constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,$e;function q$(t){switch(t){default:return Te();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function uI(t){if(t===void 0)return ci("GRPC error has no .code"),z.UNKNOWN;switch(t){case Pt.OK:return z.OK;case Pt.CANCELLED:return z.CANCELLED;case Pt.UNKNOWN:return z.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return z.INTERNAL;case Pt.UNAVAILABLE:return z.UNAVAILABLE;case Pt.UNAUTHENTICATED:return z.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case Pt.NOT_FOUND:return z.NOT_FOUND;case Pt.ALREADY_EXISTS:return z.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return z.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case Pt.ABORTED:return z.ABORTED;case Pt.OUT_OF_RANGE:return z.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return z.UNIMPLEMENTED;case Pt.DATA_LOSS:return z.DATA_LOSS;default:return Te()}}($e=Pt||(Pt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G$(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J$=new $s([4294967295,4294967295],0);function XE(t){const e=G$().encode(t),n=new DA;return n.update(e),new Uint8Array(n.digest())}function ZE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new $s([n,r],0),new $s([i,s],0)]}class ky{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ea(`Invalid padding: ${n}`);if(r<0)throw new Ea(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ea(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ea(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=$s.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply($s.fromNumber(r)));return i.compare(J$)===1&&(i=new $s([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=XE(e),[r,i]=ZE(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new ky(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=XE(e),[r,i]=ZE(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ea extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Gu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new hf(Ae.min(),i,new _t(He),di(),Oe())}}class Gu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Gu(r,n,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class cI{constructor(e,n){this.targetId=e,this.me=n}}class dI{constructor(e,n,r=rn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class ex{constructor(){this.fe=0,this.ge=nx(),this.pe=rn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Oe(),n=Oe(),r=Oe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Te()}}),new Gu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=nx()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Q${constructor(e){this.Le=e,this.Be=new Map,this.ke=di(),this.qe=tx(),this.Qe=new _t(He)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(dg(s))if(r===0){const o=new ge(s.path);this.Ue(n,o,fn.newNoDocument(o,Ae.min()))}else Qe(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),a=l?this.Xe(l,e,o):1;if(a!==0){this.je(n);const u=a===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=Qs(r).toUint8Array()}catch(a){if(a instanceof UA)return pl("Decoding the base64 bloom filter in existence filter failed ("+a.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw a}try{l=new ky(o,i,s)}catch(a){return pl(a instanceof Ea?"BloomFilter error: ":"Applying bloom filter failed: ",a),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const l=this.Je(o);if(l){if(s.current&&dg(l.target)){const a=new ge(l.target.path);this.ke.get(a)!==null||this.it(o,a)||this.Ue(o,a,fn.newNoDocument(a,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Oe();this.qe.forEach((s,o)=>{let l=!0;o.forEachWhile(a=>{const u=this.Je(a);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new hf(e,n,this.Qe,this.ke,r);return this.ke=di(),this.qe=tx(),this.Qe=new _t(He),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new ex,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new tn(He),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ex),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function tx(){return new _t(ge.comparator)}function nx(){return new _t(ge.comparator)}const Y$={asc:"ASCENDING",desc:"DESCENDING"},X$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Z$={and:"AND",or:"OR"};class eV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function pg(t,e){return t.useProto3Json||lf(e)?e:{value:e}}function _h(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function tV(t,e){return _h(t,e.toTimestamp())}function Pr(t){return Qe(!!t),Ae.fromTimestamp(function(n){const r=os(n);return new Vt(r.seconds,r.nanos)}(t))}function Ry(t,e){return mg(t,e).canonicalString()}function mg(t,e){const n=function(i){return new lt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function fI(t){const e=lt.fromString(t);return Qe(yI(e)),e}function gg(t,e){return Ry(t.databaseId,e.path)}function Np(t,e){const n=fI(e);if(n.get(1)!==t.databaseId.projectId)throw new le(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new le(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ge(mI(n))}function pI(t,e){return Ry(t.databaseId,e)}function nV(t){const e=fI(t);return e.length===4?lt.emptyPath():mI(e)}function _g(t){return new lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mI(t){return Qe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function rx(t,e,n){return{name:gg(t,e),fields:n.value.mapValue.fields}}function rV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(Qe(d===void 0||typeof d=="string"),rn.fromBase64String(d||"")):(Qe(d===void 0||d instanceof Buffer||d instanceof Uint8Array),rn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const d=u.code===void 0?z.UNKNOWN:uI(u.code);return new le(d,u.message||"")}(o);n=new dI(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Np(t,r.document.name),s=Pr(r.document.updateTime),o=r.document.createTime?Pr(r.document.createTime):Ae.min(),l=new Nn({mapValue:{fields:r.document.fields}}),a=fn.newFoundDocument(i,s,o,l),u=r.targetIds||[],d=r.removedTargetIds||[];n=new xd(u,d,a.key,a)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Np(t,r.document),s=r.readTime?Pr(r.readTime):Ae.min(),o=fn.newNoDocument(i,s),l=r.removedTargetIds||[];n=new xd([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Np(t,r.document),s=r.removedTargetIds||[];n=new xd([],s,i,null)}else{if(!("filter"in e))return Te();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new K$(i,s),l=r.targetId;n=new cI(l,o)}}return n}function iV(t,e){let n;if(e instanceof qu)n={update:rx(t,e.key,e.value)};else if(e instanceof Ay)n={delete:gg(t,e.key)};else if(e instanceof _s)n={update:rx(t,e.key,e.data),updateMask:fV(e.fieldMask)};else{if(!(e instanceof z$))return Te();n={verify:gg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof mh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Su)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Au)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof gh)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw Te()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:tV(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Te()}(t,e.precondition)),n}function sV(t,e){return t&&t.length>0?(Qe(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Pr(i.updateTime):Pr(s);return o.isEqual(Ae.min())&&(o=Pr(s)),new B$(o,i.transformResults||[])}(n,e))):[]}function oV(t,e){return{documents:[pI(t,e.path)]}}function lV(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=pI(t,i);const s=function(u){if(u.length!==0)return _I(_r.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:To(f.field),direction:cV(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=pg(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function aV(t){let e=nV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Qe(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const f=gI(h);return f instanceof _r&&HA(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(y){return new Cu(Co(y.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(f))}(n.orderBy));let l=null;n.limit&&(l=function(h){let f;return f=typeof h=="object"?h.value:h,lf(f)?null:f}(n.limit));let a=null;n.startAt&&(a=function(h){const f=!!h.before,p=h.values||[];return new ph(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,p=h.values||[];return new ph(p,f)}(n.endAt)),I$(e,i,o,s,l,"F",a,u)}function uV(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function gI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Co(n.unaryFilter.field);return Ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Co(n.unaryFilter.field);return Ot.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Co(n.unaryFilter.field);return Ot.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Co(n.unaryFilter.field);return Ot.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(t):t.fieldFilter!==void 0?function(n){return Ot.create(Co(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return _r.create(n.compositeFilter.filters.map(r=>gI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Te()}}(n.compositeFilter.op))}(t):Te()}function cV(t){return Y$[t]}function dV(t){return X$[t]}function hV(t){return Z$[t]}function To(t){return{fieldPath:t.canonicalString()}}function Co(t){return Zt.fromServerFormat(t.fieldPath)}function _I(t){return t instanceof Ot?function(n){if(n.op==="=="){if(zE(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NAN"}};if(jE(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(zE(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NAN"}};if(jE(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:To(n.field),op:dV(n.op),value:n.value}}}(t):t instanceof _r?function(n){const r=n.getFilters().map(i=>_I(i));return r.length===1?r[0]:{compositeFilter:{op:hV(n.op),filters:r}}}(t):Te()}function fV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function yI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n,r,i,s=Ae.min(),o=Ae.min(),l=rn.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=a}withSequenceNumber(e){return new Mi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e){this.ct=e}}function mV(t){const e=aV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?fg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(){this.un=new _V}addToCollectionParentIndex(e,n){return this.un.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(ss.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(ss.min())}updateCollectionGroup(e,n,r){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class _V{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new tn(lt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new tn(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new yl(0)}static kn(){return new yl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(){this.changes=new bl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?K.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&$a(r.mutation,i,Bn.empty(),Vt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Oe()){const i=Fs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=va();return s.forEach((l,a)=>{o=o.insert(l,a.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Fs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Oe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=di();const o=La(),l=function(){return La()}();return n.forEach((a,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof _s)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),$a(d.mutation,u,d.mutation.getFieldMask(),Vt.now())):o.set(u.key,Bn.empty())}),this.recalculateAndSaveOverlays(e,s).next(a=>(a.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return l.set(u,new vV(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),l))}recalculateAndSaveOverlays(e,n){const r=La();let i=new _t((o,l)=>o-l),s=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(a=>{const u=n.get(a);if(u===null)return;let d=r.get(a)||Bn.empty();d=l.applyToLocalView(u,d),r.set(a,d);const h=(i.get(l.batchId)||Oe()).add(a);i=i.insert(l.batchId,h)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const a=l.getNext(),u=a.key,d=a.value,h=tI();d.forEach(f=>{if(!s.has(f)){const p=lI(n.get(f),r.get(f));p!==null&&h.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return K.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ge.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):QA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):K.resolve(Fs());let l=-1,a=s;return o.next(u=>K.forEach(u,(d,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),s.get(d)?K.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{a=a.insert(d,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,a,u,Oe())).next(d=>({batchId:l,changes:eI(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(r=>{let i=va();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=va();return this.indexManager.getCollectionParents(e,s).next(l=>K.forEach(l,a=>{const u=function(h,f){return new Dl(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((a,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,fn.newInvalidDocument(d)))});let l=va();return o.forEach((a,u)=>{const d=s.get(a);d!==void 0&&$a(d.mutation,u,Bn.empty(),Vt.now()),uf(n,u)&&(l=l.insert(a,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return K.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Pr(i.createTime)}}(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:mV(i.bundledQuery),readTime:Pr(i.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(){this.overlays=new _t(ge.comparator),this.Ir=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Fs();return K.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),K.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),K.resolve()}getOverlaysForCollection(e,n,r){const i=Fs(),s=n.length+1,o=new ge(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const a=l.getNext().value,u=a.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&a.largestBatchId>r&&i.set(a.getKey(),a)}return K.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new _t((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=Fs(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=Fs(),a=s.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=i)););return K.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new H$(n,r));let s=this.Ir.get(n);s===void 0&&(s=Oe(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(){this.Tr=new tn(Bt.Er),this.dr=new tn(Bt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Bt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Bt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ge(new lt([])),r=new Bt(n,e),i=new Bt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ge(new lt([])),r=new Bt(n,e),i=new Bt(n,e+1);let s=Oe();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Bt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Bt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ge.comparator(e.key,n.key)||He(e.wr,n.wr)}static Ar(e,n){return He(e.wr,n.wr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new tn(Bt.Er)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new W$(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.br=this.br.add(new Bt(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return K.resolve(o)}lookupMutationBatch(e,n){return K.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return K.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Bt(n,0),i=new Bt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const l=this.Dr(o.wr);s.push(l)}),K.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tn(He);return n.forEach(i=>{const s=new Bt(i,0),o=new Bt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],l=>{r=r.add(l.wr)})}),K.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ge.isDocumentKey(s)||(s=s.child(""));const o=new Bt(new ge(s),0);let l=new tn(He);return this.br.forEachWhile(a=>{const u=a.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(l=l.add(a.wr)),!0)},o),K.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Qe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return K.forEach(n.mutations,i=>{const s=new Bt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Bt(n,0),i=this.br.firstAfterOrEqual(r);return K.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e){this.Mr=e,this.docs=function(){return new _t(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return K.resolve(r?r.document.mutableCopy():fn.newInvalidDocument(n))}getEntries(e,n){let r=di();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():fn.newInvalidDocument(i))}),K.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=di();const o=n.path,l=new ge(o.child("")),a=this.docs.getIteratorFrom(l);for(;a.hasNext();){const{key:u,value:{document:d}}=a.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||a$(l$(d),r)<=0||(i.has(d.key)||uf(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return K.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Te()}Or(e,n){return K.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new AV(this)}getSize(e){return K.resolve(this.size)}}class AV extends yV{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),K.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e){this.persistence=e,this.Nr=new bl(n=>Ty(n),Cy),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Ny,this.targetCount=0,this.kr=yl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),K.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new yl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.Kn(n),K.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),K.waitFor(s).next(()=>i)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return K.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),K.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),K.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),K.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return K.resolve(r)}containsKey(e,n){return K.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e,n){this.qr={},this.overlays={},this.Qr=new vy(0),this.Kr=!1,this.Kr=!0,this.$r=new TV,this.referenceDelegate=e(this),this.Ur=new IV(this),this.indexManager=new gV,this.remoteDocumentCache=function(i){return new SV(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new pV(n),this.Gr=new xV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new CV(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ce("MemoryPersistence","Starting transaction:",e);const i=new RV(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return K.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class RV extends c${constructor(e){super(),this.currentSequenceNumber=e}}class Py{constructor(e){this.persistence=e,this.Jr=new Ny,this.Yr=null}static Zr(e){return new Py(e)}get Xr(){if(this.Yr)return this.Yr;throw Te()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),K.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),K.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.Xr,r=>{const i=ge.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Ae.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return K.or([()=>K.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Oe(),i=Oe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Dy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return xF()?8:d$(_n())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new NV;return this.Xi(e,n,o).next(l=>{if(s.result=l,this.zi)return this.es(e,n,o,l.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(aa()<=Me.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",wo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),K.resolve()):(aa()<=Me.DEBUG&&ce("QueryEngine","Query:",wo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(aa()<=Me.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",wo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nr(n))):K.resolve())}Yi(e,n){if(qE(n))return K.resolve(null);let r=Nr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=fg(n,null,"F"),r=Nr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Oe(...s);return this.Ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(a=>{const u=this.ts(n,l);return this.ns(n,u,o,a.readTime)?this.Yi(e,fg(n,null,"F")):this.rs(e,u,n,a)}))})))}Zi(e,n,r,i){return qE(n)||i.isEqual(Ae.min())?K.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?K.resolve(null):(aa()<=Me.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),wo(n)),this.rs(e,o,n,o$(i,-1)).next(l=>l))})}ts(e,n){let r=new tn(XA(e));return n.forEach((i,s)=>{uf(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return aa()<=Me.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",wo(n)),this.Ji.getDocumentsMatchingQuery(e,n,ss.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new _t(He),this._s=new bl(s=>Ty(s),Cy),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new EV(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function bV(t,e,n,r){return new DV(t,e,n,r)}async function vI(t,e){const n=Ie(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let a=Oe();for(const u of i){o.push(u.batchId);for(const d of u.mutations)a=a.add(d.key)}for(const u of s){l.push(u.batchId);for(const d of u.mutations)a=a.add(d.key)}return n.localDocuments.getDocuments(r,a).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:l}))})})}function OV(t,e){const n=Ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,a,u,d){const h=u.batch,f=h.keys();let p=K.resolve();return f.forEach(y=>{p=p.next(()=>d.getEntry(a,y)).next(w=>{const C=u.docVersions.get(y);Qe(C!==null),w.version.compareTo(C)<0&&(h.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),d.addEntry(w)))})}),p.next(()=>l.mutationQueue.removeMutationBatch(a,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let a=Oe();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(a=a.add(l.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function EI(t){const e=Ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function FV(t,e){const n=Ie(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const l=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;l.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,h)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(rn.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),i=i.insert(h,p),function(w,C,_){return w.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(f,p,d)&&l.push(n.Ur.updateTargetData(s,p))});let a=di(),u=Oe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),l.push(MV(s,o,e.documentUpdates).next(d=>{a=d.Ps,u=d.Is})),!r.isEqual(Ae.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(d)}return K.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,a,u)).next(()=>a)}).then(s=>(n.os=i,s))}function MV(t,e,n){let r=Oe(),i=Oe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=di();return n.forEach((l,a)=>{const u=s.get(l);a.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(l)),a.isNoDocument()&&a.version.isEqual(Ae.min())?(e.removeEntry(l,a.readTime),o=o.insert(l,a)):!u.isValidDocument()||a.version.compareTo(u.version)>0||a.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(a),o=o.insert(l,a)):ce("LocalStore","Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",a.version)}),{Ps:o,Is:i}})}function LV(t,e){const n=Ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function $V(t,e){const n=Ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,K.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Mi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function yg(t,e,n){const r=Ie(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ku(o))throw o;ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function ix(t,e,n){const r=Ie(t);let i=Ae.min(),s=Oe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(a,u,d){const h=Ie(a),f=h._s.get(d);return f!==void 0?K.resolve(h.os.get(f)):h.Ur.getTargetData(u,d)}(r,o,Nr(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,l.targetId).next(a=>{s=a})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:Ae.min(),n?s:Oe())).next(l=>(VV(r,R$(e),l),{documents:l,Ts:s})))}function VV(t,e,n){let r=t.us.get(e)||Ae.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class sx{constructor(){this.activeTargetIds=F$()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BV{constructor(){this.so=new sx,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new sx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hc=null;function Pp(){return Hc===null?Hc=function(){return 268435456+Math.round(2147483648*Math.random())}():Hc++,"0x"+Hc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class WV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const l=Pp(),a=this.xo(n,r.toUriEncodedString());ce("RestConnection",`Sending RPC '${n}' ${l}:`,a,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,a,u,i).then(d=>(ce("RestConnection",`Received RPC '${n}' ${l}: `,d),d),d=>{throw pl("RestConnection",`RPC '${n}' ${l} failed with error: `,d,"url: ",a,"request:",i),d})}Lo(n,r,i,s,o,l){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Pl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=jV[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Pp();return new Promise((o,l)=>{const a=new bA;a.setWithCredentials(!0),a.listenOnce(OA.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case yd.NO_ERROR:const d=a.getResponseJson();ce(un,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case yd.TIMEOUT:ce(un,`RPC '${e}' ${s} timed out`),l(new le(z.DEADLINE_EXCEEDED,"Request time out"));break;case yd.HTTP_ERROR:const h=a.getStatus();if(ce(un,`RPC '${e}' ${s} failed with status:`,h,"response text:",a.getResponseText()),h>0){let f=a.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const y=function(C){const _=C.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(_)>=0?_:z.UNKNOWN}(p.status);l(new le(y,p.message))}else l(new le(z.UNKNOWN,"Server responded with status "+a.getStatus()))}else l(new le(z.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{ce(un,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);ce(un,`RPC '${e}' ${s} sending request:`,i),a.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=Pp(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=LA(),l=MA(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(a.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Oo(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const d=s.join("");ce(un,`Creating RPC '${e}' stream ${i}: ${d}`,a);const h=o.createWebChannel(d,a);let f=!1,p=!1;const y=new zV({Io:C=>{p?ce(un,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(f||(ce(un,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),ce(un,`RPC '${e}' stream ${i} sending:`,C),h.send(C))},To:()=>h.close()}),w=(C,_,E)=>{C.listen(_,v=>{try{E(v)}catch(N){setTimeout(()=>{throw N},0)}})};return w(h,ya.EventType.OPEN,()=>{p||(ce(un,`RPC '${e}' stream ${i} transport opened.`),y.yo())}),w(h,ya.EventType.CLOSE,()=>{p||(p=!0,ce(un,`RPC '${e}' stream ${i} transport closed`),y.So())}),w(h,ya.EventType.ERROR,C=>{p||(p=!0,pl(un,`RPC '${e}' stream ${i} transport errored:`,C),y.So(new le(z.UNAVAILABLE,"The operation could not be completed")))}),w(h,ya.EventType.MESSAGE,C=>{var _;if(!p){const E=C.data[0];Qe(!!E);const v=E,N=v.error||((_=v[0])===null||_===void 0?void 0:_.error);if(N){ce(un,`RPC '${e}' stream ${i} received error:`,N);const L=N.status;let k=function(I){const P=Pt[I];if(P!==void 0)return uI(P)}(L),T=N.message;k===void 0&&(k=z.INTERNAL,T="Unknown error status: "+L+" with message "+N.message),p=!0,y.So(new le(k,T)),h.close()}else ce(un,`RPC '${e}' stream ${i} received:`,E),y.bo(E)}}),w(l,FA.STAT_EVENT,C=>{C.stat===lg.PROXY?ce(un,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===lg.NOPROXY&&ce(un,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}}function Dp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(t){return new eV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,n,r,i,s,o,l,a){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=a,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new xI(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(ci(n.toString()),ci("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new le(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class HV extends wI{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=rV(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ae.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ae.min():o.readTime?Pr(o.readTime):Ae.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=_g(this.serializer),n.addTarget=function(s,o){let l;const a=o.target;if(l=dg(a)?{documents:oV(s,a)}:{query:lV(s,a)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=hI(s,o.resumeToken);const u=pg(s,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(Ae.min())>0){l.readTime=_h(s,o.snapshotVersion.toTimestamp());const u=pg(s,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=uV(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=_g(this.serializer),n.removeTarget=e,this.a_(n)}}class KV extends wI{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=sV(e.writeResults,e.commitTime),r=Pr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=_g(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>iV(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new le(z.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,mg(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new le(z.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Lo(e,mg(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new le(z.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class GV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ci(n),this.D_=!1):ce("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{lo(this)&&(ce("RemoteStore","Restarting streams for network reachability change."),await async function(a){const u=Ie(a);u.L_.add(4),await Ju(u),u.q_.set("Unknown"),u.L_.delete(4),await pf(u)}(this))})}),this.q_=new GV(r,i)}}async function pf(t){if(lo(t))for(const e of t.B_)await e(!0)}async function Ju(t){for(const e of t.B_)await e(!1)}function TI(t,e){const n=Ie(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),My(n)?Fy(n):Ol(n).r_()&&Oy(n,e))}function by(t,e){const n=Ie(t),r=Ol(n);n.N_.delete(e),r.r_()&&CI(n,e),n.N_.size===0&&(r.r_()?r.o_():lo(n)&&n.q_.set("Unknown"))}function Oy(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ol(t).A_(e)}function CI(t,e){t.Q_.xe(e),Ol(t).R_(e)}function Fy(t){t.Q_=new Q$({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ol(t).start(),t.q_.v_()}function My(t){return lo(t)&&!Ol(t).n_()&&t.N_.size>0}function lo(t){return Ie(t).L_.size===0}function SI(t){t.Q_=void 0}async function QV(t){t.q_.set("Online")}async function YV(t){t.N_.forEach((e,n)=>{Oy(t,e)})}async function XV(t,e){SI(t),My(t)?(t.q_.M_(e),Fy(t)):t.q_.set("Unknown")}async function ZV(t,e,n){if(t.q_.set("Online"),e instanceof dI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.N_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.N_.delete(l),i.Q_.removeTarget(l))}(t,e)}catch(r){ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await yh(t,r)}else if(e instanceof xd?t.Q_.Ke(e):e instanceof cI?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ae.min()))try{const r=await EI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.Q_.rt(o);return l.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const d=s.N_.get(u);d&&s.N_.set(u,d.withResumeToken(a.resumeToken,o))}}),l.targetMismatches.forEach((a,u)=>{const d=s.N_.get(a);if(!d)return;s.N_.set(a,d.withResumeToken(rn.EMPTY_BYTE_STRING,d.snapshotVersion)),CI(s,a);const h=new Mi(d.target,a,u,d.sequenceNumber);Oy(s,h)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){ce("RemoteStore","Failed to raise snapshot:",r),await yh(t,r)}}async function yh(t,e,n){if(!Ku(e))throw e;t.L_.add(1),await Ju(t),t.q_.set("Offline"),n||(n=()=>EI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ce("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await pf(t)})}function AI(t,e){return e().catch(n=>yh(t,n,e))}async function mf(t){const e=Ie(t),n=ls(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;eB(e);)try{const i=await LV(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,tB(e,i)}catch(i){await yh(e,i)}II(e)&&kI(e)}function eB(t){return lo(t)&&t.O_.length<10}function tB(t,e){t.O_.push(e);const n=ls(t);n.r_()&&n.V_&&n.m_(e.mutations)}function II(t){return lo(t)&&!ls(t).n_()&&t.O_.length>0}function kI(t){ls(t).start()}async function nB(t){ls(t).p_()}async function rB(t){const e=ls(t);for(const n of t.O_)e.m_(n.mutations)}async function iB(t,e,n){const r=t.O_.shift(),i=Iy.from(r,e,n);await AI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await mf(t)}async function sB(t,e){e&&ls(t).V_&&await async function(r,i){if(function(o){return q$(o)&&o!==z.ABORTED}(i.code)){const s=r.O_.shift();ls(r).s_(),await AI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await mf(r)}}(t,e),II(t)&&kI(t)}async function lx(t,e){const n=Ie(t);n.asyncQueue.verifyOperationInProgress(),ce("RemoteStore","RemoteStore received new credentials");const r=lo(n);n.L_.add(3),await Ju(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await pf(n)}async function oB(t,e){const n=Ie(t);e?(n.L_.delete(2),await pf(n)):e||(n.L_.add(2),await Ju(n),n.q_.set("Unknown"))}function Ol(t){return t.K_||(t.K_=function(n,r,i){const s=Ie(n);return s.w_(),new HV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:QV.bind(null,t),Ro:YV.bind(null,t),mo:XV.bind(null,t),d_:ZV.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),My(t)?Fy(t):t.q_.set("Unknown")):(await t.K_.stop(),SI(t))})),t.K_}function ls(t){return t.U_||(t.U_=function(n,r,i){const s=Ie(n);return s.w_(),new KV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:nB.bind(null,t),mo:sB.bind(null,t),f_:rB.bind(null,t),g_:iB.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await mf(t)):(await t.U_.stop(),t.O_.length>0&&(ce("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new Ly(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $y(t,e){if(ci("AsyncQueue",`${e}: ${t}`),Ku(t))return new le(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ge.comparator(n.key,r.key):(n,r)=>ge.comparator(n.key,r.key),this.keyedMap=va(),this.sortedSet=new _t(this.comparator)}static emptySet(e){return new Zo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Zo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Zo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(){this.W_=new _t(ge.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Te():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class vl{constructor(e,n,r,i,s,o,l,a,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=a,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new vl(e,n,Zo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&af(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class aB{constructor(){this.queries=ux(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Ie(n),s=i.queries;i.queries=ux(),s.forEach((o,l)=>{for(const a of l.j_)a.onError(r)})})(this,new le(z.ABORTED,"Firestore shutting down"))}}function ux(){return new bl(t=>YA(t),af)}async function uB(t,e){const n=Ie(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new lB,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=$y(o,`Initialization of query '${wo(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Vy(n)}async function cB(t,e){const n=Ie(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function dB(t,e){const n=Ie(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.j_)l.X_(i)&&(r=!0);o.z_=i}}r&&Vy(n)}function hB(t,e,n){const r=Ie(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function Vy(t){t.Y_.forEach(e=>{e.next()})}var vg,cx;(cx=vg||(vg={})).ea="default",cx.Cache="cache";class fB{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new vl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=vl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==vg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e){this.key=e}}class NI{constructor(e){this.key=e}}class pB{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Oe(),this.mutatedKeys=Oe(),this.Aa=XA(e),this.Ra=new Zo(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new ax,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const a=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),p=uf(this.query,h)?h:null,y=!!f&&this.mutatedKeys.has(f.key),w=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let C=!1;f&&p?f.data.isEqual(p.data)?y!==w&&(r.track({type:3,doc:p}),C=!0):this.ga(f,p)||(r.track({type:2,doc:p}),C=!0,(a&&this.Aa(p,a)>0||u&&this.Aa(p,u)<0)&&(l=!0)):!f&&p?(r.track({type:0,doc:p}),C=!0):f&&!p&&(r.track({type:1,doc:f}),C=!0,(a||u)&&(l=!0)),C&&(p?(o=o.add(p),s=w?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:l,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,h)=>function(p,y){const w=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return w(p)-w(y)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),i=i!=null&&i;const l=n&&!i?this.ya():[],a=this.da.size===0&&this.current&&!i?1:0,u=a!==this.Ea;return this.Ea=a,o.length!==0||u?{snapshot:new vl(this.query,e.Ra,s,o,e.mutatedKeys,a===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ax,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Oe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new NI(r))}),this.da.forEach(r=>{e.has(r)||n.push(new RI(r))}),n}ba(e){this.Ta=e.Ts,this.da=Oe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return vl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class mB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class gB{constructor(e){this.key=e,this.va=!1}}class _B{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new bl(l=>YA(l),af),this.Ma=new Map,this.xa=new Set,this.Oa=new _t(ge.comparator),this.Na=new Map,this.La=new Ny,this.Ba={},this.ka=new Map,this.qa=yl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function yB(t,e,n=!0){const r=MI(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await PI(r,e,n,!0),i}async function vB(t,e){const n=MI(t);await PI(n,e,!0,!1)}async function PI(t,e,n,r){const i=await $V(t.localStore,Nr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await EB(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&TI(t.remoteStore,i),l}async function EB(t,e,n,r,i){t.Ka=(h,f,p)=>async function(w,C,_,E){let v=C.view.ma(_);v.ns&&(v=await ix(w.localStore,C.query,!1).then(({documents:T})=>C.view.ma(T,v)));const N=E&&E.targetChanges.get(C.targetId),L=E&&E.targetMismatches.get(C.targetId)!=null,k=C.view.applyChanges(v,w.isPrimaryClient,N,L);return hx(w,C.targetId,k.wa),k.snapshot}(t,h,f,p);const s=await ix(t.localStore,e,!0),o=new pB(e,s.Ts),l=o.ma(s.documents),a=Gu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(l,t.isPrimaryClient,a);hx(t,n,u.wa);const d=new mB(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function xB(t,e,n){const r=Ie(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!af(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await yg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&by(r.remoteStore,i.targetId),Eg(r,i.targetId)}).catch(Hu)):(Eg(r,i.targetId),await yg(r.localStore,i.targetId,!0))}async function wB(t,e){const n=Ie(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),by(n.remoteStore,r.targetId))}async function TB(t,e,n){const r=NB(t);try{const i=await function(o,l){const a=Ie(o),u=Vt.now(),d=l.reduce((p,y)=>p.add(y.key),Oe());let h,f;return a.persistence.runTransaction("Locally write mutations","readwrite",p=>{let y=di(),w=Oe();return a.cs.getEntries(p,d).next(C=>{y=C,y.forEach((_,E)=>{E.isValidDocument()||(w=w.add(_))})}).next(()=>a.localDocuments.getOverlayedDocuments(p,y)).next(C=>{h=C;const _=[];for(const E of l){const v=j$(E,h.get(E.key).overlayedDocument);v!=null&&_.push(new _s(E.key,v,jA(v.value.mapValue),pr.exists(!0)))}return a.mutationQueue.addMutationBatch(p,u,_,l)}).next(C=>{f=C;const _=C.applyToLocalDocumentSet(h,w);return a.documentOverlayCache.saveOverlays(p,C.batchId,_)})}).then(()=>({batchId:f.batchId,changes:eI(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,a){let u=o.Ba[o.currentUser.toKey()];u||(u=new _t(He)),u=u.insert(l,a),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await Qu(r,i.changes),await mf(r.remoteStore)}catch(i){const s=$y(i,"Failed to persist write");n.reject(s)}}async function DI(t,e){const n=Ie(t);try{const r=await FV(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Qe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Qe(o.va):i.removedDocuments.size>0&&(Qe(o.va),o.va=!1))}),await Qu(n,r,e)}catch(r){await Hu(r)}}function dx(t,e,n){const r=Ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const l=o.view.Z_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const a=Ie(o);a.onlineState=l;let u=!1;a.queries.forEach((d,h)=>{for(const f of h.j_)f.Z_(l)&&(u=!0)}),u&&Vy(a)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function CB(t,e,n){const r=Ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new _t(ge.comparator);o=o.insert(s,fn.newNoDocument(s,Ae.min()));const l=Oe().add(s),a=new hf(Ae.min(),new Map,new _t(He),o,l);await DI(r,a),r.Oa=r.Oa.remove(s),r.Na.delete(e),By(r)}else await yg(r.localStore,e,!1).then(()=>Eg(r,e,n)).catch(Hu)}async function SB(t,e){const n=Ie(t),r=e.batch.batchId;try{const i=await OV(n.localStore,e);OI(n,r,null),bI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Qu(n,i)}catch(i){await Hu(i)}}async function AB(t,e,n){const r=Ie(t);try{const i=await function(o,l){const a=Ie(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return a.mutationQueue.lookupMutationBatch(u,l).next(h=>(Qe(h!==null),d=h.keys(),a.mutationQueue.removeMutationBatch(u,h))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>a.localDocuments.getDocuments(u,d))})}(r.localStore,e);OI(r,e,n),bI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Qu(r,i)}catch(i){await Hu(i)}}function bI(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function OI(t,e,n){const r=Ie(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Eg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||FI(t,r)})}function FI(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(by(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),By(t))}function hx(t,e,n){for(const r of n)r instanceof RI?(t.La.addReference(r.key,e),IB(t,r)):r instanceof NI?(ce("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||FI(t,r.key)):Te()}function IB(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ce("SyncEngine","New document in limbo: "+n),t.xa.add(r),By(t))}function By(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ge(lt.fromString(e)),r=t.qa.next();t.Na.set(r,new gB(n)),t.Oa=t.Oa.insert(n,r),TI(t.remoteStore,new Mi(Nr(JA(n.path)),r,"TargetPurposeLimboResolution",vy.oe))}}async function Qu(t,e,n){const r=Ie(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((l,a)=>{o.push(r.Ka(a,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(a.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(a.targetId,h?"current":"not-current")}if(u){i.push(u);const h=Dy.Wi(a.targetId,u);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(a,u){const d=Ie(a);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>K.forEach(u,f=>K.forEach(f.$i,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>K.forEach(f.Ui,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!Ku(h))throw h;ce("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const p=d.os.get(f),y=p.snapshotVersion,w=p.withLastLimboFreeSnapshotVersion(y);d.os=d.os.insert(f,w)}}}(r.localStore,s))}async function kB(t,e){const n=Ie(t);if(!n.currentUser.isEqual(e)){ce("SyncEngine","User change. New user:",e.toKey());const r=await vI(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(l=>{l.forEach(a=>{a.reject(new le(z.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Qu(n,r.hs)}}function RB(t,e){const n=Ie(t),r=n.Na.get(e);if(r&&r.va)return Oe().add(r.key);{let i=Oe();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const l=n.Fa.get(o);i=i.unionWith(l.view.Va)}return i}}function MI(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=DI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CB.bind(null,e),e.Ca.d_=dB.bind(null,e.eventManager),e.Ca.$a=hB.bind(null,e.eventManager),e}function NB(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=AB.bind(null,e),e}class vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ff(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return bV(this.persistence,new PV,e.initialUser,this.serializer)}Ga(e){return new kV(Py.Zr,this.serializer)}Wa(e){return new BV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vh.provider={build:()=>new vh};class xg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kB.bind(null,this.syncEngine),await oB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new aB}()}createDatastore(e){const n=ff(e.databaseInfo.databaseId),r=function(s){return new WV(s)}(e.databaseInfo);return function(s,o,l,a){return new qV(s,o,l,a)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new JV(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>dx(this.syncEngine,n,0),function(){return ox.D()?new ox:new UV}())}createSyncEngine(e,n){return function(i,s,o,l,a,u,d){const h=new _B(i,s,o,l,a,u);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Ie(i);ce("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Ju(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}xg.provider={build:()=>new xg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ci("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=dn.UNAUTHENTICATED,this.clientId=VA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{ce("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ce("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=$y(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function bp(t,e){t.asyncQueue.verifyOperationInProgress(),ce("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await vI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function fx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await bB(t);ce("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>lx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>lx(e.remoteStore,i)),t._onlineComponents=e}async function bB(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await bp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===z.FAILED_PRECONDITION||i.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;pl("Error using user provided cache. Falling back to memory cache: "+n),await bp(t,new vh)}}else ce("FirestoreClient","Using default OfflineComponentProvider"),await bp(t,new vh);return t._offlineComponents}async function LI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce("FirestoreClient","Using user provided OnlineComponentProvider"),await fx(t,t._uninitializedComponentsProvider._online)):(ce("FirestoreClient","Using default OnlineComponentProvider"),await fx(t,new xg))),t._onlineComponents}function OB(t){return LI(t).then(e=>e.syncEngine)}async function FB(t){const e=await LI(t),n=e.eventManager;return n.onListen=yB.bind(null,e.syncEngine),n.onUnlisten=xB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=vB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=wB.bind(null,e.syncEngine),n}function MB(t,e,n={}){const r=new Xi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,a,u){const d=new PB({next:f=>{d.Za(),o.enqueueAndForget(()=>cB(s,h)),f.fromCache&&a.source==="server"?u.reject(new le(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new fB(l,d,{includeMetadataChanges:!0,_a:!0});return uB(s,h)}(await FB(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(t,e,n){if(!n)throw new le(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function LB(t,e,n,r){if(e===!0&&r===!0)throw new le(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function mx(t){if(!ge.isDocumentKey(t))throw new le(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function gx(t){if(ge.isDocumentKey(t))throw new le(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function gf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Te()}function Xs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new le(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gf(t);throw new le(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new le(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new le(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$I((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _f{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _x({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _x(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Y4;switch(r.type){case"firstParty":return new t$(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=px.get(n);r&&(ce("ComponentProvider","Removing Datastore"),px.delete(n),r.terminate())}(this),Promise.resolve()}}function $B(t,e,n,r={}){var i;const s=(t=Xs(t,_f))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&pl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,a;if(typeof r.mockUserToken=="string")l=r.mockUserToken,a=dn.MOCK_USER;else{l=qS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new le(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new dn(u)}t._authCredentials=new X4(new $A(l,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ao(this.firestore,e,this._query)}}class jn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jn(this.firestore,e,this._key)}}class Zi extends ao{constructor(e,n,r){super(e,n,JA(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jn(this.firestore,null,new ge(e))}withConverter(e){return new Zi(this.firestore,e,this._path)}}function yx(t,e,...n){if(t=gt(t),VI("collection","path",e),t instanceof _f){const r=lt.fromString(e,...n);return gx(r),new Zi(t,null,r)}{if(!(t instanceof jn||t instanceof Zi))throw new le(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return gx(r),new Zi(t.firestore,null,r)}}function wg(t,e,...n){if(t=gt(t),arguments.length===1&&(e=VA.newId()),VI("doc","path",e),t instanceof _f){const r=lt.fromString(e,...n);return mx(r),new jn(t,null,new ge(r))}{if(!(t instanceof jn||t instanceof Zi))throw new le(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return mx(r),new jn(t.firestore,t instanceof Zi?t.converter:null,new ge(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new xI(this,"async_queue_retry"),this.Vu=()=>{const r=Dp();r&&ce("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Dp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Dp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Xi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ku(e))throw e;ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw ci("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Ly.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&Te()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Yu extends _f{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new vx,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vx(e),this._firestoreClient=void 0,await e}}}function VB(t,e){const n=typeof t=="object"?t:ay(),r=typeof t=="string"?t:"(default)",i=tf(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=WS("firestore");s&&$B(i,...s)}return i}function BI(t){if(t._terminated)throw new le(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||BB(t),t._firestoreClient}function BB(t){var e,n,r;const i=t._freezeSettings(),s=function(l,a,u,d){return new p$(l,a,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,$I(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new DB(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const a=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(a),_online:a}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e){this._byteString=e}static fromBase64String(e){try{return new El(rn.fromBase64String(e))}catch(n){throw new le(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new El(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UB=/^__.*__$/;class jB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new _s(e,this.data,this.fieldMask,n,this.fieldTransforms):new qu(e,this.data,n,this.fieldTransforms)}}class UI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new _s(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function jI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class Wy{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Wy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Eh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(jI(this.Cu)&&UB.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class zB{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ff(e)}Qu(e,n,r,i=!1){return new Wy({Cu:e,methodName:n,qu:r,path:Zt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hy(t){const e=t._freezeSettings(),n=ff(t._databaseId);return new zB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function WB(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);Ky("Data must be an object, but it was:",o,r);const l=zI(r,o);let a,u;if(s.merge)a=new Bn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=Tg(e,h,n);if(!o.contains(f))throw new le(z.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);HI(d,f)||d.push(f)}a=new Bn(d),u=o.fieldTransforms.filter(h=>a.covers(h.field))}else a=null,u=o.fieldTransforms;return new jB(new Nn(l),a,u)}class vf extends Uy{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vf}}function HB(t,e,n,r){const i=t.Qu(1,e,n);Ky("Data must be an object, but it was:",i,r);const s=[],o=Nn.empty();oo(r,(a,u)=>{const d=qy(e,a,n);u=gt(u);const h=i.Nu(d);if(u instanceof vf)s.push(d);else{const f=Xu(u,h);f!=null&&(s.push(d),o.set(d,f))}});const l=new Bn(s);return new UI(o,l,i.fieldTransforms)}function KB(t,e,n,r,i,s){const o=t.Qu(1,e,n),l=[Tg(e,r,n)],a=[i];if(s.length%2!=0)throw new le(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)l.push(Tg(e,s[f])),a.push(s[f+1]);const u=[],d=Nn.empty();for(let f=l.length-1;f>=0;--f)if(!HI(u,l[f])){const p=l[f];let y=a[f];y=gt(y);const w=o.Nu(p);if(y instanceof vf)u.push(p);else{const C=Xu(y,w);C!=null&&(u.push(p),d.set(p,C))}}const h=new Bn(u);return new UI(d,h,o.fieldTransforms)}function qB(t,e,n,r=!1){return Xu(n,t.Qu(r?4:3,e))}function Xu(t,e){if(WI(t=gt(t)))return Ky("Unsupported field value:",e,t),zI(t,e);if(t instanceof Uy)return function(r,i){if(!jI(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let a=Xu(l,i.Lu(o));a==null&&(a={nullValue:"NULL_VALUE"}),s.push(a),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=gt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return M$(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Vt.fromDate(r);return{timestampValue:_h(i.serializer,s)}}if(r instanceof Vt){const s=new Vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_h(i.serializer,s)}}if(r instanceof jy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof El)return{bytesValue:hI(i.serializer,r._byteString)};if(r instanceof jn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ry(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof zy)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(a=>{if(typeof a!="number")throw l.Bu("VectorValues must only contain numeric values.");return Sy(l.serializer,a)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${gf(r)}`)}(t,e)}function zI(t,e){const n={};return BA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oo(t,(r,i)=>{const s=Xu(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function WI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Vt||t instanceof jy||t instanceof El||t instanceof jn||t instanceof Uy||t instanceof zy)}function Ky(t,e,n){if(!WI(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=gf(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Tg(t,e,n){if((e=gt(e))instanceof yf)return e._internalPath;if(typeof e=="string")return qy(t,e);throw Eh("Field path arguments must be of type string or ",t,!1,void 0,n)}const GB=new RegExp("[~\\*/\\[\\]]");function qy(t,e,n){if(e.search(GB)>=0)throw Eh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new yf(...e.split("."))._internalPath}catch{throw Eh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Eh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let a="";return(s||o)&&(a+=" (found",s&&(a+=` in field ${r}`),o&&(a+=` in document ${i}`),a+=")"),new le(z.INVALID_ARGUMENT,l+t+a)}function HI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new JB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Gy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class JB extends KI{data(){return super.data()}}function Gy(t,e){return typeof e=="string"?qy(t,e):e instanceof yf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new le(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jy{}class qI extends Jy{}function YB(t,e,...n){let r=[];e instanceof Jy&&r.push(e),r=r.concat(n),function(s){const o=s.filter(a=>a instanceof Yy).length,l=s.filter(a=>a instanceof Qy).length;if(o>1||o>0&&l>0)throw new le(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Qy extends qI{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Qy(e,n,r)}_apply(e){const n=this._parse(e);return GI(e._query,n),new ao(e.firestore,e.converter,hg(e._query,n))}_parse(e){const n=Hy(e.firestore);return function(s,o,l,a,u,d,h){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new le(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){xx(h,d);const p=[];for(const y of h)p.push(Ex(a,s,y));f={arrayValue:{values:p}}}else f=Ex(a,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||xx(h,d),f=qB(l,o,h,d==="in"||d==="not-in");return Ot.create(u,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Yy extends Jy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Yy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:_r.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const a of l)GI(o,a),o=hg(o,a)}(e._query,n),new ao(e.firestore,e.converter,hg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Xy extends qI{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Xy(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new le(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new le(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Cu(s,o)}(e._query,this._field,this._direction);return new ao(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Dl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function XB(t,e="asc"){const n=e,r=Gy("orderBy",t);return Xy._create(r,n)}function Ex(t,e,n){if(typeof(n=gt(n))=="string"){if(n==="")throw new le(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QA(e)&&n.indexOf("/")!==-1)throw new le(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(lt.fromString(n));if(!ge.isDocumentKey(r))throw new le(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return UE(t,new ge(r))}if(n instanceof jn)return UE(t,n._key);throw new le(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gf(n)}.`)}function xx(t,e){if(!Array.isArray(t)||t.length===0)throw new le(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function GI(t,e){const n=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new le(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ZB{convertValue(e,n="none"){switch(Ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return oo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>At(o.doubleValue));return new zy(s)}convertGeoPoint(e){return new jy(At(e.latitude),At(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=xy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(xu(e));default:return null}}convertTimestamp(e){const n=os(e);return new Vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=lt.fromString(e);Qe(yI(r));const i=new wu(r.get(1),r.get(3)),s=new ge(r.popFirst(5));return i.isEqual(n)||ci(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class t3 extends KI{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new wd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Gy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class wd extends t3{data(e={}){return super.data(e)}}class n3{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Kc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new wd(this._firestore,this._userDataWriter,r.key,r,new Kc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const a=new wd(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Kc(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:a,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const a=new wd(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Kc(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:r3(l.type),doc:a,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function r3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}class i3 extends ZB{constructor(e){super(),this.firestore=e}convertBytes(e){return new El(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jn(this.firestore,null,n)}}function s3(t){t=Xs(t,ao);const e=Xs(t.firestore,Yu),n=BI(e),r=new i3(e);return QB(t._query),MB(n,t._query).then(i=>new n3(e,r,t,i))}function o3(t,e,n,...r){t=Xs(t,jn);const i=Xs(t.firestore,Yu),s=Hy(i);let o;return o=typeof(e=gt(e))=="string"||e instanceof yf?KB(s,"updateDoc",t._key,e,n,r):HB(s,"updateDoc",t._key,e),Zy(i,[o.toMutation(t._key,pr.exists(!0))])}function l3(t){return Zy(Xs(t.firestore,Yu),[new Ay(t._key,pr.none())])}function a3(t,e){const n=Xs(t.firestore,Yu),r=wg(t),i=e3(t.converter,e);return Zy(n,[WB(Hy(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,pr.exists(!1))]).then(()=>r)}function Zy(t,e){return function(r,i){const s=new Xi;return r.asyncQueue.enqueueAndForget(async()=>TB(await OB(r),i,s)),s.promise}(BI(t),e)}(function(e,n=!0){(function(i){Pl=i})(io),qs(new is("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new Yu(new Z4(r.getProvider("auth-internal")),new r$(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new le(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wu(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Ir(ME,"4.7.3",e),Ir(ME,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="firebasestorage.googleapis.com",QI="storageBucket",u3=2*60*1e3,c3=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt extends Fr{constructor(e,n,r=0){super(Op(e),`Firebase Storage: ${n} (${Op(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Tt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Op(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var wt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(wt||(wt={}));function Op(t){return"storage/"+t}function e0(){const t="An unknown error occurred, please check the error payload for server response.";return new Tt(wt.UNKNOWN,t)}function d3(t){return new Tt(wt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function h3(t){return new Tt(wt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function f3(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Tt(wt.UNAUTHENTICATED,t)}function p3(){return new Tt(wt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function m3(t){return new Tt(wt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function g3(){return new Tt(wt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function _3(){return new Tt(wt.CANCELED,"User canceled the upload/download.")}function y3(t){return new Tt(wt.INVALID_URL,"Invalid URL '"+t+"'.")}function v3(t){return new Tt(wt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function E3(){return new Tt(wt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+QI+"' property when initializing the app?")}function x3(){return new Tt(wt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function w3(){return new Tt(wt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function T3(t){return new Tt(wt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Cg(t){return new Tt(wt.INVALID_ARGUMENT,t)}function YI(){return new Tt(wt.APP_DELETED,"The Firebase app was deleted.")}function C3(t){return new Tt(wt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Va(t,e){return new Tt(wt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ua(t){throw new Tt(wt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Cn.makeFromUrl(e,n)}catch{return new Cn(e,"")}if(r.path==="")return r;throw v3(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),a={bucket:1,path:3};function u(N){N.path_=decodeURIComponent(N.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${d}/b/${i}/o${f}`,"i"),y={bucket:1,path:3},w=n===JI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",_=new RegExp(`^https?://${w}/${i}/${C}`,"i"),v=[{regex:l,indices:a,postModify:s},{regex:p,indices:y,postModify:u},{regex:_,indices:{bucket:1,path:2},postModify:u}];for(let N=0;N<v.length;N++){const L=v[N],k=L.regex.exec(e);if(k){const T=k[L.indices.bucket];let x=k[L.indices.path];x||(x=""),r=new Cn(T,x),L.postModify(r);break}}if(r==null)throw y3(e);return r}}class S3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(t,e,n){let r=1,i=null,s=null,o=!1,l=0;function a(){return l===2}let u=!1;function d(...C){u||(u=!0,e.apply(null,C))}function h(C){i=setTimeout(()=>{i=null,t(p,a())},C)}function f(){s&&clearTimeout(s)}function p(C,..._){if(u){f();return}if(C){f(),d.call(null,C,..._);return}if(a()||o){f(),d.call(null,C,..._);return}r<64&&(r*=2);let v;l===1?(l=2,v=0):v=(r+Math.random())*1e3,h(v)}let y=!1;function w(C){y||(y=!0,f(),!u&&(i!==null?(C||(l=2),clearTimeout(i),h(0)):C||(l=1)))}return h(0),s=setTimeout(()=>{o=!0,w(!0)},n),w}function I3(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k3(t){return t!==void 0}function R3(t){return typeof t=="object"&&!Array.isArray(t)}function t0(t){return typeof t=="string"||t instanceof String}function wx(t){return n0()&&t instanceof Blob}function n0(){return typeof Blob<"u"}function Sg(t,e,n,r){if(r<e)throw Cg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Cg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function XI(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Vs;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Vs||(Vs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N3(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e,n,r,i,s,o,l,a,u,d,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=a,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,y)=>{this.resolve_=p,this.reject_=y,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new qc(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=l=>{const a=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(a,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const l=s.getErrorCode()===Vs.NO_ERROR,a=s.getStatus();if(!l||N3(a,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===Vs.ABORT;r(!1,new qc(!1,null,d));return}const u=this.successCodes_.indexOf(a)!==-1;r(!0,new qc(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const a=this.callback_(l,l.getResponse());k3(a)?s(a):s()}catch(a){o(a)}else if(l!==null){const a=e0();a.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,a)):o(a)}else if(i.canceled){const a=this.appDelete_?YI():_3();o(a)}else{const a=g3();o(a)}};this.canceled_?n(!1,new qc(!1,null,!0)):this.backoffId_=A3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&I3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class qc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function D3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function b3(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function O3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function F3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function M3(t,e,n,r,i,s,o=!0){const l=XI(t.urlParams),a=t.url+l,u=Object.assign({},t.headers);return O3(u,e),D3(u,n),b3(u,s),F3(u,r),new P3(a,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function $3(...t){const e=L3();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(n0())return new Blob(t);throw new Tt(wt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function V3(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(t){if(typeof atob>"u")throw T3("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Fp{constructor(e,n){this.data=e,this.contentType=n||null}}function U3(t,e){switch(t){case Tr.RAW:return new Fp(ZI(e));case Tr.BASE64:case Tr.BASE64URL:return new Fp(ek(t,e));case Tr.DATA_URL:return new Fp(z3(e),W3(e))}throw e0()}function ZI(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function j3(t){let e;try{e=decodeURIComponent(t)}catch{throw Va(Tr.DATA_URL,"Malformed data URL.")}return ZI(e)}function ek(t,e){switch(t){case Tr.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Va(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Tr.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Va(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=B3(e)}catch(i){throw i.message.includes("polyfill")?i:Va(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class tk{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Va(Tr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=H3(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function z3(t){const e=new tk(t);return e.base64?ek(Tr.BASE64,e.rest):j3(e.rest)}function W3(t){return new tk(t).contentType}function H3(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,n){let r=0,i="";wx(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(wx(this.data_)){const r=this.data_,i=V3(r,e,n);return i===null?null:new Di(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Di(r,!0)}}static getBlob(...e){if(n0()){const n=e.map(r=>r instanceof Di?r.data_:r);return new Di($3.apply(null,n))}else{const n=e.map(o=>t0(o)?U3(Tr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)i[s++]=o[l]}),new Di(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(t){let e;try{e=JSON.parse(t)}catch{return null}return R3(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K3(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function q3(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function nk(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G3(t,e){return e}class vn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||G3}}let Gc=null;function J3(t){return!t0(t)||t.length<2?t:nk(t)}function i0(){if(Gc)return Gc;const t=[];t.push(new vn("bucket")),t.push(new vn("generation")),t.push(new vn("metageneration")),t.push(new vn("name","fullPath",!0));function e(s,o){return J3(o)}const n=new vn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new vn("size");return i.xform=r,t.push(i),t.push(new vn("timeCreated")),t.push(new vn("updated")),t.push(new vn("md5Hash",null,!0)),t.push(new vn("cacheControl",null,!0)),t.push(new vn("contentDisposition",null,!0)),t.push(new vn("contentEncoding",null,!0)),t.push(new vn("contentLanguage",null,!0)),t.push(new vn("contentType",null,!0)),t.push(new vn("metadata","customMetadata",!0)),Gc=t,Gc}function Q3(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Cn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function Y3(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return Q3(r,t),r}function rk(t,e,n){const r=r0(e);return r===null?null:Y3(t,r,n)}function X3(t,e,n,r){const i=r0(e);if(i===null||!t0(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const d=t.bucket,h=t.fullPath,f="/b/"+o(d)+"/o/"+o(h),p=Zu(f,n,r),y=XI({alt:"media",token:u});return p+y})[0]}function Z3(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx="prefixes",Cx="items";function e6(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[Tx])for(const i of n[Tx]){const s=i.replace(/\/$/,""),o=t._makeStorageReference(new Cn(e,s));r.prefixes.push(o)}if(n[Cx])for(const i of n[Cx]){const s=t._makeStorageReference(new Cn(e,i.name));r.items.push(s)}return r}function t6(t,e,n){const r=r0(n);return r===null?null:e6(t,e,r)}class Ef{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(t){if(!t)throw e0()}function ik(t,e){function n(r,i){const s=rk(t,i,e);return s0(s!==null),s}return n}function n6(t,e){function n(r,i){const s=t6(t,e,i);return s0(s!==null),s}return n}function r6(t,e){function n(r,i){const s=rk(t,i,e);return s0(s!==null),X3(s,i,t.host,t._protocol)}return n}function o0(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=p3():i=f3():n.getStatus()===402?i=h3(t.bucket):n.getStatus()===403?i=m3(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function sk(t){const e=o0(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=d3(t.path)),s.serverResponse=i.serverResponse,s}return n}function i6(t,e,n){const r=e.fullServerUrl(),i=Zu(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,l=new Ef(i,s,ik(t,n),o);return l.errorHandler=sk(e),l}function s6(t,e,n,r,i){const s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const o=e.bucketOnlyServerUrl(),l=Zu(o,t.host,t._protocol),a="GET",u=t.maxOperationRetryTime,d=new Ef(l,a,n6(t,e.bucket),u);return d.urlParams=s,d.errorHandler=o0(e),d}function o6(t,e,n){const r=e.fullServerUrl(),i=Zu(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,l=new Ef(i,s,r6(t,n),o);return l.errorHandler=sk(e),l}function l6(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function a6(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=l6(null,e)),r}function u6(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let v="";for(let N=0;N<2;N++)v=v+Math.random().toString().slice(2);return v}const a=l();o["Content-Type"]="multipart/related; boundary="+a;const u=a6(e,r,i),d=Z3(u,n),h="--"+a+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+a+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+a+"--",p=Di.getBlob(h,r,f);if(p===null)throw x3();const y={name:u.fullPath},w=Zu(s,t.host,t._protocol),C="POST",_=t.maxUploadRetryTime,E=new Ef(w,C,ik(t,n),_);return E.urlParams=y,E.headers=o,E.body=p.uploadData(),E.errorHandler=o0(e),E}class c6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Vs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Vs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Vs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw ua("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ua("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ua("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ua("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ua("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class d6 extends c6{initXhr(){this.xhr_.responseType="text"}}function xf(){return new d6}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,n){this._service=e,n instanceof Cn?this._location=n:this._location=Cn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Zs(e,n)}get root(){const e=new Cn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return nk(this._location.path)}get storage(){return this._service}get parent(){const e=K3(this._location.path);if(e===null)return null;const n=new Cn(this._location.bucket,e);return new Zs(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw C3(e)}}function h6(t,e,n){t._throwIfRoot("uploadBytes");const r=u6(t.storage,t._location,i0(),new Di(e,!0),n);return t.storage.makeRequestWithTokens(r,xf).then(i=>({metadata:i,ref:t}))}function f6(t){const e={prefixes:[],items:[]};return ok(t,e).then(()=>e)}async function ok(t,e,n){const i=await p6(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await ok(t,e,i.nextPageToken)}function p6(t,e){e!=null&&typeof e.maxResults=="number"&&Sg("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=s6(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,xf)}function m6(t){t._throwIfRoot("getMetadata");const e=i6(t.storage,t._location,i0());return t.storage.makeRequestWithTokens(e,xf)}function g6(t){t._throwIfRoot("getDownloadURL");const e=o6(t.storage,t._location,i0());return t.storage.makeRequestWithTokens(e,xf).then(n=>{if(n===null)throw w3();return n})}function _6(t,e){const n=q3(t._location.path,e),r=new Cn(t._location.bucket,n);return new Zs(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y6(t){return/^[A-Za-z]+:\/\//.test(t)}function v6(t,e){return new Zs(t,e)}function lk(t,e){if(t instanceof l0){const n=t;if(n._bucket==null)throw E3();const r=new Zs(n,n._bucket);return e!=null?lk(r,e):r}else return e!==void 0?_6(t,e):t}function E6(t,e){if(e&&y6(e)){if(t instanceof l0)return v6(t,e);throw Cg("To use ref(service, url), the first argument must be a Storage instance.")}else return lk(t,e)}function Sx(t,e){const n=e==null?void 0:e[QI];return n==null?null:Cn.makeFromBucketSpec(n,t)}function x6(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:qS(i,t.app.options.projectId))}class l0{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=JI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=u3,this._maxUploadRetryTime=c3,this._requests=new Set,i!=null?this._bucket=Cn.makeFromBucketSpec(i,this._host):this._bucket=Sx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Cn.makeFromBucketSpec(this._url,e):this._bucket=Sx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Sg("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Sg("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Zs(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new S3(YI());{const o=M3(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Ax="@firebase/storage",Ix="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak="storage";function w6(t,e,n){return t=gt(t),h6(t,e,n)}function T6(t){return t=gt(t),m6(t)}function C6(t){return t=gt(t),f6(t)}function uk(t){return t=gt(t),g6(t)}function ck(t,e){return t=gt(t),E6(t,e)}function S6(t=ay(),e){t=gt(t);const r=tf(t,ak).getImmediate({identifier:e}),i=WS("storage");return i&&A6(r,...i),r}function A6(t,e,n,r={}){x6(t,e,n,r)}function I6(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new l0(n,r,i,e,io)}function k6(){qs(new is(ak,I6,"PUBLIC").setMultipleInstances(!0)),Ir(Ax,Ix,""),Ir(Ax,Ix,"esm2017")}k6();const R6={apiKey:"AIzaSyD2y13lhBpCpy0EmbvndXmgxl4zwtZd3a8",authDomain:"oday-portfolioo.firebaseapp.com",projectId:"oday-portfolioo",storageBucket:"oday-portfolioo.appspot.com",messagingSenderId:"852717184187",appId:"1:852717184187:web:c26b022234feeef73bb59e",measurementId:"G-MVRYBNRPMJ"},a0=QS(R6),kx=q4(a0),Jc=VB(a0),dk=S6(a0),u0=VS()(oF(t=>({user:null,isAuthenticated:!1,login:async(e,n)=>{try{const r=await bL(kx,e,n);t({user:r.user,isAuthenticated:!0})}catch(r){throw r}},logout:async()=>{try{await ML(kx),t({user:null,isAuthenticated:!1})}catch(e){throw e}}}),{name:"auth-storage"})),N6=()=>{const[t,e]=H.useState(""),[n,r]=H.useState(""),[i,s]=H.useState(""),o=u0(u=>u.login),l=kl(),a=async u=>{u.preventDefault(),s("");try{await o(t,n),l("/admin/dashboard")}catch{s("Invalid email or password")}};return b.jsx("div",{className:"min-h-screen flex items-center justify-center px-4",children:b.jsxs("div",{className:"max-w-md w-full space-y-8 p-8 glass-effect rounded-xl",children:[b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-blue-500/20",children:b.jsx(Xb,{className:"h-6 w-6 text-blue-500"})}),b.jsx("h2",{className:"mt-6 text-3xl font-bold",children:"Admin Login"}),b.jsx("p",{className:"mt-2 text-sm text-gray-400",children:"Use your admin credentials to login"})]}),b.jsxs("form",{className:"mt-8 space-y-6",onSubmit:a,children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email"}),b.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:"appearance-none rounded-lg relative block w-full px-3 py-2 border border-gray-700 bg-black/50 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Email",value:t,onChange:u=>e(u.target.value)})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),b.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-lg relative block w-full px-3 py-2 border border-gray-700 bg-black/50 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Password",value:n,onChange:u=>r(u.target.value)})]}),i&&b.jsx("div",{className:"text-red-500 text-sm text-center",children:i}),b.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Sign in"})]})]})})},Ba=VS()((t,e)=>({posts:[],loading:!1,fetchPosts:async()=>{t({loading:!0});try{const n=YB(yx(Jc,"posts"),XB("date","desc")),i=(await s3(n)).docs.map(s=>({id:s.id,...s.data()}));t({posts:i})}catch(n){console.error("Error fetching posts:",n)}finally{t({loading:!1})}},addPost:async n=>{try{const r={...n,date:new Date().toISOString().split("T")[0]};await a3(yx(Jc,"posts"),r),e().fetchPosts()}catch(r){throw console.error("Error adding post:",r),r}},updatePost:async(n,r)=>{try{const i=wg(Jc,"posts",n);await o3(i,r),e().fetchPosts()}catch(i){throw console.error("Error updating post:",i),i}},deletePost:async n=>{try{const r=wg(Jc,"posts",n);await l3(r),e().fetchPosts()}catch(r){throw console.error("Error deleting post:",r),r}}})),P6=()=>{const t=Ba(a=>a.posts),e=Ba(a=>a.deletePost),n=u0(a=>a.logout),r=kl(),[i,s]=H.useState(!1),o=()=>{n(),r("/admin/login")},l=async a=>{var d;const u=(d=a.target.files)==null?void 0:d[0];if(u){s(!0);try{const h=ck(dk,`downloads/${u.name}`);await w6(h,u);const f=await uk(h);console.log("File uploaded successfully:",f),alert("File uploaded successfully!")}catch(h){console.error("Error uploading file:",h),alert("Error uploading file. Please try again.")}finally{s(!1)}}};return b.jsx("div",{className:"min-h-screen p-6 sm:p-8",children:b.jsxs("div",{className:"max-w-6xl mx-auto",children:[b.jsxs("div",{className:"flex justify-between items-center mb-8",children:[b.jsx("h1",{className:"text-3xl font-bold",children:"Admin Dashboard"}),b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs(ri,{to:"/admin/posts/new",className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[b.jsx(nO,{className:"w-4 h-4"}),"New Post"]}),b.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors cursor-pointer",children:[b.jsx(lO,{className:"w-4 h-4"}),"Upload File",b.jsx("input",{type:"file",className:"hidden",onChange:l,disabled:i})]}),b.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-4 py-2 border border-gray-700 rounded-lg hover:bg-white/5 transition-colors",children:[b.jsx(Zb,{className:"w-4 h-4"}),"Logout"]})]})]}),b.jsx("div",{className:"glass-effect rounded-xl overflow-hidden",children:b.jsxs("table",{className:"w-full",children:[b.jsx("thead",{children:b.jsxs("tr",{className:"border-b border-gray-700",children:[b.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold",children:"Title"}),b.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold",children:"Date"}),b.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold",children:"Read Time"}),b.jsx("th",{className:"px-6 py-3 text-right text-sm font-semibold",children:"Actions"})]})}),b.jsx("tbody",{className:"divide-y divide-gray-700",children:t.map(a=>b.jsxs("tr",{className:"hover:bg-white/5",children:[b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsxs("div",{className:"flex items-center",children:[b.jsx("img",{className:"h-10 w-10 rounded-lg object-cover",src:a.image,alt:""}),b.jsxs("div",{className:"ml-4",children:[b.jsx("div",{className:"text-sm font-medium",children:a.title}),b.jsx("div",{className:"text-sm text-gray-400",children:a.slug})]})]})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:a.date}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:a.readTime}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:b.jsxs("div",{className:"flex justify-end gap-3",children:[b.jsx(ri,{to:`/admin/posts/edit/${a.id}`,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:b.jsx(iO,{className:"w-4 h-4"})}),b.jsx("button",{onClick:()=>e(a.id),className:"p-2 hover:bg-red-500/20 text-red-500 rounded-lg transition-colors",children:b.jsx(sO,{className:"w-4 h-4"})})]})})]},a.id))})]})})]})})},D6="modulepreload",b6=function(t){return"/"+t},Rx={},O6=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(a=>{if(a=b6(a),a in Rx)return;Rx[a]=!0;const u=a.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":D6,u||(h.as="script"),h.crossOrigin="",h.href=a,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${a}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})};var c0={},wf={},hk=H;function F6(t){let e=new URLSearchParams;e.append("code",t);for(let n=1;n<arguments.length;n++)e.append("v",arguments[n]);throw Error(`Minified Lexical error #${t}; visit https://lexical.dev/docs/error?${e} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}let fk=hk.createContext(null);wf.LexicalComposerContext=fk;wf.createLexicalComposerContext=function(t,e){let n=null;return t!=null&&(n=t[1]),{getTheme:function(){return e??(n!=null?n.getTheme():null)}}};wf.useLexicalComposerContext=function(){let t=hk.useContext(fk);return t==null&&F6(8),t};const M6=wf;var ec=M6,d0={},Ct={},Ht={},j={};let Tf={},pk={},el={},Ua={},Ag={},tl={},h0={},Ig={},Iu={},ku={},Li={},f0={},p0={},mk={},gk={},_k={},yk={},vk={},Ek={},xk={},xh={},wk={},Tk={},Ck={},Sk={},Ak={},Ik={},kk={},Rk={},Nk={},m0={},g0={},kg={},Pk={},Dk={},bk={};function se(t){let e=new URLSearchParams;e.append("code",t);for(let n=1;n<arguments.length;n++)e.append("v",arguments[n]);throw Error(`Minified Lexical error #${t}; visit https://lexical.dev/docs/error?${e} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}let Mr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",L6=Mr&&"documentMode"in document?document.documentMode:null,cn=Mr&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),as=Mr&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),wh=Mr&&"InputEvent"in window&&!L6?"getTargetRanges"in new window.InputEvent("input"):!1,_0=Mr&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Cf=Mr&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,$6=Mr&&/Android/.test(navigator.userAgent),V6=Mr&&/^(?=.*Chrome).*/i.test(navigator.userAgent),y0=Mr&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!V6,Sf=_0||Cf||y0?" ":"​",B6=as?" ":Sf,U6=/^[^A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]*[\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]/,j6=/^[^\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]*[A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]/,es={bold:1,code:16,highlight:128,italic:2,strikethrough:4,subscript:32,superscript:64,underline:8},z6={directionless:1,unmergeable:2},Nx={center:2,end:6,justify:4,left:1,right:3,start:5},W6={2:"center",6:"end",4:"justify",1:"left",3:"right",5:"start"},H6={normal:0,segmented:2,token:1},K6={0:"normal",2:"segmented",1:"token"},Rg=!1,v0=0;function q6(t){v0=t.timeStamp}function Mp(t,e,n){return e.__lexicalLineBreak===t||t[`__lexicalKey_${n._key}`]!==void 0}function G6(t){return t.getEditorState().read(()=>{let e=it();return e!==null?e.clone():null})}function Ok(t,e,n){Rg=!0;let r=100<performance.now()-v0;try{Hn(t,()=>{let i=it()||G6(t);var s=new Map,o=t.getRootElement(),l=t._editorState,a=t._blockCursorElement;let u=!1,d="";for(var h=0;h<e.length;h++){var f=e[h],p=f.type,y=f.target,w=nc(y,l);if(!(w===null&&y!==o||xt(w))){if(p==="characterData"){if(f=r&&de(w))e:{f=i,p=y;var C=w;if(Se(f)){var _=f.anchor.getNode();if(_.is(C)&&f.format!==_.getFormat()){f=!1;break e}}f=p.nodeType===3&&C.isAttached()}f&&(C=Lr(t._window),p=f=null,C!==null&&C.anchorNode===y&&(f=C.anchorOffset,p=C.focusOffset),y=y.nodeValue,y!==null&&C0(w,y,f,p,!1))}else if(p==="childList"){for(u=!0,p=f.addedNodes,C=0;C<p.length;C++){_=p[C];var E=Bk(_),v=_.parentNode;v==null||_===a||E!==null||_.nodeName==="BR"&&Mp(_,v,t)||(as&&(E=_.innerText||_.nodeValue)&&(d+=E),v.removeChild(_))}if(f=f.removedNodes,p=f.length,0<p){for(C=0,_=0;_<p;_++)v=f[_],(v.nodeName==="BR"&&Mp(v,y,t)||a===v)&&(y.appendChild(v),C++);p!==C&&(y===o&&(w=l._nodeMap.get("root")),s.set(y,w))}}}}if(0<s.size)for(let[N,L]of s)if(J(L))for(s=L.getChildrenKeys(),o=N.firstChild,l=0;l<s.length;l++)a=t.getElementByKey(s[l]),a!==null&&(o==null?(N.appendChild(a),o=a):o!==a&&N.replaceChild(a,o),o=o.nextSibling);else de(L)&&L.markDirty();if(s=n.takeRecords(),0<s.length){for(o=0;o<s.length;o++)for(a=s[o],l=a.addedNodes,a=a.target,h=0;h<l.length;h++)w=l[h],y=w.parentNode,y==null||w.nodeName!=="BR"||Mp(w,a,t)||y.removeChild(w);n.takeRecords()}i!==null&&(u&&(i.dirty=!0,br(i)),as&&Wk(t)&&i.insertRawText(d))})}finally{Rg=!1}}function Fk(t){let e=t._observer;if(e!==null){let n=e.takeRecords();Ok(t,n,e)}}function Mk(t){v0===0&&If(t).addEventListener("textInput",q6,!0),t._observer=new MutationObserver((e,n)=>{Ok(t,e,n)})}function Px(t,e){let n=t.__mode,r=t.__format;t=t.__style;let i=e.__mode,s=e.__format;return e=e.__style,(n===null||n===i)&&(r===null||r===s)&&(t===null||t===e)}function Dx(t,e){let n=t.mergeWithSibling(e),r=pt()._normalizedNodes;return r.add(t.__key),r.add(e.__key),n}function Lk(t){if(t.__text===""&&t.isSimpleText()&&!t.isUnmergeable())t.remove();else{for(var e;(e=t.getPreviousSibling())!==null&&de(e)&&e.isSimpleText()&&!e.isUnmergeable();)if(e.__text==="")e.remove();else{Px(e,t)&&(t=Dx(e,t));break}for(var n;(n=t.getNextSibling())!==null&&de(n)&&n.isSimpleText()&&!n.isUnmergeable();)if(n.__text==="")n.remove();else{Px(t,n)&&Dx(t,n);break}}}function $k(t){return bx(t.anchor),bx(t.focus),t}function bx(t){for(;t.type==="element";){var e=t.getNode(),n=t.offset;if(n===e.getChildrenSize()?(e=e.getChildAtIndex(n-1),n=!0):(e=e.getChildAtIndex(n),n=!1),de(e)){t.set(e.__key,n?e.getTextContentSize():0,"text");break}else if(!J(e))break;t.set(e.__key,n?e.getChildrenSize():0,"element")}}let J6=1,Q6=typeof queueMicrotask=="function"?queueMicrotask:t=>{Promise.resolve().then(t)};function E0(t){let e=document.activeElement;if(e===null)return!1;let n=e.nodeName;return xt(nc(t))&&(n==="INPUT"||n==="TEXTAREA"||e.contentEditable==="true"&&e.__lexicalEditor==null)}function tc(t,e,n){let r=t.getRootElement();try{return r!==null&&r.contains(e)&&r.contains(n)&&e!==null&&!E0(e)&&x0(e)===t}catch{return!1}}function x0(t){for(;t!=null;){let e=t.__lexicalEditor;if(e!=null)return e;t=Af(t)}return null}function Ng(t){return t.isToken()||t.isSegmented()}function Th(t){for(;t!=null;){if(t.nodeType===3)return t;t=t.firstChild}return null}function Pg(t,e,n){let r=es[e];return n!==null&&(t&r)===(n&r)||(t^=r,e==="subscript"?t&=~es.superscript:e==="superscript"&&(t&=~es.subscript)),t}function Vk(t,e){if(e!=null)t.__key=e;else{Tn(),99<Du&&se(14),e=pt();var n=$r(),r=""+J6++;n._nodeMap.set(r,t),J(t)?e._dirtyElements.set(r,!0):e._dirtyLeaves.add(r),e._cloneNotNeeded.add(r),e._dirtyType=1,t.__key=r}}function Bs(t){var e=t.getParent();if(e!==null){let i=t.getWritable();e=e.getWritable();var n=t.getPreviousSibling();if(t=t.getNextSibling(),n===null)if(t!==null){var r=t.getWritable();e.__first=t.__key,r.__prev=null}else e.__first=null;else{if(r=n.getWritable(),t!==null){let s=t.getWritable();s.__prev=r.__key,r.__next=s.__key}else r.__next=null;i.__prev=null}t===null?n!==null?(t=n.getWritable(),e.__last=n.__key,t.__next=null):e.__last=null:(t=t.getWritable(),n!==null?(n=n.getWritable(),n.__next=t.__key,t.__prev=n.__key):t.__prev=null,i.__next=null),e.__size--,i.__parent=null}}function Ch(t){99<Du&&se(14);var e=t.getLatest(),n=e.__parent,r=$r();let i=pt(),s=r._nodeMap;if(r=i._dirtyElements,n!==null)e:for(;n!==null;){if(r.has(n))break e;let o=s.get(n);if(o===void 0)break;r.set(n,!1),n=o.__parent}e=e.__key,i._dirtyType=1,J(t)?r.set(e,!0):i._dirtyLeaves.add(e)}function Lt(t){Tn();var e=pt();let n=e._compositionKey;t!==n&&(e._compositionKey=t,n!==null&&(e=pn(n),e!==null&&e.getWritable()),t!==null&&(t=pn(t),t!==null&&t.getWritable()))}function $i(){return $l()?null:pt()._compositionKey}function pn(t,e){return t=(e||$r())._nodeMap.get(t),t===void 0?null:t}function Bk(t,e){let n=pt();return t=t[`__lexicalKey_${n._key}`],t!==void 0?pn(t,e):null}function nc(t,e){for(;t!=null;){let n=Bk(t,e);if(n!==null)return n;t=Af(t)}return null}function Uk(t){let e=Object.assign({},t._decorators);return t._pendingDecorators=e}function Ox(t){return t.read(()=>Mn().getTextContent())}function Y6(t,e){Hn(t,()=>{var n=$r();if(!n.isEmpty())if(e==="root")Mn().markDirty();else{n=n._nodeMap;for(let[,r]of n)r.markDirty()}},t._pendingEditorState===null?{tag:"history-merge"}:void 0)}function Mn(){return $r()._nodeMap.get("root")}function br(t){Tn();let e=$r();t!==null&&(t.dirty=!0,t.setCachedNodes(null)),e._selection=t}function Bo(t){var e=pt(),n;e:{for(n=t;n!=null;){let r=n[`__lexicalKey_${e._key}`];if(r!==void 0){n=r;break e}n=Af(n)}n=null}return n===null?(e=e.getRootElement(),t===e?pn("root"):null):pn(n)}function jk(t){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(t)}function w0(t){let e=[];for(;t!==null;)e.push(t),t=t._parentEditor;return e}function zk(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function T0(t,e,n){if(e=Lr(e._window),e!==null){var r=e.anchorNode,{anchorOffset:i,focusOffset:s}=e;if(r!==null&&(e=r.nodeType===3?r.nodeValue:null,r=nc(r),e!==null&&de(r))){if(e===Sf&&n){let o=n.length;e=n,s=i=o}e!==null&&C0(r,e,i,s,t)}}}function C0(t,e,n,r,i){let s=t;if(s.isAttached()&&(i||!s.isDirty())){let u=s.isComposing(),d=e;if((u||i)&&e[e.length-1]===Sf&&(d=e.slice(0,-1)),e=s.getTextContent(),i||d!==e)if(d==="")if(Lt(null),_0||Cf||y0)s.remove();else{let h=pt();setTimeout(()=>{h.update(()=>{s.isAttached()&&s.remove()})},20)}else{i=s.getParent(),e=Ll();var o=s.getTextContentSize(),l=$i(),a=s.getKey();s.isToken()||l!==null&&a===l&&!u||Se(e)&&(i!==null&&!i.canInsertTextBefore()&&e.anchor.offset===0||e.anchor.key===t.__key&&e.anchor.offset===0&&!s.canInsertTextBefore()&&!u||e.focus.key===t.__key&&e.focus.offset===o&&!s.canInsertTextAfter()&&!u)?s.markDirty():(t=it(),Se(t)&&n!==null&&r!==null&&(t.setTextNodeRange(s,n,s,r),s.isSegmented()&&(n=s.getTextContent(),n=Qt(n),s.replace(n),s=n)),s.setTextContent(d))}}}function X6(t,e){if(e.isSegmented())return!0;if(!t.isCollapsed())return!1;t=t.anchor.offset;let n=e.getParentOrThrow(),r=e.isToken();return t===0?((t=!e.canInsertTextBefore()||!n.canInsertTextBefore()||r)||(e=e.getPreviousSibling(),t=(de(e)||J(e)&&e.isInline())&&!e.canInsertTextAfter()),t):t===e.getTextContentSize()?!e.canInsertTextAfter()||!n.canInsertTextAfter()||r:!1}function ja(t,e){t.__lexicalClassNameCache===void 0&&(t.__lexicalClassNameCache={});let n=t.__lexicalClassNameCache,r=n[e];return r!==void 0?r:(t=t[e],typeof t=="string"?(t=t.split(" "),n[e]=t):t)}function S0(t,e,n,r,i){n.size!==0&&(n=r.__type,r=r.__key,e=e.get(n),e===void 0&&se(33,n),n=e.klass,e=t.get(n),e===void 0&&(e=new Map,t.set(n,e)),t=e.get(r),n=t==="destroyed"&&i==="created",(t===void 0||n)&&e.set(r,n?"updated":i))}function Fx(t,e,n){let r=t.getParent(),i=n;return r!==null&&(e&&n===0?(i=t.getIndexWithinParent(),t=r):e||n!==t.getChildrenSize()||(i=t.getIndexWithinParent()+1,t=r)),t.getChildAtIndex(e?i-1:i)}function Dg(t,e){var n=t.offset;return t.type==="element"?(t=t.getNode(),Fx(t,e,n)):(t=t.getNode(),e&&n===0||!e&&n===t.getTextContentSize()?(n=e?t.getPreviousSibling():t.getNextSibling(),n===null?Fx(t.getParentOrThrow(),e,t.getIndexWithinParent()+(e?0:1)):n):null)}function Wk(t){return t=(t=If(t).event)&&t.inputType,t==="insertFromPaste"||t==="insertFromPasteAsQuotation"}function Sh(t){return!zn(t)&&!t.isLastChild()&&!t.isInline()}function Ah(t,e){return t=t._keyToDOMMap.get(e),t===void 0&&se(75,e),t}function Af(t){return t=t.assignedSlot||t.parentElement,t!==null&&t.nodeType===11?t.host:t}function Ih(t,e){for(t=t.getParent();t!==null;){if(t.is(e))return!0;t=t.getParent()}return!1}function If(t){return t=t._window,t===null&&se(78),t}function Hk(t){for(t=t.getParentOrThrow();t!==null&&!us(t);)t=t.getParentOrThrow();return t}function us(t){return zn(t)||J(t)&&t.isShadowRoot()}function Kk(t){return t=t.constructor.clone(t),Vk(t,null),t}function rc(t){var e=pt();let n=t.constructor.getType();return e=e._nodes.get(n),e===void 0&&se(97),e=e.replace,e!==null?(e=e(t),e instanceof t.constructor||se(98),e):t}function Lp(t,e){t=t.getParent(),!zn(t)||J(e)||xt(e)||se(99)}function $p(t){return(xt(t)||J(t)&&!t.canBeEmpty())&&!t.isInline()}function bg(t,e,n){n.style.removeProperty("caret-color"),e._blockCursorElement=null,e=t.parentElement,e!==null&&e.removeChild(t)}function Lr(t){return Mr?(t||window).getSelection():null}function Mx(t,e){for(;t!==Mn()&&t!=null;){if(e(t))return t;t=t.getParent()}return null}function kf(t){return t.nodeType===1}function So(t){if(xt(t)&&!t.isInline())return!0;if(!J(t)||us(t))return!1;var e=t.getFirstChild();return e=e===null||to(e)||de(e)||e.isInline(),!t.isInline()&&t.canBeEmpty()!==!1&&e}function Vp(t,e){for(;t!==null&&t.getParent()!==null&&!e(t);)t=t.getParentOrThrow();return e(t)?t:null}function qk(t,e,n,r,i,s){for(t=t.getFirstChild();t!==null;){let o=t.__key;t.__parent===e&&(J(t)&&qk(t,o,n,r,i,s),n.has(o)||s.delete(o),i.push(o)),t=t.getNextSibling()}}function Z6(t,e,n,r){t=t._nodeMap,e=e._nodeMap;let i=[];for(let[s]of r){let o=e.get(s);o===void 0||o.isAttached()||(J(o)&&qk(o,s,t,e,i,r),t.has(s)||r.delete(s),i.push(s))}for(let s of i)e.delete(s);for(let s of n)r=e.get(s),r===void 0||r.isAttached()||(t.has(s)||n.delete(s),e.delete(s))}let Ft="",wn="",Gr="",cs,mn,Ru,Gk=!1,A0=!1,Rf,Td=null,Og,Fg,eo,ds,Mg,Nu;function Cd(t,e){let n=eo.get(t);if(e!==null){let r=Vg(t);r.parentNode===e&&e.removeChild(r)}ds.has(t)||mn._keyToDOMMap.delete(t),J(n)&&(t=kh(n,eo),Lg(t,0,t.length-1,null)),n!==void 0&&S0(Nu,Ru,Rf,n,"destroyed")}function Lg(t,e,n,r){for(;e<=n;++e){let i=t[e];i!==void 0&&Cd(i,r)}}function Is(t,e){t.setProperty("text-align",e)}function Jk(t,e){var n=cs.theme.indent;if(typeof n=="string"){let r=t.classList.contains(n);0<e&&!r?t.classList.add(n):1>e&&r&&t.classList.remove(n)}n=getComputedStyle(t).getPropertyValue("--lexical-indent-base-value")||"40px",t.style.setProperty("padding-inline-start",e===0?"":`calc(${e} * ${n})`)}function Qk(t,e){t=t.style,e===0?Is(t,""):e===1?Is(t,"left"):e===2?Is(t,"center"):e===3?Is(t,"right"):e===4?Is(t,"justify"):e===5?Is(t,"start"):e===6&&Is(t,"end")}function Sd(t,e,n){let r=ds.get(t);r===void 0&&se(60);let i=r.createDOM(cs,mn);var s=mn._keyToDOMMap;if(i["__lexicalKey_"+mn._key]=t,s.set(t,i),de(r)?i.setAttribute("data-lexical-text","true"):xt(r)&&i.setAttribute("data-lexical-decorator","true"),J(r)){if(t=r.__indent,s=r.__size,t!==0&&Jk(i,t),s!==0){--s,t=kh(r,ds);var o=wn;wn="",$g(t,r,0,s,i,null),Xk(r,i),wn=o}t=r.__format,t!==0&&Qk(i,t),r.isInline()||Yk(null,r,i),Sh(r)&&(Ft+=`

`,Gr+=`

`)}else s=r.getTextContent(),xt(r)?(o=r.decorate(mn,cs),o!==null&&Zk(t,o),i.contentEditable="false"):de(r)&&(r.isDirectionless()||(wn+=s)),Ft+=s,Gr+=s;return e!==null&&(n!=null?e.insertBefore(i,n):(n=e.__lexicalLineBreak,n!=null?e.insertBefore(i,n):e.appendChild(i))),S0(Nu,Ru,Rf,r,"created"),i}function $g(t,e,n,r,i,s){let o=Ft;for(Ft="";n<=r;++n)Sd(t[n],i,s);Sh(e)&&(Ft+=`

`),i.__lexicalTextContent=Ft,Ft=o+Ft}function Lx(t,e){return t=e.get(t),to(t)||xt(t)&&t.isInline()}function Yk(t,e,n){t=t!==null&&(t.__size===0||Lx(t.__last,eo)),e=e.__size===0||Lx(e.__last,ds),t?e||(e=n.__lexicalLineBreak,e!=null&&n.removeChild(e),n.__lexicalLineBreak=null):e&&(e=document.createElement("br"),n.__lexicalLineBreak=e,n.appendChild(e))}function Xk(t,e){var n=e.__lexicalDir;if(e.__lexicalDirTextContent!==wn||n!==Td){let s=wn==="";if(s)var r=Td;else r=wn,r=U6.test(r)?"rtl":j6.test(r)?"ltr":null;if(r!==n){let o=e.classList,l=cs.theme;var i=n!==null?l[n]:void 0;let a=r!==null?l[r]:void 0;i!==void 0&&(typeof i=="string"&&(i=i.split(" "),i=l[n]=i),o.remove(...i)),r===null||s&&r==="ltr"?e.removeAttribute("dir"):(a!==void 0&&(typeof a=="string"&&(n=a.split(" "),a=l[r]=n),a!==void 0&&o.add(...a)),e.dir=r),A0||(t.getWritable().__dir=r)}Td=r,e.__lexicalDirTextContent=wn,e.__lexicalDir=r}}function kh(t,e){let n=[];for(t=t.__first;t!==null;){let r=e.get(t);r===void 0&&se(101),n.push(t),t=r.__next}return n}function xa(t,e){var n=eo.get(t),r=ds.get(t);n!==void 0&&r!==void 0||se(61);var i=Gk||Fg.has(t)||Og.has(t);let s=Ah(mn,t);if(n===r&&!i)return J(n)?(r=s.__lexicalTextContent,r!==void 0&&(Ft+=r,Gr+=r),r=s.__lexicalDirTextContent,r!==void 0&&(wn+=r)):(r=n.getTextContent(),de(n)&&!n.isDirectionless()&&(wn+=r),Gr+=r,Ft+=r),s;if(n!==r&&i&&S0(Nu,Ru,Rf,r,"updated"),r.updateDOM(n,s,cs))return r=Sd(t,null,null),e===null&&se(62),e.replaceChild(r,s),Cd(t,null),r;if(J(n)&&J(r)){if(t=r.__indent,t!==n.__indent&&Jk(s,t),t=r.__format,t!==n.__format&&Qk(s,t),i){t=wn,wn="",i=Ft;var o=n.__size,l=r.__size;if(Ft="",o===1&&l===1){var a=n.__first;if(e=r.__first,a===e)xa(a,s);else{var u=Vg(a);e=Sd(e,null,null),s.replaceChild(e,u),Cd(a,null)}}else{e=kh(n,eo);var d=kh(r,ds);if(o===0)l!==0&&$g(d,r,0,l-1,s,null);else if(l===0)o!==0&&(a=s.__lexicalLineBreak==null,Lg(e,0,o-1,a?null:s),a&&(s.textContent=""));else{var h=e;e=d,d=o-1,o=l-1;let p=s.firstChild,y=0;for(l=0;y<=d&&l<=o;){var f=h[y];let w=e[l];if(f===w)p=Bp(xa(w,s)),y++,l++;else{a===void 0&&(a=new Set(h)),u===void 0&&(u=new Set(e));let C=u.has(f),_=a.has(w);C?(_?(f=Ah(mn,w),f===p?p=Bp(xa(w,s)):(p!=null?s.insertBefore(f,p):s.appendChild(f),xa(w,s)),y++):Sd(w,s,p),l++):(p=Bp(Vg(f)),Cd(f,s),y++)}}a=y>d,u=l>o,a&&!u?(a=e[o+1],a=a===void 0?null:mn.getElementByKey(a),$g(e,r,l,o,s,a)):u&&!a&&Lg(h,y,d,s)}}Sh(r)&&(Ft+=`

`),s.__lexicalTextContent=Ft,Ft=i+Ft,Xk(r,s),wn=t,zn(r)||r.isInline()||Yk(n,r,s)}Sh(r)&&(Ft+=`

`,Gr+=`

`)}else n=r.getTextContent(),xt(r)?(i=r.decorate(mn,cs),i!==null&&Zk(t,i)):de(r)&&!r.isDirectionless()&&(wn+=n),Ft+=n,Gr+=n;return!A0&&zn(r)&&r.__cachedText!==Gr&&(r.getWritable().__cachedText=Gr),s}function Zk(t,e){let n=mn._pendingDecorators,r=mn._decorators;if(n===null){if(r[t]===e)return;n=Uk(mn)}n[t]=e}function Bp(t){return t=t.nextSibling,t!==null&&t===mn._blockCursorElement&&(t=t.nextSibling),t}function Vg(t){let e=Mg.get(t);return e===void 0&&se(75,t),e}let zr=Object.freeze({}),Bg=[["keydown",l5],["pointerdown",t5],["compositionstart",s5],["compositionend",o5],["input",i5],["click",e5],["cut",zr],["copy",zr],["dragstart",zr],["dragover",zr],["dragend",zr],["paste",zr],["focus",zr],["blur",zr],["drop",zr]];wh&&Bg.push(["beforeinput",(t,e)=>r5(t,e)]);let Pu=0,eR=0,tR=0,Ao=null,za=0,Ug=!1,jg=!1,Wa=!1,wa=!1,nR=[0,"",0,"root",0];function rR(t,e,n,r,i){let s=t.anchor,o=t.focus,l=s.getNode();var a=pt();let u=Lr(a._window),d=u!==null?u.anchorNode:null,h=s.key;a=a.getElementByKey(h);let f=n.length;return h!==o.key||!de(l)||(!i&&(!wh||tR<r+50)||l.isDirty()&&2>f||jk(n))&&s.offset!==o.offset&&!l.isComposing()||Ng(l)||l.isDirty()&&1<f||(i||!wh)&&a!==null&&!l.isComposing()&&d!==Th(a)||u!==null&&e!==null&&(!e.collapsed||e.startContainer!==u.anchorNode||e.startOffset!==u.anchorOffset)||l.getFormat()!==t.format||l.getStyle()!==t.style||X6(t,l)}function $x(t,e){return t!==null&&t.nodeValue!==null&&t.nodeType===3&&e!==0&&e!==t.nodeValue.length}function Vx(t,e,n){let{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o}=t;Ug&&(Ug=!1,$x(r,i)&&$x(s,o))||Hn(e,()=>{if(!n)br(null);else if(tc(e,r,s)){var l=it();if(Se(l)){var a=l.anchor,u=a.getNode();if(l.isCollapsed()){t.type==="Range"&&t.anchorNode===t.focusNode&&(l.dirty=!0);var d=If(e).event;d=d?d.timeStamp:performance.now();let[f,p,y,w,C]=nR;var h=Mn();if(h=e.isComposing()===!1&&h.getTextContent()==="",d<C+200&&a.offset===y&&a.key===w)l.format=f,l.style=p;else if(a.type==="text"){if(!de(u))throw Error("Point.getNode() must return TextNode when type is text");l.format=u.getFormat(),l.style=u.getStyle()}else a.type!=="element"||h||(l.format=0,l.style="")}else{a=255,u=!1,d=l.getNodes(),h=d.length;for(let f=0;f<h;f++){let p=d[f];if(de(p)&&(u=!0,a&=p.getFormat(),a===0))break}l.format=u?a:0}}re(e,Tf,void 0)}})}function e5(t,e){Hn(e,()=>{let n=it();var r=Lr(e._window);let i=Ll();if(r)if(Se(n)){let o=n.anchor;var s=o.getNode();o.type==="element"&&o.offset===0&&n.isCollapsed()&&!zn(s)&&Mn().getChildrenSize()===1&&s.getTopLevelElementOrThrow().isEmpty()&&i!==null&&n.is(i)?(r.removeAllRanges(),n.dirty=!0):t.detail!==3||n.isCollapsed()||(r=n.focus.getNode(),s!==r&&(J(s)?s.select(0):s.getParentOrThrow().select(0)))}else t.pointerType==="touch"&&(s=r.anchorNode,s!==null&&(s=s.nodeType,s===1||s===3))&&(r=R0(i,r,e,t),br(r));re(e,pk,t)})}function t5(t,e){let n=t.target;t=t.pointerType,n instanceof Node&&t!=="touch"&&Hn(e,()=>{xt(nc(n))||(jg=!0)})}function iR(t){return t.getTargetRanges?(t=t.getTargetRanges(),t.length===0?null:t[0]):null}function n5(t,e){return t!==e||J(t)||J(e)||!t.isToken()||!e.isToken()}function r5(t,e){let n=t.inputType,r=iR(t);n==="deleteCompositionText"||as&&Wk(e)||n!=="insertCompositionText"&&Hn(e,()=>{let i=it();if(n==="deleteContentBackward"){if(i===null){var s=Ll();if(!Se(s))return;br(s.clone())}if(Se(i)){if($6&&Lt(i.anchor.key),eR===229&&t.timeStamp<Pu+30&&e.isComposing()&&i.anchor.key===i.focus.key){if(Lt(null),Pu=0,setTimeout(()=>{Hn(e,()=>{Lt(null)})},30),Se(i)){if(s=i.anchor.getNode(),s.markDirty(),i.format=s.getFormat(),!de(s))throw Error("Anchor node must be a TextNode");i.style=s.getStyle()}1>=i.anchor.getNode().getTextContent().length&&(t.preventDefault(),re(e,el,!0))}else Lt(null),t.preventDefault(),re(e,el,!0);return}}if(Se(i)){s=t.data,Ao!==null&&T0(!1,e,Ao),i.dirty&&Ao===null||!i.isCollapsed()||zn(i.anchor.getNode())||r===null||i.applyDOMRange(r),Ao=null;var o=i.focus,l=i.anchor.getNode();if(o=o.getNode(),n==="insertText"||n==="insertTranspose")s===`
`?(t.preventDefault(),re(e,Ua,!1)):s===`

`?(t.preventDefault(),re(e,Ag,void 0)):s==null&&t.dataTransfer?(s=t.dataTransfer.getData("text/plain"),t.preventDefault(),i.insertRawText(s)):s!=null&&rR(i,r,s,t.timeStamp,!0)?(t.preventDefault(),re(e,tl,s)):Ao=s,tR=t.timeStamp;else switch(t.preventDefault(),n){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":re(e,tl,t);break;case"insertFromComposition":Lt(null),re(e,tl,t);break;case"insertLineBreak":Lt(null),re(e,Ua,!1);break;case"insertParagraph":Lt(null),Wa&&!Cf?(Wa=!1,re(e,Ua,!1)):re(e,Ag,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":re(e,h0,t);break;case"deleteByComposition":n5(l,o)&&re(e,Ig,t);break;case"deleteByDrag":case"deleteByCut":re(e,Ig,t);break;case"deleteContent":re(e,el,!1);break;case"deleteWordBackward":re(e,Iu,!0);break;case"deleteWordForward":re(e,Iu,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":re(e,ku,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":re(e,ku,!1);break;case"formatStrikeThrough":re(e,Li,"strikethrough");break;case"formatBold":re(e,Li,"bold");break;case"formatItalic":re(e,Li,"italic");break;case"formatUnderline":re(e,Li,"underline");break;case"historyUndo":re(e,f0,void 0);break;case"historyRedo":re(e,p0,void 0)}}})}function i5(t,e){t.stopPropagation(),Hn(e,()=>{var n=it(),r=t.data,i=iR(t);if(r!=null&&Se(n)&&rR(n,i,r,t.timeStamp,!1)){wa&&(zg(e,r),wa=!1);var s=n.anchor,o=s.getNode();if(i=Lr(e._window),i===null)return;let l=s.offset;(s=wh&&!n.isCollapsed()&&de(o)&&i.anchorNode!==null)&&(o=o.getTextContent().slice(0,l)+r+o.getTextContent().slice(l+n.focus.offset),i=i.anchorNode,s=o===(i.nodeType===3?i.nodeValue:null)),s||re(e,tl,r),r=r.length,as&&1<r&&t.inputType==="insertCompositionText"&&!e.isComposing()&&(n.anchor.offset-=r),_0||Cf||y0||!e.isComposing()||(Pu=0,Lt(null))}else T0(!1,e,r!==null?r:void 0),wa&&(zg(e,r||void 0),wa=!1);Tn(),n=pt(),Fk(n)}),Ao=null}function s5(t,e){Hn(e,()=>{let n=it();if(Se(n)&&!e.isComposing()){let r=n.anchor,i=n.anchor.getNode();Lt(r.key),(t.timeStamp<Pu+30||r.type==="element"||!n.isCollapsed()||i.getFormat()!==n.format||de(i)&&i.getStyle()!==n.style)&&re(e,tl,B6)}})}function zg(t,e){var n=t._compositionKey;if(Lt(null),n!==null&&e!=null){if(e===""){e=pn(n),t=Th(t.getElementByKey(n)),t!==null&&t.nodeValue!==null&&de(e)&&C0(e,t.nodeValue,null,null,!0);return}if(e[e.length-1]===`
`&&(n=it(),Se(n))){e=n.focus,n.anchor.set(e.key,e.offset,e.type),re(t,xh,null);return}}T0(!0,t,e)}function o5(t,e){as?wa=!0:Hn(e,()=>{zg(e,t.data)})}function l5(t,e){if(Pu=t.timeStamp,eR=t.keyCode,!e.isComposing()){var{keyCode:n,shiftKey:r,ctrlKey:i,metaKey:s,altKey:o}=t;if(!re(e,mk,t)){if(n!==39||i||s||o)if(n!==39||o||r||!i&&!s)if(n!==37||i||s||o)if(n!==37||o||r||!i&&!s)if(n!==38||i||s)if(n!==40||i||s)if(n===13&&r)Wa=!0,re(e,xh,t);else if(n===32)re(e,wk,t);else if(cn&&i&&n===79)t.preventDefault(),Wa=!0,re(e,Ua,!0);else if(n!==13||r){var l=cn?o||s?!1:n===8||n===72&&i:i||o||s?!1:n===8;l?n===8?re(e,Tk,t):(t.preventDefault(),re(e,el,!0)):n===27?re(e,Ck,t):(l=cn?r||o||s?!1:n===46||n===68&&i:i||o||s?!1:n===46,l?n===46?re(e,Sk,t):(t.preventDefault(),re(e,el,!1)):n===8&&(cn?o:i)?(t.preventDefault(),re(e,Iu,!0)):n===46&&(cn?o:i)?(t.preventDefault(),re(e,Iu,!1)):cn&&s&&n===8?(t.preventDefault(),re(e,ku,!0)):cn&&s&&n===46?(t.preventDefault(),re(e,ku,!1)):n===66&&!o&&(cn?s:i)?(t.preventDefault(),re(e,Li,"bold")):n===85&&!o&&(cn?s:i)?(t.preventDefault(),re(e,Li,"underline")):n===73&&!o&&(cn?s:i)?(t.preventDefault(),re(e,Li,"italic")):n!==9||o||i||s?n===90&&!r&&(cn?s:i)?(t.preventDefault(),re(e,f0,void 0)):(l=cn?n===90&&s&&r:n===89&&i||n===90&&i&&r,l?(t.preventDefault(),re(e,p0,void 0)):sc(e._editorState._selection)?(l=r?!1:n===67?cn?s:i:!1,l?(t.preventDefault(),re(e,m0,t)):(l=r?!1:n===88?cn?s:i:!1,l?(t.preventDefault(),re(e,g0,t)):n===65&&(cn?s:i)&&(t.preventDefault(),re(e,kg,t)))):!as&&n===65&&(cn?s:i)&&(t.preventDefault(),re(e,kg,t))):re(e,Ak,t))}else Wa=!1,re(e,xh,t);else re(e,xk,t);else re(e,Ek,t);else re(e,vk,t);else re(e,yk,t);else re(e,_k,t);else re(e,gk,t);(i||r||o||s)&&re(e,bk,t)}}}function sR(t){let e=t.__lexicalEventHandles;return e===void 0&&(e=[],t.__lexicalEventHandles=e),e}let nl=new Map;function oR(t){var e=t.target;let n=Lr(e==null?null:e.nodeType===9?e.defaultView:e.ownerDocument.defaultView);if(n!==null){var r=x0(n.anchorNode);if(r!==null){jg&&(jg=!1,Hn(r,()=>{var l=Ll(),a=n.anchorNode;a!==null&&(a=a.nodeType,a===1||a===3)&&(l=R0(l,n,r,t),br(l))})),e=w0(r),e=e[e.length-1];var i=e._key,s=nl.get(i),o=s||e;o!==r&&Vx(n,o,!1),Vx(n,r,!0),r!==e?nl.set(i,r):s&&nl.delete(i)}}}function a5(t,e){za===0&&t.ownerDocument.addEventListener("selectionchange",oR),za++,t.__lexicalEditor=e;let n=sR(t);for(let r=0;r<Bg.length;r++){let[i,s]=Bg[r],o=typeof s=="function"?l=>{l._lexicalHandled!==!0&&(l._lexicalHandled=!0,e.isEditable()&&s(l,e))}:l=>{if(l._lexicalHandled!==!0&&(l._lexicalHandled=!0,e.isEditable()))switch(i){case"cut":return re(e,g0,l);case"copy":return re(e,m0,l);case"paste":return re(e,h0,l);case"dragstart":return re(e,kk,l);case"dragover":return re(e,Rk,l);case"dragend":return re(e,Nk,l);case"focus":return re(e,Pk,l);case"blur":return re(e,Dk,l);case"drop":return re(e,Ik,l)}};t.addEventListener(i,o),n.push(()=>{t.removeEventListener(i,o)})}}function Wg(t,e,n){Tn();var r=t.__key;let i=t.getParent();if(i!==null){var s=it();if(Se(s)&&J(t)){var{anchor:o,focus:l}=s,a=o.getNode(),u=l.getNode();Ih(a,t)&&o.set(t.__key,0,"element"),Ih(u,t)&&l.set(t.__key,0,"element")}if(a=s,u=!1,Se(a)&&e){s=a.anchor;let d=a.focus;s.key===r&&(Nh(s,t,i,t.getPreviousSibling(),t.getNextSibling()),u=!0),d.key===r&&(Nh(d,t,i,t.getPreviousSibling(),t.getNextSibling()),u=!0)}else sc(a)&&e&&t.isSelected()&&t.selectPrevious();Se(a)&&e&&!u?(r=t.getIndexWithinParent(),Bs(t),Rh(a,i,r,-1)):Bs(t),n||us(i)||i.canBeEmpty()||!i.isEmpty()||Wg(i,e),e&&zn(i)&&i.isEmpty()&&i.selectEnd()}}class ic{static getType(){se(64,this.name)}static clone(){se(65,this.name)}constructor(e){this.__type=this.constructor.getType(),this.__next=this.__prev=this.__parent=null,Vk(this,e)}getType(){return this.__type}isInline(){throw Error(`LexicalNode: Node ${this.constructor.name} does not implement .isInline().`)}isAttached(){for(var e=this.__key;e!==null;){if(e==="root")return!0;if(e=pn(e),e===null)break;e=e.__parent}return!1}isSelected(e){if(e=e||it(),e==null)return!1;let n=e.getNodes().some(r=>r.__key===this.__key);return de(this)?n:Se(e)&&e.anchor.type==="element"&&e.focus.type==="element"&&e.anchor.key===e.focus.key&&e.anchor.offset===e.focus.offset?!1:n}getKey(){return this.__key}getIndexWithinParent(){var e=this.getParent();if(e===null)return-1;e=e.getFirstChild();let n=0;for(;e!==null;){if(this.is(e))return n;n++,e=e.getNextSibling()}return-1}getParent(){let e=this.getLatest().__parent;return e===null?null:pn(e)}getParentOrThrow(){let e=this.getParent();return e===null&&se(66,this.__key),e}getTopLevelElement(){let e=this;for(;e!==null;){let n=e.getParent();if(us(n)){if(!J(e))throw Error("Children of root nodes must be elements");return e}e=n}return null}getTopLevelElementOrThrow(){let e=this.getTopLevelElement();return e===null&&se(67,this.__key),e}getParents(){let e=[],n=this.getParent();for(;n!==null;)e.push(n),n=n.getParent();return e}getParentKeys(){let e=[],n=this.getParent();for(;n!==null;)e.push(n.__key),n=n.getParent();return e}getPreviousSibling(){let e=this.getLatest().__prev;return e===null?null:pn(e)}getPreviousSiblings(){let e=[];var n=this.getParent();if(n===null)return e;for(n=n.getFirstChild();n!==null&&!n.is(this);)e.push(n),n=n.getNextSibling();return e}getNextSibling(){let e=this.getLatest().__next;return e===null?null:pn(e)}getNextSiblings(){let e=[],n=this.getNextSibling();for(;n!==null;)e.push(n),n=n.getNextSibling();return e}getCommonAncestor(e){let n=this.getParents();var r=e.getParents();J(this)&&n.unshift(this),J(e)&&r.unshift(e),e=n.length;var i=r.length;if(e===0||i===0||n[e-1]!==r[i-1])return null;for(r=new Set(r),i=0;i<e;i++){let s=n[i];if(r.has(s))return s}return null}is(e){return e==null?!1:this.__key===e.__key}isBefore(e){if(this===e)return!1;if(e.isParentOf(this))return!0;if(this.isParentOf(e))return!1;var n=this.getCommonAncestor(e);let r=this;for(;;){var i=r.getParentOrThrow();if(i===n){i=r.getIndexWithinParent();break}r=i}for(r=e;;){if(e=r.getParentOrThrow(),e===n){n=r.getIndexWithinParent();break}r=e}return i<n}isParentOf(e){let n=this.__key;if(n===e.__key)return!1;for(;e!==null;){if(e.__key===n)return!0;e=e.getParent()}return!1}getNodesBetween(e){let n=this.isBefore(e),r=[],i=new Set;for(var s=this;;){var o=s.__key;if(i.has(o)||(i.add(o),r.push(s)),s===e)break;if(o=J(s)?n?s.getFirstChild():s.getLastChild():null,o!==null)s=o;else if(o=n?s.getNextSibling():s.getPreviousSibling(),o!==null)s=o;else{if(s=s.getParentOrThrow(),i.has(s.__key)||r.push(s),s===e)break;o=s;do o===null&&se(68),s=n?o.getNextSibling():o.getPreviousSibling(),o=o.getParent(),o!==null&&(s!==null||i.has(o.__key)||r.push(o));while(s===null)}}return n||r.reverse(),r}isDirty(){let e=pt()._dirtyLeaves;return e!==null&&e.has(this.__key)}getLatest(){let e=pn(this.__key);return e===null&&se(113),e}getWritable(){Tn();var e=$r(),n=pt();e=e._nodeMap;let r=this.__key,i=this.getLatest(),s=i.__parent;n=n._cloneNotNeeded;var o=it();return k0(o)&&o.setCachedNodes(null),n.has(r)?(Ch(i),i):(o=i.constructor.clone(i),o.__parent=s,o.__next=i.__next,o.__prev=i.__prev,J(i)&&J(o)?(o.__first=i.__first,o.__last=i.__last,o.__size=i.__size,o.__indent=i.__indent,o.__format=i.__format,o.__dir=i.__dir):de(i)&&de(o)&&(o.__format=i.__format,o.__style=i.__style,o.__mode=i.__mode,o.__detail=i.__detail),n.add(r),o.__key=r,Ch(o),e.set(r,o),o)}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(){se(70)}updateDOM(){se(71)}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){se(72)}static importJSON(){se(18,this.name)}static transform(){return null}remove(e){Wg(this,!0,e)}replace(e,n){Tn();var r=it();r!==null&&(r=r.clone()),Lp(this,e);let i=this.getLatest(),s=this.__key,o=e.__key,l=e.getWritable();e=this.getParentOrThrow().getWritable();let a=e.__size;Bs(l);let u=i.getPreviousSibling(),d=i.getNextSibling(),h=i.__prev,f=i.__next,p=i.__parent;if(Wg(i,!1,!0),u===null?e.__first=o:u.getWritable().__next=o,l.__prev=h,d===null?e.__last=o:d.getWritable().__prev=o,l.__next=f,l.__parent=p,e.__size=a,n){if(!J(this)||!J(l))throw Error("includeChildren should only be true for ElementNodes");this.getChildren().forEach(y=>{l.append(y)})}return Se(r)&&(br(r),n=r.anchor,r=r.focus,n.key===s&&jx(n,l),r.key===s&&jx(r,l)),$i()===s&&Lt(o),l}insertAfter(e,n=!0){Tn(),Lp(this,e);var r=this.getWritable();let i=e.getWritable();var s=i.getParent();let o=it();var l=!1,a=!1;if(s!==null){var u=e.getIndexWithinParent();Bs(i),Se(o)&&(a=s.__key,l=o.anchor,s=o.focus,l=l.type==="element"&&l.key===a&&l.offset===u+1,a=s.type==="element"&&s.key===a&&s.offset===u+1)}s=this.getNextSibling(),u=this.getParentOrThrow().getWritable();let d=i.__key,h=r.__next;return s===null?u.__last=d:s.getWritable().__prev=d,u.__size++,r.__next=d,i.__next=h,i.__prev=r.__key,i.__parent=r.__parent,n&&Se(o)&&(n=this.getIndexWithinParent(),Rh(o,u,n+1),r=u.__key,l&&o.anchor.set(r,n+2,"element"),a&&o.focus.set(r,n+2,"element")),e}insertBefore(e,n=!0){Tn(),Lp(this,e);var r=this.getWritable();let i=e.getWritable(),s=i.__key;Bs(i);let o=this.getPreviousSibling(),l=this.getParentOrThrow().getWritable(),a=r.__prev,u=this.getIndexWithinParent();return o===null?l.__first=s:o.getWritable().__next=s,l.__size++,r.__prev=s,i.__prev=a,i.__next=r.__key,i.__parent=r.__parent,r=it(),n&&Se(r)&&(n=this.getParentOrThrow(),Rh(r,n,u)),e}isParentRequired(){return!1}createParentElementNode(){return hi()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(e,n){Tn();let r=this.getPreviousSibling(),i=this.getParentOrThrow();return r===null?i.select(0,0):J(r)?r.select():de(r)?r.select(e,n):(e=r.getIndexWithinParent()+1,i.select(e,e))}selectNext(e,n){Tn();let r=this.getNextSibling(),i=this.getParentOrThrow();return r===null?i.select():J(r)?r.select(0,0):de(r)?r.select(e,n):(e=r.getIndexWithinParent(),i.select(e,e))}markDirty(){this.getWritable()}}function u5(t,e,n){n=n||e.getParentOrThrow().getLastChild();let r=e;for(e=[e];r!==n;){if(!r.getNextSibling())throw Error("insertRangeAfter: lastToInsert must be a later sibling of firstToInsert");r=r.getNextSibling(),e.push(r)}for(let i of e)t=t.insertAfter(i)}class Fl extends ic{static getType(){return"linebreak"}static clone(e){return new Fl(e.__key)}constructor(e){super(e)}getTextContent(){return`
`}createDOM(){return document.createElement("br")}updateDOM(){return!1}static importDOM(){return{br:e=>{let n=e.parentElement,r,i;return n!==null&&((r=n.firstChild)===e||r.nextSibling===e&&r.nodeType===3&&(r.textContent||"").match(/^( |\t|\r?\n)+$/)!==null)&&((i=n.lastChild)===e||i.previousSibling===e&&i.nodeType===3&&(i.textContent||"").match(/^( |\t|\r?\n)+$/)!==null)?null:{conversion:c5,priority:0}}}}static importJSON(){return xl()}exportJSON(){return{type:"linebreak",version:1}}}function c5(){return{node:xl()}}function xl(){return rc(new Fl)}function to(t){return t instanceof Fl}function Up(t,e){return e&16?"code":e&128?"mark":e&32?"sub":e&64?"sup":null}function jp(t,e){return e&1?"strong":e&2?"em":"span"}function zp(t,e,n,r,i){t=r.classList,r=ja(i,"base"),r!==void 0&&t.add(...r),r=ja(i,"underlineStrikethrough");let s=!1,o=e&8&&e&4;var l=n&8&&n&4;r!==void 0&&(l?(s=!0,o||t.add(...r)):o&&t.remove(...r));for(let a in es)l=es[a],r=ja(i,a),r!==void 0&&(n&l?!s||a!=="underline"&&a!=="strikethrough"?(!(e&l)||o&&a==="underline"||a==="strikethrough")&&t.add(...r):e&l&&t.remove(...r):e&l&&t.remove(...r))}function Wp(t,e,n){let r=e.firstChild;if(n=n.isComposing(),t+=n?Sf:"",r==null)e.textContent=t;else if(e=r.nodeValue,e!==t)if(n||as){n=e.length;let i=t.length,s=0,o=0;for(;s<n&&s<i&&e[s]===t[s];)s++;for(;o+s<n&&o+s<i&&e[n-o-1]===t[i-o-1];)o++;t=[s,n-s-o,t.slice(s,i-o)];let[l,a,u]=t;a!==0&&r.deleteData(l,a),r.insertData(l,u)}else r.nodeValue=t}function Qc(t,e){return e=document.createElement(e),e.appendChild(t),e}class uo extends ic{static getType(){return"text"}static clone(e){return new uo(e.__text,e.__key)}constructor(e,n){super(n),this.__text=e,this.__format=0,this.__style="",this.__detail=this.__mode=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){let e=this.getLatest();return K6[e.__mode]}getStyle(){return this.getLatest().__style}isToken(){return this.getLatest().__mode===1}isComposing(){return this.__key===$i()}isSegmented(){return this.getLatest().__mode===2}isDirectionless(){return(this.getLatest().__detail&1)!==0}isUnmergeable(){return(this.getLatest().__detail&2)!==0}hasFormat(e){return e=es[e],(this.getFormat()&e)!==0}isSimpleText(){return this.__type==="text"&&this.__mode===0}getTextContent(){return this.getLatest().__text}getFormatFlags(e,n){let r=this.getLatest().__format;return Pg(r,e,n)}createDOM(e){var n=this.__format,r=Up(this,n);let i=jp(this,n),s=document.createElement(r===null?i:r),o=s;return this.hasFormat("code")&&s.setAttribute("spellcheck","false"),r!==null&&(o=document.createElement(i),s.appendChild(o)),r=o,Wp(this.__text,r,this),e=e.theme.text,e!==void 0&&zp(i,0,n,r,e),n=this.__style,n!==""&&(s.style.cssText=n),s}updateDOM(e,n,r){let i=this.__text;var s=e.__format,o=this.__format,l=Up(this,s);let a=Up(this,o);var u=jp(this,s);let d=jp(this,o);return(l===null?u:l)!==(a===null?d:a)?!0:l===a&&u!==d?(s=n.firstChild,s==null&&se(48),e=l=document.createElement(d),Wp(i,e,this),r=r.theme.text,r!==void 0&&zp(d,0,o,e,r),n.replaceChild(l,s),!1):(u=n,a!==null&&l!==null&&(u=n.firstChild,u==null&&se(49)),Wp(i,u,this),r=r.theme.text,r!==void 0&&s!==o&&zp(d,s,o,u,r),o=this.__style,e.__style!==o&&(n.style.cssText=o),!1)}static importDOM(){return{"#text":()=>({conversion:f5,priority:0}),b:()=>({conversion:h5,priority:0}),code:()=>({conversion:xi,priority:0}),em:()=>({conversion:xi,priority:0}),i:()=>({conversion:xi,priority:0}),s:()=>({conversion:xi,priority:0}),span:()=>({conversion:d5,priority:0}),strong:()=>({conversion:xi,priority:0}),sub:()=>({conversion:xi,priority:0}),sup:()=>({conversion:xi,priority:0}),u:()=>({conversion:xi,priority:0})}}static importJSON(e){let n=Qt(e.text);return n.setFormat(e.format),n.setDetail(e.detail),n.setMode(e.mode),n.setStyle(e.style),n}exportDOM(e){return{element:e}=super.exportDOM(e),e!==null&&kf(e)||se(132),e.style.whiteSpace="pre-wrap",this.hasFormat("bold")&&(e=Qc(e,"b")),this.hasFormat("italic")&&(e=Qc(e,"i")),this.hasFormat("strikethrough")&&(e=Qc(e,"s")),this.hasFormat("underline")&&(e=Qc(e,"u")),{element:e}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),type:"text",version:1}}selectionTransform(){}setFormat(e){let n=this.getWritable();return n.__format=typeof e=="string"?es[e]:e,n}setDetail(e){let n=this.getWritable();return n.__detail=typeof e=="string"?z6[e]:e,n}setStyle(e){let n=this.getWritable();return n.__style=e,n}toggleFormat(e){let n=this.getFormat();return e=Pg(n,e,null),this.setFormat(e)}toggleDirectionless(){let e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){let e=this.getWritable();return e.__detail^=2,e}setMode(e){if(e=H6[e],this.__mode===e)return this;let n=this.getWritable();return n.__mode=e,n}setTextContent(e){if(this.__text===e)return this;let n=this.getWritable();return n.__text=e,n}select(e,n){Tn();let r=it();var i=this.getTextContent();let s=this.__key;if(typeof i=="string"?(i=i.length,e===void 0&&(e=i),n===void 0&&(n=i)):n=e=0,Se(r))i=$i(),i!==r.anchor.key&&i!==r.focus.key||Lt(s),r.setTextNodeRange(this,e,this,n);else return cR(s,e,s,n,"text","text");return r}selectStart(){return this.select(0,0)}selectEnd(){let e=this.getTextContentSize();return this.select(e,e)}spliceText(e,n,r,i){let s=this.getWritable(),o=s.__text,l=r.length,a=e;0>a&&(a=l+a,0>a&&(a=0));let u=it();return i&&Se(u)&&(e+=l,u.setTextNodeRange(s,e,s,e)),n=o.slice(0,a)+r+o.slice(a+n),s.__text=n,s}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...e){Tn();var n=this.getLatest(),r=n.getTextContent(),i=n.__key,s=$i(),o=new Set(e);e=[];for(var l=r.length,a="",u=0;u<l;u++)a!==""&&o.has(u)&&(e.push(a),a=""),a+=r[u];if(a!==""&&e.push(a),o=e.length,o===0)return[];if(e[0]===r)return[n];var d=e[0];r=n.getParentOrThrow(),u=n.getFormat();let h=n.getStyle(),f=n.__detail;l=!1,n.isSegmented()?(a=Qt(d),a.__format=u,a.__style=h,a.__detail=f,l=!0):(a=n.getWritable(),a.__text=d),n=it(),a=[a],d=d.length;for(let w=1;w<o;w++){var p=e[w],y=p.length;p=Qt(p).getWritable(),p.__format=u,p.__style=h,p.__detail=f;let C=p.__key;if(y=d+y,Se(n)){let _=n.anchor,E=n.focus;_.key===i&&_.type==="text"&&_.offset>d&&_.offset<=y&&(_.key=C,_.offset-=d,n.dirty=!0),E.key===i&&E.type==="text"&&E.offset>d&&E.offset<=y&&(E.key=C,E.offset-=d,n.dirty=!0)}s===i&&Lt(C),d=y,a.push(p)}return i=this.getPreviousSibling(),s=this.getNextSibling(),i!==null&&Ch(i),s!==null&&Ch(s),i=r.getWritable(),s=this.getIndexWithinParent(),l?(i.splice(s,0,a),this.remove()):i.splice(s,1,a),Se(n)&&Rh(n,r,s,o-1),a}mergeWithSibling(e){var n=e===this.getPreviousSibling();n||e===this.getNextSibling()||se(50);var r=this.__key;let i=e.__key,s=this.__text,o=s.length;$i()===i&&Lt(r);let l=it();if(Se(l)){let a=l.anchor,u=l.focus;a!==null&&a.key===i&&(Jx(a,n,r,e,o),l.dirty=!0),u!==null&&u.key===i&&(Jx(u,n,r,e,o),l.dirty=!0)}return r=e.__text,this.setTextContent(n?r+s:s+r),n=this.getWritable(),e.remove(),n}isTextEntity(){return!1}}function d5(t){let e=t.style.fontWeight==="700",n=t.style.textDecoration==="line-through",r=t.style.fontStyle==="italic",i=t.style.textDecoration==="underline",s=t.style.verticalAlign;return{forChild:o=>(de(o)&&(e&&o.toggleFormat("bold"),n&&o.toggleFormat("strikethrough"),r&&o.toggleFormat("italic"),i&&o.toggleFormat("underline"),s==="sub"&&o.toggleFormat("subscript"),s==="super"&&o.toggleFormat("superscript")),o),node:null}}function h5(t){let e=t.style.fontWeight==="normal";return{forChild:n=>(de(n)&&!e&&n.toggleFormat("bold"),n),node:null}}let Bx=new WeakMap;function f5(t){t.parentElement===null&&se(129);for(var e=t.textContent||"",n,r=t.parentNode,i=[t];r!==null&&(n=Bx.get(r))===void 0&&!(r.nodeName==="PRE"||r.nodeType===1&&r.style!==void 0&&r.style.whiteSpace!==void 0&&r.style.whiteSpace.startsWith("pre"));)i.push(r),r=r.parentNode;for(n=n===void 0?r:n,r=0;r<i.length;r++)Bx.set(i[r],n);if(n!==null){for(e=e.split(/(\r?\n|\t)/),t=[],i=e.length,n=0;n<i;n++)r=e[n],r===`
`||r===`\r
`?t.push(xl()):r==="	"?t.push(Nf()):r!==""&&t.push(Qt(r));return{node:t}}if(e=e.replace(/\r/g,"").replace(/[ \t\n]+/g," "),e==="")return{node:null};if(e[0]===" "){for(i=t,n=!0;i!==null&&(i=Ux(i,!1))!==null;)if(r=i.textContent||"",0<r.length){/[ \t\n]$/.test(r)&&(e=e.slice(1)),n=!1;break}n&&(e=e.slice(1))}if(e[e.length-1]===" "){for(i=!0;t!==null&&(t=Ux(t,!0))!==null;)if(0<(t.textContent||"").replace(/^( |\t|\r?\n)+/,"").length){i=!1;break}i&&(e=e.slice(0,e.length-1))}return e===""?{node:null}:{node:Qt(e)}}let p5=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/,"i");function Ux(t,e){for(;;){for(var n=void 0;(n=e?t.nextSibling:t.previousSibling)===null;)if(t=t.parentElement,t===null)return null;if(t=n,t.nodeType===1&&(n=t.style.display,n===""&&t.nodeName.match(p5)===null||n!==""&&!n.startsWith("inline")))return null;for(;(n=e?t.firstChild:t.lastChild)!==null;)t=n;if(t.nodeType===3)return t;if(t.nodeName==="BR")return null}}let m5={code:"code",em:"italic",i:"italic",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function xi(t){let e=m5[t.nodeName.toLowerCase()];return e===void 0?{node:null}:{forChild:n=>(de(n)&&!n.hasFormat(e)&&n.toggleFormat(e),n),node:null}}function Qt(t=""){return rc(new uo(t))}function de(t){return t instanceof uo}class Ml extends uo{static getType(){return"tab"}static clone(e){let n=new Ml(e.__key);return n.__text=e.__text,n.__format=e.__format,n.__style=e.__style,n}constructor(e){super("	",e),this.__detail=2}static importDOM(){return null}static importJSON(e){let n=Nf();return n.setFormat(e.format),n.setStyle(e.style),n}exportJSON(){return{...super.exportJSON(),type:"tab",version:1}}setTextContent(){se(126)}setDetail(){se(127)}setMode(){se(128)}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function Nf(){return rc(new Ml)}function lR(t){return t instanceof Ml}class g5{constructor(e,n,r){this._selection=null,this.key=e,this.offset=n,this.type=r}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){let n=this.getNode(),r=e.getNode(),i=this.offset;if(e=e.offset,J(n)){var s=n.getDescendantByIndex(i);n=s??n}return J(r)&&(s=r.getDescendantByIndex(e),r=s??r),n===r?i<e:n.isBefore(r)}getNode(){let e=pn(this.key);return e===null&&se(20),e}set(e,n,r){let i=this._selection,s=this.key;this.key=e,this.offset=n,this.type=r,$l()||($i()===s&&Lt(e),i!==null&&(i.setCachedNodes(null),i.dirty=!0))}}function yr(t,e,n){return new g5(t,e,n)}function Hp(t,e){let n=e.__key,r=t.offset,i="element";if(de(e))i="text",e=e.getTextContentSize(),r>e&&(r=e);else if(!J(e)){var s=e.getNextSibling();de(s)?(n=s.__key,r=0,i="text"):(s=e.getParent())&&(n=s.__key,r=e.getIndexWithinParent()+1)}t.set(n,r,i)}function jx(t,e){if(J(e)){let n=e.getLastDescendant();J(n)||de(n)?Hp(t,n):Hp(t,e)}else Hp(t,e)}function zx(t,e,n,r){let i=t.getNode(),s=i.getChildAtIndex(t.offset),o=Qt(),l=zn(i)?hi().append(o):o;o.setFormat(n),o.setStyle(r),s===null?i.append(l):s.insertBefore(l),t.is(e)&&e.set(o.__key,0,"text"),t.set(o.__key,0,"text")}function Si(t,e,n,r){t.key=e,t.offset=n,t.type=r}class I0{constructor(e,n){this.anchor=e,this.focus=n,e._selection=this,n._selection=this,this._cachedNodes=null,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return k0(e)?this.anchor.is(e.anchor)&&this.focus.is(e.focus):!1}isCollapsed(){return!1}extract(){return this.getNodes()}isBackward(){return this.focus.isBefore(this.anchor)}getCharacterOffsets(){return Hg(this)}}class Pf{constructor(e){this.dirty=!1,this._nodes=e,this._cachedNodes=null}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){if(!sc(e))return!1;let n=this._nodes,r=e._nodes;return n.size===r.size&&Array.from(n).every(i=>r.has(i))}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new Pf(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(){}insertText(){}insertNodes(e){let n=this.getNodes(),r=n.length;var i=n[r-1];if(de(i))i=i.select();else{let s=i.getIndexWithinParent()+1;i=i.getParentOrThrow().select(s,s)}for(i.insertNodes(e),e=0;e<r;e++)n[e].remove()}getNodes(){var e=this._cachedNodes;if(e!==null)return e;var n=this._nodes;e=[];for(let r of n)n=pn(r),n!==null&&e.push(n);return $l()||(this._cachedNodes=e),e}getTextContent(){let e=this.getNodes(),n="";for(let r=0;r<e.length;r++)n+=e[r].getTextContent();return n}}function Se(t){return t instanceof ys}function k0(t){return t instanceof I0}class ys extends I0{constructor(e,n,r,i){super(e,n),this.format=r,this.style=i}is(e){return Se(e)?this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style:!1}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){var e=this._cachedNodes;if(e!==null)return e;e=this.anchor;var n=this.focus,r=e.isBefore(n),i=r?e:n;r=r?n:e,e=i.getNode(),n=r.getNode();let s=i.offset;return i=r.offset,J(e)&&(r=e.getDescendantByIndex(s),e=r??e),J(n)&&(r=n.getDescendantByIndex(i),r!==null&&r!==e&&n.getChildAtIndex(i)===r&&(r=r.getPreviousSibling()),n=r??n),e=e.is(n)?J(e)&&0<e.getChildrenSize()?[]:[e]:e.getNodesBetween(n),$l()||(this._cachedNodes=e),e}setTextNodeRange(e,n,r,i){Si(this.anchor,e.__key,n,"text"),Si(this.focus,r.__key,i,"text"),this._cachedNodes=null,this.dirty=!0}getTextContent(){let e=this.getNodes();if(e.length===0)return"";let n=e[0],r=e[e.length-1],i=this.anchor,s=this.focus,o=i.isBefore(s),[l,a]=Hg(this),u="",d=!0;for(let h=0;h<e.length;h++){let f=e[h];if(J(f)&&!f.isInline())d||(u+=`
`),d=!f.isEmpty();else if(d=!1,de(f)){let p=f.getTextContent();f===n?f===r?(i.type!=="element"||s.type!=="element"||s.offset===i.offset)&&(p=l<a?p.slice(l,a):p.slice(a,l)):p=o?p.slice(l):p.slice(a):f===r&&(p=o?p.slice(0,a):p.slice(0,l)),u+=p}else!xt(f)&&!to(f)||f===r&&this.isCollapsed()||(u+=f.getTextContent())}return u}applyDOMRange(e){let n=pt(),r=n.getEditorState()._selection;if(e=uR(e.startContainer,e.startOffset,e.endContainer,e.endOffset,n,r),e!==null){var[i,s]=e;Si(this.anchor,i.key,i.offset,i.type),Si(this.focus,s.key,s.offset,s.type),this._cachedNodes=null}}clone(){let e=this.anchor,n=this.focus;return new ys(yr(e.key,e.offset,e.type),yr(n.key,n.offset,n.type),this.format,this.style)}toggleFormat(e){this.format=Pg(this.format,e,null),this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){return(this.format&es[e])!==0}insertRawText(e){e=e.split(/(\r?\n|\t)/);let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];s===`
`||s===`\r
`?n.push(xl()):s==="	"?n.push(Nf()):n.push(Qt(s))}this.insertNodes(n)}insertText(e){var n=this.anchor,r=this.focus,i=this.isCollapsed()||n.isBefore(r),s=this.format,o=this.style;i&&n.type==="element"?zx(n,r,s,o):i||r.type!=="element"||zx(r,n,s,o);var l=this.getNodes(),a=l.length,u=i?r:n;r=(i?n:r).offset;var d=u.offset;n=l[0],de(n)||se(26),i=n.getTextContent().length;var h=n.getParentOrThrow(),f=l[a-1];if(this.isCollapsed()&&r===i&&(n.isSegmented()||n.isToken()||!n.canInsertTextAfter()||!h.canInsertTextAfter()&&n.getNextSibling()===null)){var p=n.getNextSibling();if(de(p)&&p.canInsertTextBefore()&&!Ng(p)||(p=Qt(),p.setFormat(s),h.canInsertTextAfter()?n.insertAfter(p):h.insertAfter(p)),p.select(0,0),n=p,e!==""){this.insertText(e);return}}else if(this.isCollapsed()&&r===0&&(n.isSegmented()||n.isToken()||!n.canInsertTextBefore()||!h.canInsertTextBefore()&&n.getPreviousSibling()===null)){if(p=n.getPreviousSibling(),(!de(p)||Ng(p))&&(p=Qt(),p.setFormat(s),h.canInsertTextBefore()?n.insertBefore(p):h.insertBefore(p)),p.select(),n=p,e!==""){this.insertText(e);return}}else if(n.isSegmented()&&r!==i)h=Qt(n.getTextContent()),h.setFormat(s),n.replace(h),n=h;else if(!(this.isCollapsed()||e===""||(p=f.getParent(),h.canInsertTextBefore()&&h.canInsertTextAfter()&&(!J(p)||p.canInsertTextBefore()&&p.canInsertTextAfter())))){this.insertText(""),aR(this.anchor,this.focus,null),this.insertText(e);return}if(a===1)if(n.isToken())e=Qt(e),e.select(),n.replace(e);else{if(l=n.getFormat(),a=n.getStyle(),r===d&&(l!==s||a!==o))if(n.getTextContent()==="")n.setFormat(s),n.setStyle(o);else{l=Qt(e),l.setFormat(s),l.setStyle(o),l.select(),r===0?n.insertBefore(l,!1):([a]=n.splitText(r),a.insertAfter(l,!1)),l.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length);return}else if(lR(n)){e=Qt(e),e.setFormat(s),e.setStyle(o),e.select(),n.replace(e);return}n=n.spliceText(r,d-r,e,!0),n.getTextContent()===""?n.remove():this.anchor.type==="text"&&(n.isComposing()?this.anchor.offset-=e.length:(this.format=l,this.style=a))}else{if(s=new Set([...n.getParentKeys(),...f.getParentKeys()]),p=J(n)?n:n.getParentOrThrow(),o=J(f)?f:f.getParentOrThrow(),h=f,!p.is(o)&&o.isInline())do h=o,o=o.getParentOrThrow();while(o.isInline());if(u.type==="text"&&(d!==0||f.getTextContent()==="")||u.type==="element"&&f.getIndexWithinParent()<d)if(de(f)&&!f.isToken()&&d!==f.getTextContentSize()){if(f.isSegmented()){var y=Qt(f.getTextContent());f.replace(y),f=y}zn(u.getNode())||u.type!=="text"||(f=f.spliceText(0,d,"")),s.add(f.__key)}else u=f.getParentOrThrow(),u.canBeEmpty()||u.getChildrenSize()!==1?f.remove():u.remove();else s.add(f.__key);for(u=o.getChildren(),d=new Set(l),f=p.is(o),p=p.isInline()&&n.getNextSibling()===null?p:n,y=u.length-1;0<=y;y--){let w=u[y];if(w.is(n)||J(w)&&w.isParentOf(n))break;w.isAttached()&&(!d.has(w)||w.is(h)?f||p.insertAfter(w,!1):w.remove())}if(!f)for(u=o,o=null;u!==null;)d=u.getChildren(),f=d.length,(f===0||d[f-1].is(o))&&(s.delete(u.__key),o=u),u=u.getParent();for(n.isToken()?r===i?n.select():(e=Qt(e),e.select(),n.replace(e)):(n=n.spliceText(r,i-r,e,!0),n.getTextContent()===""?n.remove():n.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length)),e=1;e<a;e++)n=l[e],s.has(n.__key)||n.remove()}}removeText(){this.insertText("")}formatText(e){if(this.isCollapsed())this.toggleFormat(e),Lt(null);else{var n=this.getNodes(),r=[];for(var i of n)de(i)&&r.push(i);var s=r.length;if(s===0)this.toggleFormat(e),Lt(null);else{i=this.anchor;var o=this.focus,l=this.isBackward();n=l?o:i,i=l?i:o;var a=0,u=r[0];if(o=n.type==="element"?0:n.offset,n.type==="text"&&o===u.getTextContentSize()&&(a=1,u=r[1],o=0),u!=null){l=u.getFormatFlags(e,null);var d=s-1,h=r[d];if(s=i.type==="text"?i.offset:h.getTextContentSize(),u.is(h))o!==s&&(o===0&&s===u.getTextContentSize()?u.setFormat(l):(e=u.splitText(o,s),e=o===0?e[0]:e[1],e.setFormat(l),n.type==="text"&&n.set(e.__key,0,"text"),i.type==="text"&&i.set(e.__key,s-o,"text")),this.format=l);else{o!==0&&([,u]=u.splitText(o),o=0),u.setFormat(l);var f=h.getFormatFlags(e,l);for(0<s&&(s!==h.getTextContentSize()&&([h]=h.splitText(s)),h.setFormat(f)),a+=1;a<d;a++){let p=r[a];if(!p.isToken()){let y=p.getFormatFlags(e,f);p.setFormat(y)}}n.type==="text"&&n.set(u.__key,o,"text"),i.type==="text"&&i.set(h.__key,s,"text"),this.format=l|f}}}}}insertNodes(e){if(e.length!==0){if(this.anchor.key==="root"){this.insertParagraph();var n=it();if(!Se(n))throw Error("Expected RangeSelection after insertParagraph");return n.insertNodes(e)}var r=Vp(this.anchor.getNode(),So);if(n=e[e.length-1],"__language"in r&&J(r))if("__language"in e[0])this.insertText(e[0].getTextContent());else{var i=Kp(this);r.splice(i,0,e),n.selectEnd()}else if(e.some(l=>(J(l)||xt(l))&&!l.isInline())){n=E5(e),e=n.getLastDescendant();var s=n.getChildren();n=J(r)&&r.isEmpty()?null:this.insertParagraph(),i=s[s.length-1];var o=s[0];if((l=>J(l)&&So(l)&&!l.isEmpty()&&J(r)&&(!r.isEmpty()||"__value"in r&&"__checked"in r))(o)){if(!J(r))throw Error("Expected 'firstBlock' to be an ElementNode");r.append(...o.getChildren()),o=s[1]}o&&u5(r,o),s=Vp(e,So),n&&J(s)&&("__value"in n&&"__checked"in n||So(i))&&(s.append(...n.getChildren()),n.remove()),J(r)&&r.isEmpty()&&r.remove(),e.selectEnd(),e=J(r)?r.getLastChild():null,to(e)&&s!==r&&e.remove()}else{if(!J(r))throw Error("Expected 'firstBlock' to be an ElementNode");i=Kp(this),r.splice(i,0,e),n.selectEnd()}}}insertParagraph(){if(this.anchor.key==="root"){var e=hi();return Mn().splice(this.anchor.offset,0,[e]),e.select(),e}var n=Kp(this);if(e=Vp(this.anchor.getNode(),So),!J(e))throw Error("Expected ancestor to be an ElementNode");return n=(n=e.getChildAtIndex(n))?[n,...n.getNextSiblings()]:[],(e=e.insertNewAfter(this,!1))?(e.append(...n),e.selectStart(),e):null}insertLineBreak(e){var n=xl();this.insertNodes([n]),e&&(e=n.getParentOrThrow(),n=n.getIndexWithinParent(),e.select(n,n))}extract(){var e=this.getNodes(),n=e.length,r=n-1,i=this.anchor;let s=this.focus;var o=e[0];let l=e[r],[a,u]=Hg(this);return n===0?[]:n===1?de(o)&&!this.isCollapsed()?(e=a>u?u:a,r=o.splitText(e,a>u?a:u),e=e===0?r[0]:r[1],e!=null?[e]:[]):[o]:(n=i.isBefore(s),de(o)&&(i=n?a:u,i===o.getTextContentSize()?e.shift():i!==0&&([,o]=o.splitText(i),e[0]=o)),de(l)&&(o=l.getTextContent().length,n=n?u:a,n===0?e.pop():n!==o&&([l]=l.splitText(n),e[r]=l)),e)}modify(e,n,r){var i=this.focus,s=this.anchor,o=e==="move",l=Dg(i,n);if(xt(l)&&!l.isIsolated())o&&l.isKeyboardSelectable()?(n=Kg(),n.add(l.__key),br(n)):(e=n?l.getPreviousSibling():l.getNextSibling(),de(e)?(l=e.__key,n=n?e.getTextContent().length:0,i.set(l,n,"text"),o&&s.set(l,n,"text")):(r=l.getParentOrThrow(),J(e)?(r=e.__key,l=n?e.getChildrenSize():0):(l=l.getIndexWithinParent(),r=r.__key,n||l++),i.set(r,l,"element"),o&&s.set(r,l,"element")));else if(s=pt(),i=Lr(s._window)){var a=s._blockCursorElement,u=s._rootElement;if(u===null||a===null||!J(l)||l.isInline()||l.canBeEmpty()||bg(a,s,u),i.modify(e,n?"backward":"forward",r),0<i.rangeCount&&(l=i.getRangeAt(0),s=this.anchor.getNode(),s=zn(s)?s:Hk(s),this.applyDOMRange(l),this.dirty=!0,!o)){for(o=this.getNodes(),e=[],r=!1,a=0;a<o.length;a++)u=o[a],Ih(u,s)?e.push(u):r=!0;r&&0<e.length&&(n?(n=e[0],J(n)?n.selectStart():n.getParentOrThrow().selectStart()):(n=e[e.length-1],J(n)?n.selectEnd():n.getParentOrThrow().selectEnd())),(i.anchorNode!==l.startContainer||i.anchorOffset!==l.startOffset)&&(n=this.focus,o=this.anchor,i=o.key,l=o.offset,s=o.type,Si(o,n.key,n.offset,n.type),Si(n,i,l,s),this._cachedNodes=null)}}}deleteCharacter(e){let n=this.isCollapsed();if(this.isCollapsed()){var r=this.anchor,i=this.focus,s=r.getNode();if(!e&&(r.type==="element"&&J(s)&&r.offset===s.getChildrenSize()||r.type==="text"&&r.offset===s.getTextContentSize())){var o=s.getParent();if(o=s.getNextSibling()||(o===null?null:o.getNextSibling()),J(o)&&o.isShadowRoot())return}if(o=Dg(i,e),xt(o)&&!o.isIsolated()){o.isKeyboardSelectable()&&J(s)&&s.getChildrenSize()===0?(s.remove(),e=Kg(),e.add(o.__key),br(e)):(o.remove(),pt().dispatchCommand(Tf,void 0));return}if(!e&&J(o)&&J(s)&&s.isEmpty()){s.remove(),o.selectStart();return}if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&r.offset===0&&(r.type==="element"?r.getNode():r.getNode().getParentOrThrow()).collapseAtStart(this))return}else{if(o=i.type==="text"?i.getNode():null,s=r.type==="text"?r.getNode():null,o!==null&&o.isSegmented()){if(r=i.offset,i=o.getTextContentSize(),o.is(s)||e&&r!==i||!e&&r!==0){Hx(o,e,r);return}}else if(s!==null&&s.isSegmented()&&(r=r.offset,i=s.getTextContentSize(),s.is(o)||e&&r!==0||!e&&r!==i)){Hx(s,e,r);return}if(s=this.anchor,o=this.focus,r=s.getNode(),i=o.getNode(),r===i&&s.type==="text"&&o.type==="text"){var l=s.offset,a=o.offset;let u=l<a;i=u?l:a,a=u?a:l,l=a-1,i!==l&&(r=r.getTextContent().slice(i,a),jk(r)||(e?o.offset=l:s.offset=l))}}}this.removeText(),e&&!n&&this.isCollapsed()&&this.anchor.type==="element"&&this.anchor.offset===0&&(e=this.anchor.getNode(),e.isEmpty()&&zn(e.getParent())&&e.getIndexWithinParent()===0&&e.collapseAtStart(this))}deleteLine(e){this.isCollapsed()&&(this.anchor.type==="text"&&this.modify("extend",e,"lineboundary"),(e?this.focus:this.anchor).offset===0&&this.modify("extend",e,"character")),this.removeText()}deleteWord(e){this.isCollapsed()&&this.modify("extend",e,"word"),this.removeText()}}function sc(t){return t instanceof Pf}function Wx(t){let e=t.offset;return t.type==="text"?e:(t=t.getNode(),e===t.getChildrenSize()?t.getTextContent().length:0)}function Hg(t){let e=t.anchor;return t=t.focus,e.type==="element"&&t.type==="element"&&e.key===t.key&&e.offset===t.offset?[0,0]:[Wx(e),Wx(t)]}function Hx(t,e,n){let r=t.getTextContent().split(/(?=\s)/g),i=r.length,s=0,o=0;for(let l=0;l<i;l++){let a=r[l],u=l===i-1;if(o=s,s+=a.length,e&&s===n||s>n||u){r.splice(l,1),u&&(o=void 0);break}}e=r.join("").trim(),e===""?t.remove():(t.setTextContent(e),t.select(o,o))}function Kx(t,e,n,r){var i=e;if(t.nodeType===1){let l=!1;var s=t.childNodes,o=s.length;i===o&&(l=!0,i=o-1);let a=s[i];if(o=!1,a===r._blockCursorElement?(a=s[i+1],o=!0):r._blockCursorElement!==null&&i--,r=Bo(a),de(r))i=l?r.getTextContentSize():0;else{if(s=Bo(t),s===null)return null;if(J(s)?(t=s.getChildAtIndex(i),(e=J(t))&&(e=t.getParent(),e=n===null||e===null||!e.canBeEmpty()||e!==n.getNode()),e&&(n=l?t.getLastDescendant():t.getFirstDescendant(),n===null?(s=t,i=0):(t=n,s=J(t)?t:t.getParentOrThrow())),de(t)?(r=t,s=null,i=l?t.getTextContentSize():0):t!==s&&l&&!o&&i++):(i=s.getIndexWithinParent(),i=e===0&&xt(s)&&Bo(t)===s?i:i+1,s=s.getParentOrThrow()),J(s))return yr(s.__key,i,"element")}}else r=Bo(t);return de(r)?yr(r.__key,i,"text"):null}function qx(t,e,n){var r=t.offset,i=t.getNode();r===0?(r=i.getPreviousSibling(),i=i.getParent(),e?(n||!e)&&r===null&&J(i)&&i.isInline()&&(e=i.getPreviousSibling(),de(e)&&(t.key=e.__key,t.offset=e.getTextContent().length)):J(r)&&!n&&r.isInline()?(t.key=r.__key,t.offset=r.getChildrenSize(),t.type="element"):de(r)&&(t.key=r.__key,t.offset=r.getTextContent().length)):r===i.getTextContent().length&&(r=i.getNextSibling(),i=i.getParent(),e&&J(r)&&r.isInline()?(t.key=r.__key,t.offset=0,t.type="element"):(n||e)&&r===null&&J(i)&&i.isInline()&&!i.canInsertTextAfter()&&(e=i.getNextSibling(),de(e)&&(t.key=e.__key,t.offset=0)))}function aR(t,e,n){if(t.type==="text"&&e.type==="text"){var r=t.isBefore(e);let i=t.is(e);qx(t,r,i),qx(e,!r,i),i&&(e.key=t.key,e.offset=t.offset,e.type=t.type),r=pt(),r.isComposing()&&r._compositionKey!==t.key&&Se(n)&&(r=n.anchor,n=n.focus,Si(t,r.key,r.offset,r.type),Si(e,n.key,n.offset,n.type))}}function uR(t,e,n,r,i,s){return t===null||n===null||!tc(i,t,n)||(e=Kx(t,e,Se(s)?s.anchor:null,i),e===null)||(r=Kx(n,r,Se(s)?s.focus:null,i),r===null||e.type==="element"&&r.type==="element"&&(t=Bo(t),n=Bo(n),xt(t)&&xt(n)))?null:(aR(e,r,s),[e,r])}function cR(t,e,n,r,i,s){let o=$r();return t=new ys(yr(t,e,i),yr(n,r,s),0,""),t.dirty=!0,o._selection=t}function Kg(){return new Pf(new Set)}function _5(t){let e=t.getEditorState()._selection,n=Lr(t._window);return Se(e)||e==null?R0(e,n,t,null):e.clone()}function R0(t,e,n,r){var i=n._window;if(i===null)return null;var s=(i=r||i.event)?i.type:void 0;r=s==="selectionchange",i=!Rg&&(r||s==="beforeinput"||s==="compositionstart"||s==="compositionend"||s==="click"&&i&&i.detail===3||s==="drop"||s===void 0);let o;if(!Se(t)||i){if(e===null)return null;if(i=e.anchorNode,s=e.focusNode,o=e.anchorOffset,e=e.focusOffset,r&&Se(t)&&!tc(n,i,s))return t.clone()}else return t.clone();if(n=uR(i,o,s,e,n,t),n===null)return null;let[l,a]=n;return new ys(l,a,Se(t)?t.format:0,Se(t)?t.style:"")}function it(){return $r()._selection}function Ll(){return pt()._editorState._selection}function Rh(t,e,n,r=1){var i=t.anchor,s=t.focus,o=i.getNode(),l=s.getNode();if(e.is(o)||e.is(l)){if(o=e.__key,t.isCollapsed())e=i.offset,(n<=e&&0<r||n<e&&0>r)&&(n=Math.max(0,e+r),i.set(o,n,"element"),s.set(o,n,"element"),Gx(t));else{let u=t.isBackward();l=u?s:i;var a=l.getNode();i=u?i:s,s=i.getNode(),e.is(a)&&(a=l.offset,(n<=a&&0<r||n<a&&0>r)&&l.set(o,Math.max(0,a+r),"element")),e.is(s)&&(e=i.offset,(n<=e&&0<r||n<e&&0>r)&&i.set(o,Math.max(0,e+r),"element"))}Gx(t)}}function Gx(t){var e=t.anchor,n=e.offset;let r=t.focus;var i=r.offset,s=e.getNode(),o=r.getNode();if(t.isCollapsed())J(s)&&(o=s.getChildrenSize(),o=(i=n>=o)?s.getChildAtIndex(o-1):s.getChildAtIndex(n),de(o)&&(n=0,i&&(n=o.getTextContentSize()),e.set(o.__key,n,"text"),r.set(o.__key,n,"text")));else{if(J(s)){let l=s.getChildrenSize();n=(t=n>=l)?s.getChildAtIndex(l-1):s.getChildAtIndex(n),de(n)&&(s=0,t&&(s=n.getTextContentSize()),e.set(n.__key,s,"text"))}J(o)&&(n=o.getChildrenSize(),i=(e=i>=n)?o.getChildAtIndex(n-1):o.getChildAtIndex(i),de(i)&&(o=0,e&&(o=i.getTextContentSize()),r.set(i.__key,o,"text")))}}function y5(t,e){if(e=e.getEditorState()._selection,t=t._selection,Se(t)){var n=t.anchor;let r=t.focus,i;n.type==="text"&&(i=n.getNode(),i.selectionTransform(e,t)),r.type==="text"&&(n=r.getNode(),i!==n&&n.selectionTransform(e,t))}}function Nh(t,e,n,r,i){let s=null,o=0,l=null;r!==null?(s=r.__key,de(r)?(o=r.getTextContentSize(),l="text"):J(r)&&(o=r.getChildrenSize(),l="element")):i!==null&&(s=i.__key,de(i)?l="text":J(i)&&(l="element")),s!==null&&l!==null?t.set(s,o,l):(o=e.getIndexWithinParent(),o===-1&&(o=n.getChildrenSize()),t.set(n.__key,o,"element"))}function Jx(t,e,n,r,i){t.type==="text"?(t.key=n,e||(t.offset+=i)):t.offset>r.getIndexWithinParent()&&--t.offset}function dR(t){t instanceof D0||(t instanceof ic?(t=Mx(t,Uo),Uo(t)||se(114)):(t=Mx(t.getNode(),Uo),Uo(t)||se(114)));let e=t.getParent();b0(e)||se(115);let n=e.getParent();return _R(n)||se(116),[t,e,n]}function Kp(t){t.isCollapsed()||t.removeText();var e=t.anchor;for(t=e.getNode(),e=e.offset;!So(t);)[t,e]=v5(t,e);return e}function v5(t,e){var n=t.getParent();if(!n)return n=hi(),Mn().append(n),n.select(),[Mn(),0];if(de(t)){var r=t.splitText(e);return r.length===0?[n,t.getIndexWithinParent()]:(t=e===0?0:1,t=r[0].getIndexWithinParent()+t,[n,t])}return!J(t)||e===0?[n,t.getIndexWithinParent()]:((r=t.getChildAtIndex(e))&&(e=new ys(yr(t.__key,e,"element"),yr(t.__key,e,"element"),0,""),(e=t.insertNewAfter(e))&&e.append(r,...r.getNextSiblings())),[n,t.getIndexWithinParent()+1])}function E5(t){let e=hi(),n=null;for(let r=0;r<t.length;r++){let i=t[r],s=to(i);if(s||xt(i)&&i.isInline()||J(i)&&i.isInline()||de(i)||i.isParentRequired()){if(n===null&&(n=i.createParentElementNode(),e.append(n),s))continue;n!==null&&n.append(i)}else e.append(i),n=null}return e}let jt=null,zt=null,Fn=!1,qp=!1,Du=0,Qx={characterData:!0,childList:!0,subtree:!0};function $l(){return Fn||jt!==null&&jt._readOnly}function Tn(){Fn&&se(13)}function $r(){return jt===null&&se(15),jt}function pt(){return zt===null&&se(16),zt}function Yx(t,e,n){var r=e.__type;let i=t._nodes.get(r);for(i===void 0&&se(30,r),t=n.get(r),t===void 0&&(t=Array.from(i.transforms),n.set(r,t)),n=t.length,r=0;r<n&&(t[r](e),e.isAttached());r++);}function x5(t,e){e=e._dirtyLeaves,t=t._nodeMap;for(let n of e)e=t.get(n),de(e)&&e.isAttached()&&e.isSimpleText()&&!e.isUnmergeable()&&Lk(e)}function w5(t,e){let n=e._dirtyLeaves,r=e._dirtyElements;t=t._nodeMap;let i=$i(),s=new Map;var o=n;let l=o.size;for(var a=r,u=a.size;0<l||0<u;){if(0<l){e._dirtyLeaves=new Set;for(let d of o)o=t.get(d),de(o)&&o.isAttached()&&o.isSimpleText()&&!o.isUnmergeable()&&Lk(o),o!==void 0&&o!==void 0&&o.__key!==i&&o.isAttached()&&Yx(e,o,s),n.add(d);if(o=e._dirtyLeaves,l=o.size,0<l){Du++;continue}}e._dirtyLeaves=new Set,e._dirtyElements=new Map;for(let d of a)a=d[0],u=d[1],(a==="root"||u)&&(o=t.get(a),o!==void 0&&o!==void 0&&o.__key!==i&&o.isAttached()&&Yx(e,o,s),r.set(a,u));o=e._dirtyLeaves,l=o.size,a=e._dirtyElements,u=a.size,Du++}e._dirtyLeaves=n,e._dirtyElements=r}function N0(t,e){var n=t.type,r=e.get(n);if(r===void 0&&se(17,n),n=r.klass,t.type!==n.getType()&&se(18,n.name),n=n.importJSON(t),t=t.children,J(n)&&Array.isArray(t))for(r=0;r<t.length;r++){let i=N0(t[r],e);n.append(i)}return n}function Xx(t,e){let n=jt,r=Fn,i=zt;jt=t,Fn=!0,zt=null;try{return e()}finally{jt=n,Fn=r,zt=i}}function Us(t,e){let n=t._pendingEditorState,r=t._rootElement,i=t._headless||r===null;if(n!==null){var s=t._editorState,o=s._selection,l=n._selection,a=t._dirtyType!==0,u=jt,d=Fn,h=zt,f=t._updating,p=t._observer,y=null;if(t._pendingEditorState=null,t._editorState=n,!i&&a&&p!==null){zt=t,jt=n,Fn=!1,t._updating=!0;try{let xe=t._dirtyType,Ke=t._dirtyElements,Fe=t._dirtyLeaves;p.disconnect();var w=xe,C=Ke,_=Fe;wn=Gr=Ft="",Gk=w===2,Td=null,mn=t,cs=t._config,Ru=t._nodes,Rf=mn._listeners.mutation,Og=C,Fg=_,eo=s._nodeMap,ds=n._nodeMap,A0=n._readOnly,Mg=new Map(t._keyToDOMMap);let Le=new Map;Nu=Le,xa("root",null),Nu=Mg=cs=ds=eo=Fg=Og=Ru=mn=void 0,y=Le}catch(xe){if(xe instanceof Error&&t._onError(xe),qp)throw xe;mR(t,null,r,n),Mk(t),t._dirtyType=2,qp=!0,Us(t,s),qp=!1;return}finally{p.observe(r,Qx),t._updating=f,jt=u,Fn=d,zt=h}}n._readOnly||(n._readOnly=!0);var E=t._dirtyLeaves,v=t._dirtyElements,N=t._normalizedNodes,L=t._updateTags,k=t._deferred;a&&(t._dirtyType=0,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements=new Map,t._normalizedNodes=new Set,t._updateTags=new Set);var T=t._decorators,x=t._pendingDecorators||T,I=n._nodeMap,P;for(P in x)I.has(P)||(x===T&&(x=Uk(t)),delete x[P]);var R=i?null:Lr(t._window);if(t._editable&&R!==null&&(a||l===null||l.dirty)){zt=t,jt=n;try{if(p!==null&&p.disconnect(),a||l===null||l.dirty){let xe=t._blockCursorElement;xe!==null&&bg(xe,t,r);e:{let Ke=R.anchorNode,Fe=R.focusNode,Le=R.anchorOffset,St=R.focusOffset,ne=document.activeElement;if(!(L.has("collaboration")&&ne!==r||ne!==null&&E0(ne)))if(Se(l)){var D=l.anchor,O=l.focus,ve=D.key,pe=O.key,Ne=Ah(t,ve),fe=Ah(t,pe),q=D.offset,ae=O.offset,F=l.format,Ce=l.style,we=l.isCollapsed(),M=Ne,je=fe,Ye=!1;if(D.type==="text"){M=Th(Ne);let ee=D.getNode();Ye=ee.getFormat()!==F||ee.getStyle()!==Ce}else Se(o)&&o.anchor.type==="text"&&(Ye=!0);if(O.type==="text"&&(je=Th(fe)),M!==null&&je!==null){if(we&&(o===null||Ye||Se(o)&&(o.format!==F||o.style!==Ce))){var Pe=performance.now();nR=[F,Ce,q,ve,Pe]}if(Le===q&&St===ae&&Ke===M&&Fe===je&&(R.type!=="Range"||!we)&&(ne!==null&&r.contains(ne)||r.focus({preventScroll:!0}),D.type!=="element"))break e;try{R.setBaseAndExtent(M,q,je,ae)}catch{}if(!L.has("skip-scroll-into-view")&&l.isCollapsed()&&r!==null&&r===document.activeElement){let ee=l instanceof ys&&l.anchor.type==="element"?M.childNodes[q]||null:0<R.rangeCount?R.getRangeAt(0):null;if(ee!==null){let ie;if(ee instanceof Text){let $=document.createRange();$.selectNode(ee),ie=$.getBoundingClientRect()}else ie=ee.getBoundingClientRect();let Re=r.ownerDocument,ke=Re.defaultView;if(ke!==null)for(var{top:W,bottom:G}=ie,Q,Z,te=r;te!==null;){let $=te===Re.body;if($)Q=0,Z=If(t).innerHeight;else{let ue=te.getBoundingClientRect();Q=ue.top,Z=ue.bottom}let S=0;if(W<Q?S=-(Q-W):G>Z&&(S=G-Z),S!==0)if($)ke.scrollBy(0,S);else{let ue=te.scrollTop;te.scrollTop+=S;let be=te.scrollTop-ue;W-=be,G-=be}if($)break;te=Af(te)}}}Ug=!0}}else o!==null&&tc(t,Ke,Fe)&&R.removeAllRanges()}}e:{let xe=t._blockCursorElement;if(Se(l)&&l.isCollapsed()&&l.anchor.type==="element"&&r.contains(document.activeElement)){let Ke=l.anchor,Fe=Ke.getNode(),Le=Ke.offset,St=Fe.getChildrenSize(),ne=!1,ee=null;if(Le===St){let ie=Fe.getChildAtIndex(Le-1);$p(ie)&&(ne=!0)}else{let ie=Fe.getChildAtIndex(Le);if($p(ie)){let Re=ie.getPreviousSibling();(Re===null||$p(Re))&&(ne=!0,ee=t.getElementByKey(ie.__key))}}if(ne){let ie=t.getElementByKey(Fe.__key);if(xe===null){let Re=t._config.theme,ke=document.createElement("div");ke.contentEditable="false",ke.setAttribute("data-lexical-cursor","true");let $=Re.blockCursor;if($!==void 0){if(typeof $=="string"){let S=$.split(" ");$=Re.blockCursor=S}$!==void 0&&ke.classList.add(...$)}t._blockCursorElement=xe=ke}r.style.caretColor="transparent",ee===null?ie.appendChild(xe):ie.insertBefore(xe,ee);break e}}xe!==null&&bg(xe,t,r)}p!==null&&p.observe(r,Qx)}finally{zt=h,jt=u}}if(y!==null){var Be=y;let xe=Array.from(t._listeners.mutation),Ke=xe.length;for(let Fe=0;Fe<Ke;Fe++){let[Le,St]=xe[Fe],ne=Be.get(St);ne!==void 0&&Le(ne,{dirtyLeaves:E,prevEditorState:s,updateTags:L})}}Se(l)||l===null||o!==null&&o.is(l)||t.dispatchCommand(Tf,void 0);var qe=t._pendingDecorators;qe!==null&&(t._decorators=qe,t._pendingDecorators=null,Ha("decorator",t,!0,qe));var et=Ox(e||s),Nt=Ox(n);if(et!==Nt&&Ha("textcontent",t,!0,Nt),Ha("update",t,!0,{dirtyElements:v,dirtyLeaves:E,editorState:n,normalizedNodes:N,prevEditorState:e||s,tags:L}),t._deferred=[],k.length!==0){let xe=t._updating;t._updating=!0;try{for(let Ke=0;Ke<k.length;Ke++)k[Ke]()}finally{t._updating=xe}}var ze=t._updates;if(ze.length!==0){let xe=ze.shift();if(xe){let[Ke,Fe]=xe;hR(t,Ke,Fe)}}}}function Ha(t,e,n,...r){let i=e._updating;e._updating=n;try{let s=Array.from(e._listeners[t]);for(t=0;t<s.length;t++)s[t].apply(null,r)}finally{e._updating=i}}function re(t,e,n){if(t._updating===!1||zt!==t){let s=!1;return t.update(()=>{s=re(t,e,n)}),s}let r=w0(t);for(let s=4;0<=s;s--)for(let o=0;o<r.length;o++){var i=r[o]._commands.get(e);if(i!==void 0&&(i=i[s],i!==void 0)){i=Array.from(i);let l=i.length;for(let a=0;a<l;a++)if(i[a](n,t)===!0)return!0}}return!1}function Zx(t,e){let n=t._updates;for(e=e||!1;n.length!==0;){var r=n.shift();if(r){let[i,s]=r,o;s!==void 0&&(r=s.onUpdate,o=s.tag,s.skipTransforms&&(e=!0),r&&t._deferred.push(r),o&&t._updateTags.add(o)),i()}}return e}function hR(t,e,n){let r=t._updateTags;var i,s=i=!1;if(n!==void 0){var o=n.onUpdate;i=n.tag,i!=null&&r.add(i),i=n.skipTransforms||!1,s=n.discrete||!1}o&&t._deferred.push(o),n=t._editorState,o=t._pendingEditorState;let l=!1;(o===null||o._readOnly)&&(o=t._pendingEditorState=new Df(new Map((o||n)._nodeMap)),l=!0),o._flushSync=s,s=jt;let a=Fn,u=zt,d=t._updating;jt=o,Fn=!1,t._updating=!0,zt=t;try{l&&(t._headless?n._selection!=null&&(o._selection=n._selection.clone()):o._selection=_5(t));let h=t._compositionKey;e(),i=Zx(t,i),y5(o,t),t._dirtyType!==0&&(i?x5(o,t):w5(o,t),Zx(t),Z6(n,o,t._dirtyLeaves,t._dirtyElements)),h!==t._compositionKey&&(o._flushSync=!0);let f=o._selection;if(Se(f)){let p=o._nodeMap,y=f.focus.key;p.get(f.anchor.key)!==void 0&&p.get(y)!==void 0||se(19)}else sc(f)&&f._nodes.size===0&&(o._selection=null)}catch(h){h instanceof Error&&t._onError(h),t._pendingEditorState=n,t._dirtyType=2,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements.clear(),Us(t);return}finally{jt=s,Fn=a,zt=u,t._updating=d,Du=0}t._dirtyType!==0||T5(o,t)?o._flushSync?(o._flushSync=!1,Us(t)):l&&Q6(()=>{Us(t)}):(o._flushSync=!1,l&&(r.clear(),t._deferred=[],t._pendingEditorState=null))}function Hn(t,e,n){t._updating?t._updates.push([e,n]):hR(t,e,n)}class fR extends ic{constructor(e){super(e)}decorate(){se(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function xt(t){return t instanceof fR}class co extends ic{constructor(e){super(e),this.__last=this.__first=null,this.__indent=this.__format=this.__size=0,this.__dir=null}getFormat(){return this.getLatest().__format}getFormatType(){let e=this.getFormat();return W6[e]||""}getIndent(){return this.getLatest().__indent}getChildren(){let e=[],n=this.getFirstChild();for(;n!==null;)e.push(n),n=n.getNextSibling();return e}getChildrenKeys(){let e=[],n=this.getFirstChild();for(;n!==null;)e.push(n.__key),n=n.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return this.getChildrenSize()===0}isDirty(){let e=pt()._dirtyElements;return e!==null&&e.has(this.__key)}isLastChild(){let e=this.getLatest(),n=this.getParentOrThrow().getLastChild();return n!==null&&n.is(e)}getAllTextNodes(){let e=[],n=this.getFirstChild();for(;n!==null;){if(de(n)&&e.push(n),J(n)){let r=n.getAllTextNodes();e.push(...r)}n=n.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;e!==null;){if(J(e)){let n=e.getFirstChild();if(n!==null){e=n;continue}}break}return e}getLastDescendant(){let e=this.getLastChild();for(;e!==null;){if(J(e)){let n=e.getLastChild();if(n!==null){e=n;continue}}break}return e}getDescendantByIndex(e){let n=this.getChildren(),r=n.length;return e>=r?(e=n[r-1],J(e)&&e.getLastDescendant()||e||null):(e=n[e],J(e)&&e.getFirstDescendant()||e||null)}getFirstChild(){let e=this.getLatest().__first;return e===null?null:pn(e)}getFirstChildOrThrow(){let e=this.getFirstChild();return e===null&&se(45,this.__key),e}getLastChild(){let e=this.getLatest().__last;return e===null?null:pn(e)}getLastChildOrThrow(){let e=this.getLastChild();return e===null&&se(96,this.__key),e}getChildAtIndex(e){var n=this.getChildrenSize();let r;if(e<n/2){for(r=this.getFirstChild(),n=0;r!==null&&n<=e;){if(n===e)return r;r=r.getNextSibling(),n++}return null}for(r=this.getLastChild(),--n;r!==null&&n>=e;){if(n===e)return r;r=r.getPreviousSibling(),n--}return null}getTextContent(){let e="",n=this.getChildren(),r=n.length;for(let i=0;i<r;i++){let s=n[i];e+=s.getTextContent(),J(s)&&i!==r-1&&!s.isInline()&&(e+=`

`)}return e}getTextContentSize(){let e=0,n=this.getChildren(),r=n.length;for(let i=0;i<r;i++){let s=n[i];e+=s.getTextContentSize(),J(s)&&i!==r-1&&!s.isInline()&&(e+=2)}return e}getDirection(){return this.getLatest().__dir}hasFormat(e){return e!==""?(e=Nx[e],(this.getFormat()&e)!==0):!1}select(e,n){Tn();let r=it(),i=e,s=n;var o=this.getChildrenSize();if(!this.canBeEmpty()){if(e===0&&n===0){if(e=this.getFirstChild(),de(e)||J(e))return e.select(0,0)}else if(!(e!==void 0&&e!==o||n!==void 0&&n!==o)&&(e=this.getLastChild(),de(e)||J(e)))return e.select()}if(i===void 0&&(i=o),s===void 0&&(s=o),o=this.__key,Se(r))r.anchor.set(o,i,"element"),r.focus.set(o,s,"element"),r.dirty=!0;else return cR(o,i,o,s,"element","element");return r}selectStart(){let e=this.getFirstDescendant();return e?e.selectStart():this.select()}selectEnd(){let e=this.getLastDescendant();return e?e.selectEnd():this.select()}clear(){let e=this.getWritable();return this.getChildren().forEach(n=>n.remove()),e}append(...e){return this.splice(this.getChildrenSize(),0,e)}setDirection(e){let n=this.getWritable();return n.__dir=e,n}setFormat(e){return this.getWritable().__format=e!==""?Nx[e]:0,this}setIndent(e){return this.getWritable().__indent=e,this}splice(e,n,r){let i=r.length,s=this.getChildrenSize(),o=this.getWritable(),l=o.__key;var a=[],u=[];let d=this.getChildAtIndex(e+n),h=null,f=s-n+i;if(e!==0)if(e===s)h=this.getLastChild();else{var p=this.getChildAtIndex(e);p!==null&&(h=p.getPreviousSibling())}if(0<n){var y=h===null?this.getFirstChild():h.getNextSibling();for(p=0;p<n;p++){y===null&&se(100);var w=y.getNextSibling(),C=y.__key;y=y.getWritable(),Bs(y),u.push(C),y=w}}for(p=h,w=0;w<i;w++){C=r[w],p!==null&&C.is(p)&&(h=p=p.getPreviousSibling()),y=C.getWritable(),y.__parent===l&&f--,Bs(y);let _=C.__key;p===null?(o.__first=_,y.__prev=null):(p=p.getWritable(),p.__next=_,y.__prev=p.__key),C.__key===l&&se(76),y.__parent=l,a.push(_),p=C}if(e+n===s?p!==null&&(p.getWritable().__next=null,o.__last=p.__key):d!==null&&(e=d.getWritable(),p!==null?(n=p.getWritable(),e.__prev=p.__key,n.__next=d.__key):e.__prev=null),o.__size=f,u.length&&(e=it(),Se(e))){u=new Set(u),a=new Set(a);let{anchor:_,focus:E}=e;ew(_,u,a)&&Nh(_,_.getNode(),this,h,d),ew(E,u,a)&&Nh(E,E.getNode(),this,h,d),f!==0||this.canBeEmpty()||us(this)||this.remove()}return o}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"element",version:1}}insertNewAfter(){return null}canIndent(){return!0}collapseAtStart(){return!1}excludeFromCopy(){return!1}canExtractContents(){return!0}canReplaceWith(){return!0}canInsertAfter(){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(){return!1}extractWithChild(){return!1}}function J(t){return t instanceof co}function ew(t,e,n){for(t=t.getNode();t;){let r=t.__key;if(e.has(r)&&!n.has(r))return!0;t=t.getParent()}return!1}class Vl extends co{static getType(){return"root"}static clone(){return new Vl}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){se(51)}getTextContent(){let e=this.__cachedText;return!$l()&&pt()._dirtyType!==0||e===null?super.getTextContent():e}remove(){se(52)}replace(){se(53)}insertBefore(){se(54)}insertAfter(){se(55)}updateDOM(){return!1}append(...e){for(let n=0;n<e.length;n++){let r=e[n];J(r)||xt(r)||se(56)}return super.append(...e)}static importJSON(e){let n=Mn();return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"root",version:1}}collapseAtStart(){return!0}}function zn(t){return t instanceof Vl}function T5(t,e){if(e=e.getEditorState()._selection,t=t._selection,t!==null){if(t.dirty||!t.is(e))return!0}else if(e!==null)return!0;return!1}function P0(){return new Df(new Map([["root",new Vl]]))}function pR(t){let e=t.exportJSON();var n=t.constructor;if(e.type!==n.getType()&&se(130,n.name),J(t)){let r=e.children;for(Array.isArray(r)||se(59,n.name),t=t.getChildren(),n=0;n<t.length;n++){let i=pR(t[n]);r.push(i)}}return e}class Df{constructor(e,n){this._nodeMap=e,this._selection=n||null,this._readOnly=this._flushSync=!1}isEmpty(){return this._nodeMap.size===1&&this._selection===null}read(e){return Xx(this,e)}clone(e){return e=new Df(this._nodeMap,e===void 0?this._selection:e),e._readOnly=!0,e}toJSON(){return Xx(this,()=>({root:pR(Mn())}))}}class Bl extends co{static getType(){return"paragraph"}static clone(e){return new Bl(e.__key)}createDOM(e){let n=document.createElement("p");return e=ja(e.theme,"paragraph"),e!==void 0&&n.classList.add(...e),n}updateDOM(){return!1}static importDOM(){return{p:()=>({conversion:C5,priority:0})}}exportDOM(e){if({element:e}=super.exportDOM(e),e&&kf(e)){this.isEmpty()&&e.append(document.createElement("br"));var n=this.getFormatType();e.style.textAlign=n,(n=this.getDirection())&&(e.dir=n),n=this.getIndent(),0<n&&(e.style.textIndent=`${20*n}px`)}return{element:e}}static importJSON(e){let n=hi();return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}exportJSON(){return{...super.exportJSON(),type:"paragraph",version:1}}insertNewAfter(e,n){e=hi();let r=this.getDirection();return e.setDirection(r),this.insertAfter(e,n),e}collapseAtStart(){let e=this.getChildren();if(e.length===0||de(e[0])&&e[0].getTextContent().trim()===""){if(this.getNextSibling()!==null)return this.selectNext(),this.remove(),!0;if(this.getPreviousSibling()!==null)return this.selectPrevious(),this.remove(),!0}return!1}}function C5(t){let e=hi();return t.style&&(e.setFormat(t.style.textAlign),t=parseInt(t.style.textIndent,10)/20,0<t&&e.setIndent(t)),{node:e}}function hi(){return rc(new Bl)}function mR(t,e,n,r){let i=t._keyToDOMMap;i.clear(),t._editorState=P0(),t._pendingEditorState=r,t._compositionKey=null,t._dirtyType=0,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements.clear(),t._normalizedNodes=new Set,t._updateTags=new Set,t._updates=[],t._blockCursorElement=null,r=t._observer,r!==null&&(r.disconnect(),t._observer=null),e!==null&&(e.textContent=""),n!==null&&(n.textContent="",i.set("root",n))}function S5(t,e){let n=new Map,r=new Set,i=s=>{Object.keys(s).forEach(o=>{let l=n.get(o);l===void 0&&(l=[],n.set(o,l)),l.push(s[o])})};return t.forEach(s=>{s=s.klass.importDOM!=null?s.klass.importDOM.bind(s.klass):null,s==null||r.has(s)||(r.add(s),s=s(),s!==null&&i(s))}),e&&i(e),n}class A5{constructor(e,n,r,i,s,o,l){this._parentEditor=n,this._rootElement=null,this._editorState=e,this._compositionKey=this._pendingEditorState=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=i,this._nodes=r,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=zk(),this._onError=s,this._htmlConversions=o,this._editable=l,this._headless=n!==null&&n._headless,this._blockCursorElement=this._window=null}isComposing(){return this._compositionKey!=null}registerUpdateListener(e){let n=this._listeners.update;return n.add(e),()=>{n.delete(e)}}registerEditableListener(e){let n=this._listeners.editable;return n.add(e),()=>{n.delete(e)}}registerDecoratorListener(e){let n=this._listeners.decorator;return n.add(e),()=>{n.delete(e)}}registerTextContentListener(e){let n=this._listeners.textcontent;return n.add(e),()=>{n.delete(e)}}registerRootListener(e){let n=this._listeners.root;return e(this._rootElement,null),n.add(e),()=>{e(null,this._rootElement),n.delete(e)}}registerCommand(e,n,r){r===void 0&&se(35);let i=this._commands;i.has(e)||i.set(e,[new Set,new Set,new Set,new Set,new Set]);let s=i.get(e);s===void 0&&se(36,String(e));let o=s[r];return o.add(n),()=>{o.delete(n),s.every(l=>l.size===0)&&i.delete(e)}}registerMutationListener(e,n){this._nodes.get(e.getType())===void 0&&se(37,e.name);let r=this._listeners.mutation;return r.set(n,e),()=>{r.delete(n)}}registerNodeTransformToKlass(e,n){var r=e.getType();return r=this._nodes.get(r),r===void 0&&se(37,e.name),r.transforms.add(n),r}registerNodeTransform(e,n){var r=this.registerNodeTransformToKlass(e,n);let i=[r];return r=r.replaceWithKlass,r!=null&&(r=this.registerNodeTransformToKlass(r,n),i.push(r)),Y6(this,e.getType()),()=>{i.forEach(s=>s.transforms.delete(n))}}hasNode(e){return this._nodes.has(e.getType())}hasNodes(e){return e.every(this.hasNode.bind(this))}dispatchCommand(e,n){return re(this,e,n)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){let n=this._rootElement;if(e!==n){let o=ja(this._config.theme,"root");var r=this._pendingEditorState||this._editorState;if(this._rootElement=e,mR(this,n,e,r),n!==null){if(!this._config.disableEvents){za!==0&&(za--,za===0&&n.ownerDocument.removeEventListener("selectionchange",oR));var i=n.__lexicalEditor;if(i!=null){if(i._parentEditor!==null){var s=w0(i);s=s[s.length-1]._key,nl.get(s)===i&&nl.delete(s)}else nl.delete(i._key);n.__lexicalEditor=null}for(i=sR(n),s=0;s<i.length;s++)i[s]();n.__lexicalEventHandles=[]}o!=null&&n.classList.remove(...o)}e!==null?(r=(r=e.ownerDocument)&&r.defaultView||null,i=e.style,i.userSelect="text",i.whiteSpace="pre-wrap",i.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=r,this._dirtyType=2,Mk(this),this._updateTags.add("history-merge"),Us(this),this._config.disableEvents||a5(e,this),o!=null&&e.classList.add(...o)):(this._editorState=r,this._window=this._pendingEditorState=null),Ha("root",this,!1,e,n)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,n){e.isEmpty()&&se(38),Fk(this);let r=this._pendingEditorState,i=this._updateTags;n=n!==void 0?n.tag:null,r===null||r.isEmpty()||(n!=null&&i.add(n),Us(this)),this._pendingEditorState=e,this._dirtyType=2,this._dirtyElements.set("root",!1),this._compositionKey=null,n!=null&&i.add(n),Us(this)}parseEditorState(e,n){e=typeof e=="string"?JSON.parse(e):e;let r=P0(),i=jt,s=Fn,o=zt,l=this._dirtyElements,a=this._dirtyLeaves,u=this._cloneNotNeeded,d=this._dirtyType;this._dirtyElements=new Map,this._dirtyLeaves=new Set,this._cloneNotNeeded=new Set,this._dirtyType=0,jt=r,Fn=!1,zt=this;try{N0(e.root,this._nodes),n&&n(),r._readOnly=!0}catch(h){h instanceof Error&&this._onError(h)}finally{this._dirtyElements=l,this._dirtyLeaves=a,this._cloneNotNeeded=u,this._dirtyType=d,jt=i,Fn=s,zt=o}return r}update(e,n){Hn(this,e,n)}focus(e,n={}){let r=this._rootElement;r!==null&&(r.setAttribute("autocapitalize","off"),Hn(this,()=>{let i=it(),s=Mn();i!==null?i.dirty=!0:s.getChildrenSize()!==0&&(n.defaultSelection==="rootStart"?s.selectStart():s.selectEnd())},{onUpdate:()=>{r.removeAttribute("autocapitalize"),e&&e()},tag:"focus"}),this._pendingEditorState===null&&r.removeAttribute("autocapitalize"))}blur(){var e=this._rootElement;e!==null&&e.blur(),e=Lr(this._window),e!==null&&e.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,Ha("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}}class D0 extends co{constructor(e,n){super(n),this.__colSpan=e,this.__rowSpan=1}exportJSON(){return{...super.exportJSON(),colSpan:this.__colSpan,rowSpan:this.__rowSpan}}getColSpan(){return this.__colSpan}setColSpan(e){return this.getWritable().__colSpan=e,this}getRowSpan(){return this.__rowSpan}setRowSpan(e){return this.getWritable().__rowSpan=e,this}}function Uo(t){return t instanceof D0}class gR extends co{}function _R(t){return t instanceof gR}class yR extends co{}function b0(t){return t instanceof yR}j.$INTERNAL_isPointSelection=k0;j.$addUpdateTag=function(t){Tn(),pt()._updateTags.add(t)};j.$applyNodeReplacement=rc;j.$copyNode=Kk;j.$createLineBreakNode=xl;j.$createNodeSelection=Kg;j.$createParagraphNode=hi;j.$createPoint=yr;j.$createRangeSelection=function(){let t=yr("root",0,"element"),e=yr("root",0,"element");return new ys(t,e,0,"")};j.$createTabNode=Nf;j.$createTextNode=Qt;j.$getAdjacentNode=Dg;j.$getNearestNodeFromDOMNode=nc;j.$getNearestRootOrShadowRoot=Hk;j.$getNodeByKey=pn;j.$getPreviousSelection=Ll;j.$getRoot=Mn;j.$getSelection=it;j.$getTextContent=function(){let t=it();return t===null?"":t.getTextContent()};j.$hasAncestor=Ih;j.$hasUpdateTag=function(t){return pt()._updateTags.has(t)};j.$insertNodes=function(t){let e=it()||Ll();e===null&&(e=Mn().selectEnd()),e.insertNodes(t)};j.$isBlockElementNode=function(t){return J(t)&&!t.isInline()};j.$isDecoratorNode=xt;j.$isElementNode=J;j.$isInlineElementOrDecoratorNode=function(t){return J(t)&&t.isInline()||xt(t)&&t.isInline()};j.$isLeafNode=function(t){return de(t)||to(t)||xt(t)};j.$isLineBreakNode=to;j.$isNodeSelection=sc;j.$isParagraphNode=function(t){return t instanceof Bl};j.$isRangeSelection=Se;j.$isRootNode=zn;j.$isRootOrShadowRoot=us;j.$isTabNode=lR;j.$isTextNode=de;j.$nodesOfType=function(t){var e=$r();let n=e._readOnly,r=t.getType();e=e._nodeMap;let i=[];for(let[,s]of e)s instanceof t&&s.__type===r&&(n||s.isAttached())&&i.push(s);return i};j.$normalizeSelection__EXPERIMENTAL=$k;j.$parseSerializedNode=function(t){return N0(t,pt()._nodes)};j.$selectAll=function(){var t=Mn();t=t.select(0,t.getChildrenSize()),br($k(t))};j.$setCompositionKey=Lt;j.$setSelection=br;j.$splitNode=function(t,e){let n=t.getChildAtIndex(e);n==null&&(n=t),us(t)&&se(102);let r=o=>{const l=o.getParentOrThrow(),a=us(l),u=o!==n||a?Kk(o):o;if(a){if(!J(o)||!J(u))throw Error("Children of a root must be ElementNode");return o.insertAfter(u),[o,u,u]}const[d,h,f]=r(l);return o=o.getNextSiblings(),f.append(u,...o),[d,h,u]},[i,s]=r(n);return[i,s]};j.BLUR_COMMAND=Dk;j.CAN_REDO_COMMAND={};j.CAN_UNDO_COMMAND={};j.CLEAR_EDITOR_COMMAND={};j.CLEAR_HISTORY_COMMAND={};j.CLICK_COMMAND=pk;j.COMMAND_PRIORITY_CRITICAL=4;j.COMMAND_PRIORITY_EDITOR=0;j.COMMAND_PRIORITY_HIGH=3;j.COMMAND_PRIORITY_LOW=1;j.COMMAND_PRIORITY_NORMAL=2;j.CONTROLLED_TEXT_INSERTION_COMMAND=tl;j.COPY_COMMAND=m0;j.CUT_COMMAND=g0;j.DELETE_CHARACTER_COMMAND=el;j.DELETE_LINE_COMMAND=ku;j.DELETE_WORD_COMMAND=Iu;j.DEPRECATED_$computeGridMap=function(t,e,n){let r=[],i=null,s=null;t=t.getChildren();for(let d=0;d<t.length;d++){var o=t[d];b0(o)||se(108);var l=o.getChildren();o=0;for(let h of l){for(Uo(h)||se(109);r[d]!==void 0&&r[d][o]!==void 0;)o++;l=d;var a=o,u=h;let f={cell:u,startColumn:a,startRow:l},p=u.__rowSpan,y=u.__colSpan;for(let w=0;w<p;w++){r[l+w]===void 0&&(r[l+w]=[]);for(let C=0;C<y;C++)r[l+w][a+C]=f}e.is(u)&&(i=f),n.is(u)&&(s=f),o+=h.__colSpan}}return i===null&&se(110),s===null&&se(111),[r,i,s]};j.DEPRECATED_$getGridCellNodeRect=function(t){let[e,,n]=dR(t);t=n.getChildren();let r=t.length;var i=t[0].getChildren().length;let s=Array(r);for(var o=0;o<r;o++)s[o]=Array(i);for(i=0;i<r;i++){o=t[i].getChildren();let l=0;for(let a=0;a<o.length;a++){for(;s[i][l];)l++;let u=o[a],d=u.__rowSpan||1,h=u.__colSpan||1;for(let f=0;f<d;f++)for(let p=0;p<h;p++)s[i+f][l+p]=u;if(e===u)return{colSpan:h,columnIndex:l,rowIndex:i,rowSpan:d};l+=h}}return null};j.DEPRECATED_$getNodeTriplet=dR;j.DEPRECATED_$isGridCellNode=Uo;j.DEPRECATED_$isGridNode=_R;j.DEPRECATED_$isGridRowNode=b0;j.DEPRECATED_GridCellNode=D0;j.DEPRECATED_GridNode=gR;j.DEPRECATED_GridRowNode=yR;j.DRAGEND_COMMAND=Nk;j.DRAGOVER_COMMAND=Rk;j.DRAGSTART_COMMAND=kk;j.DROP_COMMAND=Ik;j.DecoratorNode=fR;j.ElementNode=co;j.FOCUS_COMMAND=Pk;j.FORMAT_ELEMENT_COMMAND={};j.FORMAT_TEXT_COMMAND=Li;j.INDENT_CONTENT_COMMAND={};j.INSERT_LINE_BREAK_COMMAND=Ua;j.INSERT_PARAGRAPH_COMMAND=Ag;j.INSERT_TAB_COMMAND={};j.INTERNAL_PointSelection=I0;j.KEY_ARROW_DOWN_COMMAND=xk;j.KEY_ARROW_LEFT_COMMAND=yk;j.KEY_ARROW_RIGHT_COMMAND=gk;j.KEY_ARROW_UP_COMMAND=Ek;j.KEY_BACKSPACE_COMMAND=Tk;j.KEY_DELETE_COMMAND=Sk;j.KEY_DOWN_COMMAND=mk;j.KEY_ENTER_COMMAND=xh;j.KEY_ESCAPE_COMMAND=Ck;j.KEY_MODIFIER_COMMAND=bk;j.KEY_SPACE_COMMAND=wk;j.KEY_TAB_COMMAND=Ak;j.LineBreakNode=Fl;j.MOVE_TO_END=_k;j.MOVE_TO_START=vk;j.OUTDENT_CONTENT_COMMAND={};j.PASTE_COMMAND=h0;j.ParagraphNode=Bl;j.REDO_COMMAND=p0;j.REMOVE_TEXT_COMMAND=Ig;j.RootNode=Vl;j.SELECTION_CHANGE_COMMAND=Tf;j.SELECTION_INSERT_CLIPBOARD_NODES_COMMAND={};j.SELECT_ALL_COMMAND=kg;j.TabNode=Ml;j.TextNode=uo;j.UNDO_COMMAND=f0;j.createCommand=function(){return{}};j.createEditor=function(t){var e=t||{},n=zt,r=e.theme||{};let i=t===void 0?n:e.parentEditor||null,s=e.disableEvents||!1,o=P0(),l=e.namespace||(i!==null?i._config.namespace:zk()),a=e.editorState,u=[Vl,uo,Fl,Ml,Bl,...e.nodes||[]],{onError:d,html:h}=e;if(e=e.editable!==void 0?e.editable:!0,t===void 0&&n!==null)t=n._nodes;else for(t=new Map,n=0;n<u.length;n++){let p=u[n],y=null;var f=null;typeof p!="function"&&(f=p,p=f.replace,y=f.with,f=f.withKlass||null);let w=p.getType(),C=p.transform(),_=new Set;C!==null&&_.add(C),t.set(w,{exportDOM:h&&h.export?h.export.get(p):void 0,klass:p,replace:y,replaceWithKlass:f,transforms:_})}return r=new A5(o,i,t,{disableEvents:s,namespace:l,theme:r},d||console.error,S5(t,h?h.import:void 0),e),a!==void 0&&(r._pendingEditorState=a,r._dirtyType=2),r};j.getNearestEditorFromDOMNode=x0;j.isCurrentlyReadOnlyMode=$l;j.isHTMLAnchorElement=function(t){return kf(t)&&t.tagName==="A"};j.isHTMLElement=kf;j.isSelectionCapturedInDecoratorInput=E0;j.isSelectionWithinEditor=tc;const I5=j;var _e=I5,he=_e;let Ph=new Map;function tw(t){for(;t!=null;){if(t.nodeType===Node.TEXT_NODE)return t;t=t.firstChild}return null}function nw(t){let e=t.parentNode;if(e==null)throw Error("Should never happen");return[e,Array.from(e.childNodes).indexOf(t)]}function vR(t){let e={};t=t.split(";");for(let n of t)if(n!==""){let[r,i]=n.split(/:([^]+)/);r&&i&&(e[r.trim()]=i.trim())}return e}function Dh(t){let e=Ph.get(t);return e===void 0&&(e=vR(t),Ph.set(t,e)),e}function k5(t){let e="";for(let n in t)n&&(e+=`${n}: ${t[n]};`);return e}function _o(t,e){var n=Dh("getStyle"in t?t.getStyle():t.style);e=Object.entries(e).reduce((r,[i,s])=>(s===null?delete r[i]:r[i]=s,r),{...n}),n=k5(e),t.setStyle(n),Ph.set(n,e)}function ER(t,e){var n=t.getNodes(),r=n.length;if(he.$isRangeSelection(t)){--r;var i=n[0],s=n[r];if(t.isCollapsed()&&he.$isRangeSelection(t))_o(t,e);else{var o=t.anchor,l=t.focus,a=i.getTextContent().length,u=l.offset,d=o.offset,h=o.isBefore(l),f=h?d:u;t=h?u:d;var p=h?o.type:l.type,y=h?l.type:o.type;if(l=h?l.key:o.key,he.$isTextNode(i)&&f===a&&(h=i.getNextSibling(),he.$isTextNode(h)&&(f=d=0,i=h)),n.length===1)he.$isTextNode(i)&&(f=p==="element"?0:d>u?u:d,t=y==="element"?a:d>u?d:u,f!==t&&(f===0&&t===a?(_o(i,e),i.select(f,t)):(n=i.splitText(f,t),n=f===0?n[0]:n[1],_o(n,e),n.select(0,t-f))));else for(he.$isTextNode(i)&&f<i.getTextContentSize()&&(f!==0&&(i=i.splitText(f)[1],f=0,o.set(i.getKey(),f,"text")),_o(i,e)),he.$isTextNode(s)&&(f=s.getTextContent().length,s.__key!==l&&t!==0&&(t=f),t!==f&&([s]=s.splitText(t)),t!==0&&_o(s,e)),t=1;t<r;t++)f=n[t],o=f.getKey(),he.$isTextNode(f)&&o!==i.getKey()&&o!==s.getKey()&&!f.isToken()&&_o(f,e)}}else{for(i=he.$createRangeSelection(),s=i.anchor,f=i.focus,o=0;o<r;o++)a=n[o],he.DEPRECATED_$isGridCellNode(a)&&(s.set(a.getKey(),0,"element"),f.set(a.getKey(),a.getChildrenSize(),"element"),ER(he.$normalizeSelection__EXPERIMENTAL(i),e));he.$setSelection(t)}}function R5(t){for(;t!==null&&!he.$isRootOrShadowRoot(t);){let e=t.getLatest(),n=t.getParent();e.getChildrenSize()===0&&t.remove(!0),t=n}}function Gp(t,e,n,r,i=null){if(e.length!==0){var s=e[0],o=new Map,l=[];s=he.$isElementNode(s)?s:s.getParentOrThrow(),s.isInline()&&(s=s.getParentOrThrow());for(var a=!1;s!==null;){var u=s.getPreviousSibling();if(u!==null){s=u,a=!0;break}if(s=s.getParentOrThrow(),he.$isRootOrShadowRoot(s))break}u=new Set;for(var d=0;d<n;d++){var h=e[d];he.$isElementNode(h)&&h.getChildrenSize()===0&&u.add(h.getKey())}var f=new Set;for(d=0;d<n;d++){h=e[d];var p=h.getParent();if(p!==null&&p.isInline()&&(p=p.getParent()),p!==null&&he.$isLeafNode(h)&&!f.has(h.getKey())){if(h=p.getKey(),o.get(h)===void 0){let y=r();y.setFormat(p.getFormatType()),y.setIndent(p.getIndent()),l.push(y),o.set(h,y),p.getChildren().forEach(w=>{y.append(w),f.add(w.getKey()),he.$isElementNode(w)&&w.getChildrenKeys().forEach(C=>f.add(C))}),R5(p)}}else if(u.has(h.getKey())){if(!he.$isElementNode(h))throw Error("Expected node in emptyElements to be an ElementNode");p=r(),p.setFormat(h.getFormatType()),p.setIndent(h.getIndent()),l.push(p),h.remove(!0)}}if(i!==null)for(e=0;e<l.length;e++)i.append(l[e]);if(e=null,he.$isRootOrShadowRoot(s))if(a)if(i!==null)s.insertAfter(i);else for(i=l.length-1;0<=i;i--)s.insertAfter(l[i]);else if(a=s.getFirstChild(),he.$isElementNode(a)&&(s=a),a===null)if(i)s.append(i);else for(i=0;i<l.length;i++)a=l[i],s.append(a),e=a;else if(i!==null)a.insertBefore(i);else for(s=0;s<l.length;s++)i=l[s],a.insertBefore(i),e=i;else if(i)s.insertAfter(i);else for(i=l.length-1;0<=i;i--)a=l[i],s.insertAfter(a),e=a;l=he.$getPreviousSelection(),he.$isRangeSelection(l)&&l.anchor.getNode().isAttached()&&l.focus.getNode().isAttached()?he.$setSelection(l.clone()):e!==null?e.selectEnd():t.dirty=!0}}function xR(t,e,n,r){t.modify(e?"extend":"move",n,r)}function wR(t){return t=t.anchor.getNode(),(he.$isRootNode(t)?t:t.getParentOrThrow()).getDirection()==="rtl"}function Jp(t){if(he.$isDecoratorNode(t)&&!t.isInline())return!0;if(!he.$isElementNode(t)||he.$isRootOrShadowRoot(t))return!1;var e=t.getFirstChild();return e=e===null||he.$isLineBreakNode(e)||he.$isTextNode(e)||e.isInline(),!t.isInline()&&t.canBeEmpty()!==!1&&e}Ht.$addNodeStyle=function(t){t=t.getStyle();let e=vR(t);Ph.set(t,e)};Ht.$cloneWithProperties=function(t){let e=t.constructor.clone(t);return e.__parent=t.__parent,e.__next=t.__next,e.__prev=t.__prev,he.$isElementNode(t)&&he.$isElementNode(e)?(e.__first=t.__first,e.__last=t.__last,e.__size=t.__size,e.__format=t.__format,e.__indent=t.__indent,e.__dir=t.__dir,e):(he.$isTextNode(t)&&he.$isTextNode(e)&&(e.__format=t.__format,e.__style=t.__style,e.__mode=t.__mode,e.__detail=t.__detail),e)};Ht.$getSelectionStyleValueForProperty=function(t,e,n=""){let r=null,i=t.getNodes();var s=t.anchor,o=t.focus,l=t.isBackward();let a=l?o.offset:s.offset;if(s=l?o.getNode():s.getNode(),t.isCollapsed()&&t.style!==""&&(t=Dh(t.style),t!==null&&e in t))return t[e];for(t=0;t<i.length;t++){var u=i[t];if((t===0||a!==0||!u.is(s))&&he.$isTextNode(u)){if(o=e,l=n,u=u.getStyle(),u=Dh(u),o=u!==null&&u[o]||l,r===null)r=o;else if(r!==o){r="";break}}}return r===null?n:r};Ht.$isAtNodeEnd=function(t){if(t.type==="text")return t.offset===t.getNode().getTextContentSize();let e=t.getNode();if(!he.$isElementNode(e))throw Error("isAtNodeEnd: node must be a TextNode or ElementNode");return t.offset===e.getChildrenSize()};Ht.$isParentElementRTL=wR;Ht.$moveCaretSelection=xR;Ht.$moveCharacter=function(t,e,n){let r=wR(t);xR(t,e,n?!r:r,"character")};Ht.$patchStyleText=ER;Ht.$selectAll=function(t){let e=t.anchor;t=t.focus;var n=e.getNode().getTopLevelElementOrThrow().getParentOrThrow();let r=n.getFirstDescendant();n=n.getLastDescendant();let i="element",s="element",o=0;he.$isTextNode(r)?i="text":he.$isElementNode(r)||r===null||(r=r.getParentOrThrow()),he.$isTextNode(n)?(s="text",o=n.getTextContentSize()):he.$isElementNode(n)||n===null||(n=n.getParentOrThrow()),r&&n&&(e.set(r.getKey(),0,i),t.set(n.getKey(),o,s))};Ht.$setBlocksType=function(t,e){if(t.anchor.key==="root"){e=e();var n=he.$getRoot();(t=n.getFirstChild())?t.replace(e,!0):n.append(e)}else{for(n=t.getNodes(),t=t.anchor.getNode();t!==null&&t.getParent()!==null&&!Jp(t);)t=t.getParentOrThrow();for((t=Jp(t)?t:null)&&n.indexOf(t)===-1&&n.push(t),t=0;t<n.length;t++){let r=n[t];if(!Jp(r))continue;if(!he.$isElementNode(r))throw Error("Expected block node to be an ElementNode");let i=e();i.setFormat(r.getFormatType()),i.setIndent(r.getIndent()),r.replace(i,!0)}}};Ht.$shouldOverrideDefaultCharacterSelection=function(t,e){return t=he.$getAdjacentNode(t.focus,e),he.$isDecoratorNode(t)&&!t.isIsolated()||he.$isElementNode(t)&&!t.isInline()&&!t.canBeEmpty()};Ht.$sliceSelectedTextNodeContent=function(t,e){if(e.isSelected(t)&&!e.isSegmented()&&!e.isToken()&&he.$INTERNAL_isPointSelection(t)){var n=t.anchor.getNode(),r=t.focus.getNode(),i=e.is(n),s=e.is(r);if(i||s){i=t.isBackward();let[o,l]=t.getCharacterOffsets();t=n.is(r),s=e.is(i?r:n),r=e.is(i?n:r),n=0;let a;t?(n=o>l?l:o,a=o>l?o:l):s?(n=i?l:o,a=void 0):r&&(i=i?o:l,n=0,a=i),e.__text=e.__text.slice(n,a)}}return e};Ht.$wrapNodes=function(t,e,n=null){var r=t.getNodes();let i=r.length;var s=t.anchor;if(i===0||i===1&&s.type==="element"&&s.getNode().getChildrenSize()===0){t=s.type==="text"?s.getNode().getParentOrThrow():s.getNode(),r=t.getChildren();let l=e();l.setFormat(t.getFormatType()),l.setIndent(t.getIndent()),r.forEach(a=>l.append(a)),n&&(l=n.append(l)),t.replace(l)}else{s=null;var o=[];for(let l=0;l<i;l++){let a=r[l];he.$isRootOrShadowRoot(a)?(Gp(t,o,o.length,e,n),o=[],s=a):s===null||s!==null&&he.$hasAncestor(a,s)?o.push(a):(Gp(t,o,o.length,e,n),o=[a])}Gp(t,o,o.length,e,n)}};Ht.createDOMRange=function(t,e,n,r,i){let s=e.getKey(),o=r.getKey(),l=document.createRange(),a=t.getElementByKey(s);if(t=t.getElementByKey(o),he.$isTextNode(e)&&(a=tw(a)),he.$isTextNode(r)&&(t=tw(t)),e===void 0||r===void 0||a===null||t===null)return null;a.nodeName==="BR"&&([a,n]=nw(a)),t.nodeName==="BR"&&([t,i]=nw(t)),e=a.firstChild,a===t&&e!=null&&e.nodeName==="BR"&&n===0&&i===0&&(i=1);try{l.setStart(a,n),l.setEnd(t,i)}catch{return null}return!l.collapsed||n===i&&s===o||(l.setStart(t,i),l.setEnd(a,n)),l};Ht.createRectsFromDOMRange=function(t,e){var n=t.getRootElement();if(n===null)return[];t=n.getBoundingClientRect(),n=getComputedStyle(n),n=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),e=Array.from(e.getClientRects());let r=e.length;e.sort((s,o)=>{let l=s.top-o.top;return 3>=Math.abs(l)?s.left-o.left:l});let i;for(let s=0;s<r;s++){let o=e[s],l=o.width+n===t.width;i&&i.top<=o.top&&i.top+i.height>o.top&&i.left+i.width>o.left||l?(e.splice(s--,1),r--):i=o}return e};Ht.getStyleObjectFromCSS=Dh;Ht.trimTextContentFromAnchor=function(t,e,n){let r=e.getNode();if(he.$isElementNode(r)){var i=r.getDescendantByIndex(e.offset);i!==null&&(r=i)}for(;0<n&&r!==null;){he.$isElementNode(r)&&(i=r.getLastDescendant(),i!==null&&(r=i));var s=r.getPreviousSibling(),o=0;if(s===null){i=r.getParentOrThrow();for(var l=i.getPreviousSibling();l===null;){if(i=i.getParent(),i===null){s=null;break}l=i.getPreviousSibling()}i!==null&&(o=i.isInline()?0:2,s=l)}if(l=r.getTextContent(),l===""&&he.$isElementNode(r)&&!r.isInline()&&(l=`

`),i=l.length,!he.$isTextNode(r)||n>=i)l=r.getParent(),r.remove(),l==null||l.getChildrenSize()!==0||he.$isRootNode(l)||l.remove(),n-=i+o,r=s;else{let a=r.getKey();o=t.getEditorState().read(()=>{const d=he.$getNodeByKey(a);return he.$isTextNode(d)&&d.isSimpleText()?d.getTextContent():null}),s=i-n;let u=l.slice(0,s);o!==null&&o!==l?(n=he.$getPreviousSelection(),i=r,r.isSimpleText()?r.setTextContent(o):(i=he.$createTextNode(o),r.replace(i)),he.$isRangeSelection(n)&&n.isCollapsed()&&(n=n.anchor.offset,i.select(n,n))):r.isSimpleText()?(o=e.key===a,l=e.offset,l<n&&(l=i),n=o?l-n:0,i=o?l:s,o&&n===0?([n]=r.splitText(n,i),n.remove()):([,n]=r.splitText(n,i),n.remove())):(n=he.$createTextNode(u),r.replace(n)),n=0}}};const N5=Ht;var oc=N5,TR=oc,ut=_e;function P5(t){let e=new URLSearchParams;e.append("code",t);for(let n=1;n<arguments.length;n++)e.append("v",arguments[n]);throw Error(`Minified Lexical error #${t}; visit https://lexical.dev/docs/error?${e} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function CR(...t){return()=>{t.forEach(e=>e())}}let D5={attributes:!0,characterData:!0,childList:!0,subtree:!0};function SR(t,e,n){function r(){if(o===null)throw Error("Unexpected null rootDOMNode");if(l===null)throw Error("Unexpected null parentDOMNode");let{left:f,top:p}=o.getBoundingClientRect();var y=l;let w=TR.createRectsFromDOMRange(t,e);d.isConnected||y.append(d),y=!1;for(let E=0;E<w.length;E++){var C=w[E];let v=u[E]||document.createElement("div"),N=v.style;N.position!=="absolute"&&(N.position="absolute",y=!0);var _=`${C.left-f}px`;N.left!==_&&(N.left=_,y=!0),_=`${C.top-p}px`,N.top!==_&&(v.style.top=_,y=!0),_=`${C.width}px`,N.width!==_&&(v.style.width=_,y=!0),C=`${C.height}px`,N.height!==C&&(v.style.height=C,y=!0),v.parentNode!==d&&(d.append(v),y=!0),u[E]=v}for(;u.length>w.length;)u.pop();y&&n(u)}function i(){o=l=null,a!==null&&a.disconnect(),a=null,d.remove();for(let f of u)f.remove();u=[]}function s(){let f=t.getRootElement();if(f===null)return i();let p=f.parentElement;if(!(p instanceof HTMLElement))return i();i(),o=f,l=p,a=new MutationObserver(y=>{let w=t.getRootElement(),C=w&&w.parentElement;if(w!==o||C!==l)return s();for(let _ of y)if(!d.contains(_.target))return r()}),a.observe(p,D5),r()}let o=null,l=null,a=null,u=[],d=document.createElement("div"),h=t.registerRootListener(s);return()=>{h(),i()}}function AR(t,e){for(let n of e)if(t.type.startsWith(n))return!0;return!1}let IR=(t,e)=>{for(;t!==ut.$getRoot()&&t!=null;){if(e(t))return t;t=t.getParent()}return null};Ct.$splitNode=ut.$splitNode;Ct.isHTMLAnchorElement=ut.isHTMLAnchorElement;Ct.isHTMLElement=ut.isHTMLElement;Ct.$dfs=function(t,e){let n=[];t=(t||ut.$getRoot()).getLatest(),e=e||(ut.$isElementNode(t)?t.getLastDescendant():t);for(var r=t,i=0;(r=r.getParent())!==null;)i++;for(r=i;t!==null&&!t.is(e);)if(n.push({depth:r,node:t}),ut.$isElementNode(t)&&0<t.getChildrenSize())t=t.getFirstChild(),r++;else for(i=null;i===null&&t!==null;)i=t.getNextSibling(),i===null?(t=t.getParent(),r--):t=i;return t!==null&&t.is(e)&&n.push({depth:r,node:t}),n};Ct.$filter=function(t,e){let n=[];for(let r=0;r<t.length;r++){let i=e(t[r]);i!==null&&n.push(i)}return n};Ct.$findMatchingParent=IR;Ct.$getNearestBlockElementAncestorOrThrow=function(t){let e=IR(t,n=>ut.$isElementNode(n)&&!n.isInline());return ut.$isElementNode(e)||P5(4,t.__key),e};Ct.$getNearestNodeOfType=function(t,e){for(;t!=null;){if(t instanceof e)return t;t=t.getParent()}return null};Ct.$insertFirst=function(t,e){let n=t.getFirstChild();n!==null?n.insertBefore(e):t.append(e)};Ct.$insertNodeToNearestRoot=function(t){var e=ut.$getSelection()||ut.$getPreviousSelection();if(ut.$isRangeSelection(e)){var{focus:n}=e;if(e=n.getNode(),n=n.offset,ut.$isRootOrShadowRoot(e))n=e.getChildAtIndex(n),n==null?e.append(t):n.insertBefore(t),t.selectNext();else{let r,i;ut.$isTextNode(e)?(r=e.getParentOrThrow(),i=e.getIndexWithinParent(),0<n&&(i+=1,e.splitText(n))):(r=e,i=n),[,e]=ut.$splitNode(r,i),e.insertBefore(t),e.selectStart()}}else e!=null?(e=e.getNodes(),e[e.length-1].getTopLevelElementOrThrow().insertAfter(t)):ut.$getRoot().append(t),e=ut.$createParagraphNode(),t.insertAfter(e),e.select();return t.getLatest()};Ct.$restoreEditorState=function(t,e){let n=new Map,r=t._pendingEditorState;for(let[i,s]of e._nodeMap){let o=TR.$cloneWithProperties(s);if(ut.$isTextNode(o)){if(!ut.$isTextNode(s))throw Error("Expected node be a TextNode");o.__text=s.__text}n.set(i,o)}r&&(r._nodeMap=n),t._dirtyType=2,t=e._selection,ut.$setSelection(t===null?null:t.clone())};Ct.$wrapNodeInElement=function(t,e){return e=e(),t.replace(e),e.append(t),e};Ct.addClassNamesToElement=function(t,...e){e.forEach(n=>{typeof n=="string"&&(n=n.split(" ").filter(r=>r!==""),t.classList.add(...n))})};Ct.isMimeType=AR;Ct.markSelection=function(t,e){function n(a){a.read(()=>{var u=ut.$getSelection();if(ut.$isRangeSelection(u)){var{anchor:d,focus:h}=u;u=d.getNode();var f=u.getKey(),p=d.offset,y=h.getNode(),w=y.getKey(),C=h.offset,_=t.getElementByKey(f),E=t.getElementByKey(w);if(f=r===null||_===null||p!==i||f!==r.getKey()||u!==r&&(!(r instanceof ut.TextNode)||u.updateDOM(r,_,t._config)),w=s===null||E===null||C!==o||w!==s.getKey()||y!==s&&(!(s instanceof ut.TextNode)||y.updateDOM(s,E,t._config)),f||w){_=t.getElementByKey(d.getNode().getKey());var v=t.getElementByKey(h.getNode().getKey());if(_!==null&&v!==null&&_.tagName==="SPAN"&&v.tagName==="SPAN"){if(w=document.createRange(),h.isBefore(d)?(f=v,E=h.offset,v=_,_=d.offset):(f=_,E=d.offset,_=h.offset),f=f.firstChild,f===null||(v=v.firstChild,v===null))throw Error("Expected text node to be first child of span");w.setStart(f,E),w.setEnd(v,_),l(),l=SR(t,w,N=>{for(let L of N){let k=L.style;k.background!=="Highlight"&&(k.background="Highlight"),k.color!=="HighlightText"&&(k.color="HighlightText"),k.zIndex!=="-1"&&(k.zIndex="-1"),k.pointerEvents!=="none"&&(k.pointerEvents="none"),k.marginTop!=="-1.5px"&&(k.marginTop="-1.5px"),k.paddingTop!=="4px"&&(k.paddingTop="4px"),k.paddingBottom!=="0px"&&(k.paddingBottom="0px")}e!==void 0&&e(N)})}}r=u,i=p,s=y,o=C}else o=s=i=r=null,l(),l=()=>{}})}let r=null,i=null,s=null,o=null,l=()=>{};return n(t.getEditorState()),CR(t.registerUpdateListener(({editorState:a})=>n(a)),l,()=>{l()})};Ct.mediaFileReader=function(t,e){let n=t[Symbol.iterator]();return new Promise((r,i)=>{let s=[],o=()=>{const{done:l,value:a}=n.next();if(l)return r(s);const u=new FileReader;u.addEventListener("error",i),u.addEventListener("load",()=>{const d=u.result;typeof d=="string"&&s.push({file:a,result:d}),o()}),AR(a,e)?u.readAsDataURL(a):o()};o()})};Ct.mergeRegister=CR;Ct.objectKlassEquals=function(t,e){return t!==null?Object.getPrototypeOf(t).constructor.name===e.name:!1};Ct.positionNodeOnRange=SR;Ct.registerNestedElementResolver=function(t,e,n,r){return t.registerNodeTransform(e,i=>{e:{for(var s=i.getChildren(),o=0;o<s.length;o++)if(s[o]instanceof e){s=null;break e}for(s=i;s!==null;)if(o=s,s=s.getParent(),s instanceof e){s={child:o,parent:s};break e}s=null}if(s!==null){const{child:l,parent:a}=s;if(l.is(i)){if(r(a,i),i=l.getNextSiblings(),s=i.length,a.insertAfter(l),s!==0){o=n(a),l.insertAfter(o);for(let u=0;u<s;u++)o.append(i[u])}a.canBeEmpty()||a.getChildrenSize()!==0||a.remove()}}})};Ct.removeClassNamesFromElement=function(t,...e){e.forEach(n=>{typeof n=="string"&&t.classList.remove(...n.split(" "))})};const b5=Ct;var ts=b5,O5=ts,tt=_e;function F5(t,e,n,r,i){if(t===null||n.size===0&&r.size===0&&!i)return 0;var s=e._selection,o=t._selection;if(i)return 1;if(!(tt.$isRangeSelection(s)&&tt.$isRangeSelection(o)&&o.isCollapsed()&&s.isCollapsed()))return 0;i=e._nodeMap;let l=[];for(let a of n)n=i.get(a),n!==void 0&&l.push(n);for(let[a,u]of r)u&&(r=i.get(a),r===void 0||tt.$isRootNode(r)||l.push(r));return l.length===0?0:1<l.length?(r=e._nodeMap,e=r.get(s.anchor.key),o=r.get(o.anchor.key),e&&o&&!t._nodeMap.has(e.__key)&&tt.$isTextNode(e)&&e.__text.length===1&&s.anchor.offset===1?2:0):(e=l[0],t=t._nodeMap.get(e.__key),!tt.$isTextNode(t)||!tt.$isTextNode(e)||t.__mode!==e.__mode||(t=t.__text,e=e.__text,t===e)||(s=s.anchor,o=o.anchor,s.key!==o.key||s.type!=="text")?0:(s=s.offset,o=o.offset,t=e.length-t.length,t===1&&o===s-1?2:t===-1&&o===s+1?3:t===-1&&o===s?4:0))}function M5(t,e){let n=Date.now(),r=0;return(i,s,o,l,a,u)=>{let d=Date.now();if(u.has("historic"))return r=0,n=d,2;let h=F5(i,s,l,a,t.isComposing()),f=(()=>{var p=o===null||o.editor===t,y=u.has("history-push");if(!y&&p&&u.has("history-merge"))return 0;if(i===null)return 1;var w=s._selection;if(!(0<l.size||0<a.size))return w!==null?0:2;if(y===!1&&h!==0&&h===r&&d<n+e&&p)return 0;if(l.size===1){{y=Array.from(l)[0],p=i._nodeMap.get(y),y=s._nodeMap.get(y),w=i._selection;let C=s._selection,_=!1;tt.$isRangeSelection(w)&&tt.$isRangeSelection(C)&&(_=w.anchor.type==="element"&&w.focus.type==="element"&&C.anchor.type==="text"&&C.focus.type==="text"),p=!_&&tt.$isTextNode(p)&&tt.$isTextNode(y)?p.__type===y.__type&&p.__text===y.__text&&p.__mode===y.__mode&&p.__detail===y.__detail&&p.__style===y.__style&&p.__format===y.__format&&p.__parent===y.__parent:!1}if(p)return 0}return 1})();return n=d,r=h,f}}d0.createEmptyHistoryState=function(){return{current:null,redoStack:[],undoStack:[]}};d0.registerHistory=function(t,e,n){let r=M5(t,n);n=({editorState:o,prevEditorState:l,dirtyLeaves:a,dirtyElements:u,tags:d})=>{const h=e.current,f=e.redoStack,p=e.undoStack,y=h===null?null:h.editorState;if(h===null||o!==y){if(l=r(l,o,h,a,u,d),l===1)f.length!==0&&(e.redoStack=[],t.dispatchCommand(tt.CAN_REDO_COMMAND,!1)),h!==null&&(p.push({...h}),t.dispatchCommand(tt.CAN_UNDO_COMMAND,!0));else if(l===2)return;e.current={editor:t,editorState:o}}};let i=O5.mergeRegister(t.registerCommand(tt.UNDO_COMMAND,()=>{let o=e.redoStack,l=e.undoStack;if(l.length!==0){let a=e.current,u=l.pop();a!==null&&(o.push(a),t.dispatchCommand(tt.CAN_REDO_COMMAND,!0)),l.length===0&&t.dispatchCommand(tt.CAN_UNDO_COMMAND,!1),e.current=u||null,u&&u.editor.setEditorState(u.editorState,{tag:"historic"})}return!0},tt.COMMAND_PRIORITY_EDITOR),t.registerCommand(tt.REDO_COMMAND,()=>{let o=e.redoStack;var l=e.undoStack;if(o.length!==0){let a=e.current;a!==null&&(l.push(a),t.dispatchCommand(tt.CAN_UNDO_COMMAND,!0)),l=o.pop(),o.length===0&&t.dispatchCommand(tt.CAN_REDO_COMMAND,!1),e.current=l||null,l&&l.editor.setEditorState(l.editorState,{tag:"historic"})}return!0},tt.COMMAND_PRIORITY_EDITOR),t.registerCommand(tt.CLEAR_EDITOR_COMMAND,()=>(e.undoStack=[],e.redoStack=[],e.current=null,!1),tt.COMMAND_PRIORITY_EDITOR),t.registerCommand(tt.CLEAR_HISTORY_COMMAND,()=>(e.undoStack=[],e.redoStack=[],e.current=null,t.dispatchCommand(tt.CAN_REDO_COMMAND,!1),t.dispatchCommand(tt.CAN_UNDO_COMMAND,!1),!0),tt.COMMAND_PRIORITY_EDITOR),t.registerUpdateListener(n)),s=t.registerUpdateListener(n);return()=>{i(),s()}};const L5=d0;var $5=L5,V5=ec,qg=$5,rw=H;function B5(t,e,n=1e3){let r=rw.useMemo(()=>e||qg.createEmptyHistoryState(),[e]);rw.useEffect(()=>qg.registerHistory(t,r,n),[n,t,r])}c0.createEmptyHistoryState=qg.createEmptyHistoryState;c0.HistoryPlugin=function({externalHistoryState:t}){let[e]=V5.useLexicalComposerContext();return B5(e,t),null};const U5=c0;var kR=U5,Vr={},mi={},O0={},iw=oc,j5=ts,jo=_e;function RR(t,e,n,r=null){let i=r!=null?e.isSelected(r):!0,s=jo.$isElementNode(e)&&e.excludeFromCopy("html");var o=e;r!==null&&(o=iw.$cloneWithProperties(e),o=jo.$isTextNode(o)&&r!=null?iw.$sliceSelectedTextNodeContent(r,o):o);let l=jo.$isElementNode(o)?o.getChildren():[];var a=t._nodes.get(o.getType());a=a&&a.exportDOM!==void 0?a.exportDOM(t,o):o.exportDOM(t);let{element:u,after:d}=a;if(!u)return!1;a=document.createDocumentFragment();for(let h=0;h<l.length;h++){let f=l[h],p=RR(t,f,a,r);!i&&jo.$isElementNode(e)&&p&&e.extractWithChild(f,r,"html")&&(i=!0)}return i&&!s?(j5.isHTMLElement(u)&&u.append(a),n.append(u),d&&(t=d.call(o,u))&&u.replaceWith(t)):n.append(a),i}let NR=new Set(["STYLE","SCRIPT"]);function PR(t,e,n=new Map,r){let i=[];if(NR.has(t.nodeName))return i;let s=null;var o,{nodeName:l}=t,a=e._htmlConversions.get(l.toLowerCase());if(l=null,a!==void 0)for(o of a)a=o(t),a!==null&&(l===null||(l.priority||0)<(a.priority||0))&&(l=a);if(l=(o=l!==null?l.conversion:null)?o(t):null,o=null,l!==null){if(o=l.after,a=l.node,s=Array.isArray(a)?a[a.length-1]:a,s!==null){for(var[,u]of n)if(s=u(s,r),!s)break;s&&i.push(...Array.isArray(a)?a:[s])}l.forChild!=null&&n.set(t.nodeName,l.forChild)}for(t=t.childNodes,r=[],u=0;u<t.length;u++)r.push(...PR(t[u],e,new Map(n),s));return o!=null&&(r=o(r)),s==null?i=i.concat(r):jo.$isElementNode(s)&&s.append(...r),i}O0.$generateHtmlFromNodes=function(t,e){if(typeof document>"u"||typeof window>"u")throw Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");let n=document.createElement("div"),r=jo.$getRoot().getChildren();for(let i=0;i<r.length;i++)RR(t,r[i],n,e);return n.innerHTML};O0.$generateNodesFromDOM=function(t,e){e=e.body?e.body.childNodes:[];let n=[];for(let i=0;i<e.length;i++){var r=e[i];NR.has(r.nodeName)||(r=PR(r,t),r!==null&&(n=n.concat(r)))}return n};const z5=O0;var W5=z5,DR=W5,Gg=oc,H5=ts,Dt=_e;function sw(t){let e=new URLSearchParams;e.append("code",t);for(let n=1;n<arguments.length;n++)e.append("v",arguments[n]);throw Error(`Minified Lexical error #${t}; visit https://lexical.dev/docs/error?${e} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}let bR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function OR(t){let e=Dt.$getSelection();if(e==null)throw Error("Expected valid LexicalSelection");return Dt.$isRangeSelection(e)&&e.isCollapsed()||e.getNodes().length===0?"":DR.$generateHtmlFromNodes(t,e)}function FR(t){let e=Dt.$getSelection();if(e==null)throw Error("Expected valid LexicalSelection");return Dt.$isRangeSelection(e)&&e.isCollapsed()||e.getNodes().length===0?null:JSON.stringify(LR(t,e))}function Jg(t,e,n){t.dispatchCommand(Dt.SELECTION_INSERT_CLIPBOARD_NODES_COMMAND,{nodes:e,selection:n})||n.insertNodes(e)}function MR(t,e,n,r=[]){let i=e!=null?n.isSelected(e):!0,s=Dt.$isElementNode(n)&&n.excludeFromCopy("html");var o=n;if(e!==null){var l=Gg.$cloneWithProperties(n);o=l=Dt.$isTextNode(l)&&e!=null?Gg.$sliceSelectedTextNodeContent(e,l):l}let a=Dt.$isElementNode(o)?o.getChildren():[];var u=o;l=u.exportJSON();var d=u.constructor;for(l.type!==d.getType()&&sw(58,d.name),Dt.$isElementNode(u)&&(Array.isArray(l.children)||sw(59,d.name)),Dt.$isTextNode(o)&&(o=o.__text,0<o.length?l.text=o:i=!1),o=0;o<a.length;o++)u=a[o],d=MR(t,e,u,l.children),!i&&Dt.$isElementNode(n)&&d&&n.extractWithChild(u,e,"clone")&&(i=!0);if(i&&!s)r.push(l);else if(Array.isArray(l.children))for(t=0;t<l.children.length;t++)r.push(l.children[t]);return i}function LR(t,e){let n=[],r=Dt.$getRoot().getChildren();for(let i=0;i<r.length;i++)MR(t,e,r[i],n);return{namespace:t._config.namespace,nodes:n}}function $R(t){let e=[];for(let n=0;n<t.length;n++){let r=Dt.$parseSerializedNode(t[n]);Dt.$isTextNode(r)&&Gg.$addNodeStyle(r),e.push(r)}return e}let yo=null;function ow(t,e){var n=bR?(t._window||window).getSelection():null;if(!n)return!1;var r=n.anchorNode;if(n=n.focusNode,r!==null&&n!==null&&!Dt.isSelectionWithinEditor(t,r,n)||(e.preventDefault(),e=e.clipboardData,r=Dt.$getSelection(),e===null||r===null))return!1;n=OR(t),t=FR(t);let i="";return r!==null&&(i=r.getTextContent()),n!==null&&e.setData("text/html",n),t!==null&&e.setData("application/x-lexical-editor",t),e.setData("text/plain",i),!0}mi.$generateJSONFromSelectedNodes=LR;mi.$generateNodesFromSerializedNodes=$R;mi.$getHtmlContent=OR;mi.$getLexicalContent=FR;mi.$insertDataTransferForPlainText=function(t,e){t=t.getData("text/plain")||t.getData("text/uri-list"),t!=null&&e.insertRawText(t)};mi.$insertDataTransferForRichText=function(t,e,n){var r=t.getData("application/x-lexical-editor");if(r)try{let s=JSON.parse(r);if(s.namespace===n._config.namespace&&Array.isArray(s.nodes)){let o=$R(s.nodes);return Jg(n,o,e)}}catch{}if(r=t.getData("text/html"))try{var i=new DOMParser().parseFromString(r,"text/html");let s=DR.$generateNodesFromDOM(n,i);return Jg(n,s,e)}catch{}if(t=t.getData("text/plain")||t.getData("text/uri-list"),t!=null)if(Dt.$isRangeSelection(e))for(t=t.split(/(\r?\n|\t)/),t[t.length-1]===""&&t.pop(),n=0;n<t.length;n++)i=t[n],i===`
`||i===`\r
`?e.insertParagraph():i==="	"?e.insertNodes([Dt.$createTabNode()]):e.insertText(i);else e.insertRawText(t)};mi.$insertGeneratedNodes=Jg;mi.copyToClipboard=async function(t,e){if(yo!==null)return!1;if(e!==null)return new Promise(o=>{t.update(()=>{o(ow(t,e))})});var n=t.getRootElement();let r=t._window==null?window.document:t._window.document,i=bR?(t._window||window).getSelection():null;if(n===null||i===null)return!1;let s=r.createElement("span");return s.style.cssText="position: fixed; top: -1000px;",s.append(r.createTextNode("#")),n.append(s),n=new Range,n.setStart(s,0),n.setEnd(s,1),i.removeAllRanges(),i.addRange(n),new Promise(o=>{let l=t.registerCommand(Dt.COPY_COMMAND,a=>(H5.objectKlassEquals(a,ClipboardEvent)&&(l(),yo!==null&&(window.clearTimeout(yo),yo=null),o(ow(t,a))),!0),Dt.COMMAND_PRIORITY_CRITICAL);yo=window.setTimeout(()=>{l(),yo=null,o(!1)},50),r.execCommand("copy"),s.remove()})};const K5=mi;var q5=K5,bh=q5,Yc=oc,Cr=ts,B=_e;function lw(t,e){return typeof document.caretRangeFromPoint<"u"?(t=document.caretRangeFromPoint(t,e),t===null?null:{node:t.startContainer,offset:t.startOffset}):document.caretPositionFromPoint!=="undefined"?(t=document.caretPositionFromPoint(t,e),t===null?null:{node:t.offsetNode,offset:t.offset}):null}let Ul=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",G5=Ul&&"documentMode"in document?document.documentMode:null,J5=Ul&&"InputEvent"in window&&!G5?"getTargetRanges"in new window.InputEvent("input"):!1,Q5=Ul&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Y5=Ul&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,X5=Ul&&/^(?=.*Chrome).*/i.test(navigator.userAgent),Z5=Ul&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!X5,Qg=B.createCommand("DRAG_DROP_PASTE_FILE"),F0=class VR extends B.ElementNode{static getType(){return"quote"}static clone(e){return new VR(e.__key)}constructor(e){super(e)}createDOM(e){let n=document.createElement("blockquote");return Cr.addClassNamesToElement(n,e.theme.quote),n}updateDOM(){return!1}static importDOM(){return{blockquote:()=>({conversion:e9,priority:0})}}exportDOM(e){if({element:e}=super.exportDOM(e),e&&Cr.isHTMLElement(e)){this.isEmpty()&&e.append(document.createElement("br"));var n=this.getFormatType();e.style.textAlign=n,(n=this.getDirection())&&(e.dir=n)}return{element:e}}static importJSON(e){let n=M0();return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}exportJSON(){return{...super.exportJSON(),type:"quote"}}insertNewAfter(e,n){e=B.$createParagraphNode();let r=this.getDirection();return e.setDirection(r),this.insertAfter(e,n),e}collapseAtStart(){let e=B.$createParagraphNode();return this.getChildren().forEach(n=>e.append(n)),this.replace(e),!0}};function M0(){return B.$applyNodeReplacement(new F0)}let L0=class BR extends B.ElementNode{static getType(){return"heading"}static clone(e){return new BR(e.__tag,e.__key)}constructor(e,n){super(n),this.__tag=e}getTag(){return this.__tag}createDOM(e){let n=this.__tag,r=document.createElement(n);return e=e.theme.heading,e!==void 0&&Cr.addClassNamesToElement(r,e[n]),r}updateDOM(){return!1}static importDOM(){return{h1:()=>({conversion:vo,priority:0}),h2:()=>({conversion:vo,priority:0}),h3:()=>({conversion:vo,priority:0}),h4:()=>({conversion:vo,priority:0}),h5:()=>({conversion:vo,priority:0}),h6:()=>({conversion:vo,priority:0}),p:e=>(e=e.firstChild,e!==null&&aw(e)?{conversion:()=>({node:null}),priority:3}:null),span:e=>aw(e)?{conversion:()=>({node:zo("h1")}),priority:3}:null}}exportDOM(e){if({element:e}=super.exportDOM(e),e&&Cr.isHTMLElement(e)){this.isEmpty()&&e.append(document.createElement("br"));var n=this.getFormatType();e.style.textAlign=n,(n=this.getDirection())&&(e.dir=n)}return{element:e}}static importJSON(e){let n=zo(e.tag);return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}exportJSON(){return{...super.exportJSON(),tag:this.getTag(),type:"heading",version:1}}insertNewAfter(e,n=!0){let r=e?e.anchor.offset:0,i=r!==this.getTextContentSize()&&e?zo(this.getTag()):B.$createParagraphNode(),s=this.getDirection();return i.setDirection(s),this.insertAfter(i,n),r===0&&!this.isEmpty()&&e&&(e=B.$createParagraphNode(),e.select(),this.replace(e,!0)),i}collapseAtStart(){let e=this.isEmpty()?B.$createParagraphNode():zo(this.getTag());return this.getChildren().forEach(n=>e.append(n)),this.replace(e),!0}extractWithChild(){return!0}};function aw(t){return t.nodeName.toLowerCase()==="span"?t.style.fontSize==="26pt":!1}function vo(t){let e=t.nodeName.toLowerCase(),n=null;return(e==="h1"||e==="h2"||e==="h3"||e==="h4"||e==="h5"||e==="h6")&&(n=zo(e),t.style!==null&&n.setFormat(t.style.textAlign)),{node:n}}function e9(t){let e=M0();return t.style!==null&&e.setFormat(t.style.textAlign),{node:e}}function zo(t){return B.$applyNodeReplacement(new L0(t))}function t9(t,e){t.preventDefault(),e.update(()=>{let n=B.$getSelection(),r=t instanceof InputEvent||t instanceof KeyboardEvent?null:t.clipboardData;r!=null&&B.$INTERNAL_isPointSelection(n)&&bh.$insertDataTransferForRichText(r,n,e)},{tag:"paste"})}async function n9(t,e){await bh.copyToClipboard(e,Cr.objectKlassEquals(t,ClipboardEvent)?t:null),e.update(()=>{let n=B.$getSelection();B.$isRangeSelection(n)?n.removeText():B.$isNodeSelection(n)&&n.getNodes().forEach(r=>r.remove())})}function Ta(t){let e=null;if(t instanceof DragEvent?e=t.dataTransfer:t instanceof ClipboardEvent&&(e=t.clipboardData),e===null)return[!1,[],!1];var n=e.types;return t=n.includes("Files"),n=n.includes("text/html")||n.includes("text/plain"),[t,Array.from(e.files),n]}function uw(t){var e=B.$getSelection();if(!B.$isRangeSelection(e))return!1;let n=new Set;e=e.getNodes();for(let s=0;s<e.length;s++){var r=e[s],i=r.getKey();n.has(i)||(r=Cr.$getNearestBlockElementAncestorOrThrow(r),i=r.getKey(),r.canIndent()&&!n.has(i)&&(n.add(i),t(r)))}return 0<n.size}function Xc(t){return t=B.$getNearestNodeFromDOMNode(t),B.$isDecoratorNode(t)}Vr.$createHeadingNode=zo;Vr.$createQuoteNode=M0;Vr.$isHeadingNode=function(t){return t instanceof L0};Vr.$isQuoteNode=function(t){return t instanceof F0};Vr.DRAG_DROP_PASTE=Qg;Vr.HeadingNode=L0;Vr.QuoteNode=F0;Vr.eventFiles=Ta;Vr.registerRichText=function(t){return Cr.mergeRegister(t.registerCommand(B.CLICK_COMMAND,()=>{const e=B.$getSelection();return B.$isNodeSelection(e)?(e.clear(),!0):!1},0),t.registerCommand(B.DELETE_CHARACTER_COMMAND,e=>{const n=B.$getSelection();return B.$isRangeSelection(n)?(n.deleteCharacter(e),!0):!1},B.COMMAND_PRIORITY_EDITOR),t.registerCommand(B.DELETE_WORD_COMMAND,e=>{const n=B.$getSelection();return B.$isRangeSelection(n)?(n.deleteWord(e),!0):!1},B.COMMAND_PRIORITY_EDITOR),t.registerCommand(B.DELETE_LINE_COMMAND,e=>{const n=B.$getSelection();return B.$isRangeSelection(n)?(n.deleteLine(e),!0):!1},B.COMMAND_PRIORITY_EDITOR),t.registerCommand(B.CONTROLLED_TEXT_INSERTION_COMMAND,e=>{const n=B.$getSelection();if(typeof e=="string")B.$INTERNAL_isPointSelection(n)&&n.insertText(e);else{if(!B.$INTERNAL_isPointSelection(n))return!1;const r=e.dataTransfer;r!=null?bh.$insertDataTransferForRichText(r,n,t):B.$isRangeSelection(n)&&(e=e.data)&&n.insertText(e)}return!0},B.COMMAND_PRIORITY_EDITOR),t.registerCommand(B.REMOVE_TEXT_COMMAND,()=>{const e=B.$getSelection();return B.$isRangeSelection(e)?(e.removeText(),!0):!1},B.COMMAND_PRIORITY_EDITOR),t.registerCommand(B.FORMAT_TEXT_COMMAND,e=>{const n=B.$getSelection();return B.$isRangeSelection(n)?(n.formatText(e),!0):!1},B.COMMAND_PRIORITY_EDITOR),t.registerCommand(B.FORMAT_ELEMENT_COMMAND,e=>{var n=B.$getSelection();if(!B.$isRangeSelection(n)&&!B.$isNodeSelection(n))return!1;n=n.getNodes();for(const r of n)n=Cr.$findMatchingParent(r,i=>B.$isElementNode(i)&&!i.isInline()),n!==null&&n.setFormat(e);return!0},B.COMMAND_PRIORITY_EDITOR),t.registerCommand(B.INSERT_LINE_BREAK_COMMAND,e=>{const n=B.$getSelection();return B.$isRangeSelection(n)?(n.insertLineBreak(e),!0):!1},B.COMMAND_PRIORITY_EDITOR),t.registerCommand(B.INSERT_PARAGRAPH_COMMAND,()=>{const e=B.$getSelection();return B.$isRangeSelection(e)?(e.insertParagraph(),!0):!1},B.COMMAND_PRIORITY_EDITOR),t.registerCommand(B.INSERT_TAB_COMMAND,()=>(B.$insertNodes([B.$createTabNode()]),!0),B.COMMAND_PRIORITY_EDITOR),t.registerCommand(B.INDENT_CONTENT_COMMAND,()=>uw(e=>{const n=e.getIndent();e.setIndent(n+1)}),B.COMMAND_PRIORITY_EDITOR),t.registerCommand(B.OUTDENT_CONTENT_COMMAND,()=>uw(e=>{const n=e.getIndent();0<n&&e.setIndent(n-1)}),B.COMMAND_PRIORITY_EDITOR),t.registerCommand(B.KEY_ARROW_UP_COMMAND,e=>{var n=B.$getSelection();if(B.$isNodeSelection(n)&&!Xc(e.target)){if(e=n.getNodes(),0<e.length)return e[0].selectPrevious(),!0}else if(B.$isRangeSelection(n)&&(n=B.$getAdjacentNode(n.focus,!0),!e.shiftKey&&B.$isDecoratorNode(n)&&!n.isIsolated()&&!n.isInline()))return n.selectPrevious(),e.preventDefault(),!0;return!1},B.COMMAND_PRIORITY_EDITOR),t.registerCommand(B.KEY_ARROW_DOWN_COMMAND,e=>{var n=B.$getSelection();if(B.$isNodeSelection(n)){if(e=n.getNodes(),0<e.length)return e[0].selectNext(0,0),!0}else if(B.$isRangeSelection(n)){let r=n.focus;if(r.key==="root"&&r.offset===B.$getRoot().getChildrenSize())return e.preventDefault(),!0;if(n=B.$getAdjacentNode(n.focus,!1),!e.shiftKey&&B.$isDecoratorNode(n)&&!n.isIsolated()&&!n.isInline())return n.selectNext(),e.preventDefault(),!0}return!1},B.COMMAND_PRIORITY_EDITOR),t.registerCommand(B.KEY_ARROW_LEFT_COMMAND,e=>{const n=B.$getSelection();if(B.$isNodeSelection(n)){var r=n.getNodes();if(0<r.length)return e.preventDefault(),r[0].selectPrevious(),!0}return B.$isRangeSelection(n)&&Yc.$shouldOverrideDefaultCharacterSelection(n,!0)?(r=e.shiftKey,e.preventDefault(),Yc.$moveCharacter(n,r,!0),!0):!1},B.COMMAND_PRIORITY_EDITOR),t.registerCommand(B.KEY_ARROW_RIGHT_COMMAND,e=>{const n=B.$getSelection();if(B.$isNodeSelection(n)&&!Xc(e.target)){var r=n.getNodes();if(0<r.length)return e.preventDefault(),r[0].selectNext(0,0),!0}return B.$isRangeSelection(n)?(r=e.shiftKey,Yc.$shouldOverrideDefaultCharacterSelection(n,!1)?(e.preventDefault(),Yc.$moveCharacter(n,r,!1),!0):!1):!1},B.COMMAND_PRIORITY_EDITOR),t.registerCommand(B.KEY_BACKSPACE_COMMAND,e=>{if(Xc(e.target))return!1;const n=B.$getSelection();if(!B.$isRangeSelection(n))return!1;e.preventDefault(),{anchor:e}=n;const r=e.getNode();return n.isCollapsed()&&e.offset===0&&!B.$isRootNode(r)&&0<Cr.$getNearestBlockElementAncestorOrThrow(r).getIndent()?t.dispatchCommand(B.OUTDENT_CONTENT_COMMAND,void 0):t.dispatchCommand(B.DELETE_CHARACTER_COMMAND,!0)},B.COMMAND_PRIORITY_EDITOR),t.registerCommand(B.KEY_DELETE_COMMAND,e=>{if(Xc(e.target))return!1;const n=B.$getSelection();return B.$isRangeSelection(n)?(e.preventDefault(),t.dispatchCommand(B.DELETE_CHARACTER_COMMAND,!1)):!1},B.COMMAND_PRIORITY_EDITOR),t.registerCommand(B.KEY_ENTER_COMMAND,e=>{const n=B.$getSelection();if(!B.$isRangeSelection(n))return!1;if(e!==null){if((Y5||Q5||Z5)&&J5)return!1;if(e.preventDefault(),e.shiftKey)return t.dispatchCommand(B.INSERT_LINE_BREAK_COMMAND,!1)}return t.dispatchCommand(B.INSERT_PARAGRAPH_COMMAND,void 0)},B.COMMAND_PRIORITY_EDITOR),t.registerCommand(B.KEY_ESCAPE_COMMAND,()=>{const e=B.$getSelection();return B.$isRangeSelection(e)?(t.blur(),!0):!1},B.COMMAND_PRIORITY_EDITOR),t.registerCommand(B.DROP_COMMAND,e=>{const[,n]=Ta(e);if(0<n.length){var r=lw(e.clientX,e.clientY);if(r!==null){const{offset:s,node:o}=r;var i=B.$getNearestNodeFromDOMNode(o);if(i!==null){if(r=B.$createRangeSelection(),B.$isTextNode(i))r.anchor.set(i.getKey(),s,"text"),r.focus.set(i.getKey(),s,"text");else{const l=i.getParentOrThrow().getKey();i=i.getIndexWithinParent()+1,r.anchor.set(l,i,"element"),r.focus.set(l,i,"element")}r=B.$normalizeSelection__EXPERIMENTAL(r),B.$setSelection(r)}t.dispatchCommand(Qg,n)}return e.preventDefault(),!0}return e=B.$getSelection(),!!B.$isRangeSelection(e)},B.COMMAND_PRIORITY_EDITOR),t.registerCommand(B.DRAGSTART_COMMAND,e=>{[e]=Ta(e);const n=B.$getSelection();return!(e&&!B.$isRangeSelection(n))},B.COMMAND_PRIORITY_EDITOR),t.registerCommand(B.DRAGOVER_COMMAND,e=>{var[n]=Ta(e);const r=B.$getSelection();return n&&!B.$isRangeSelection(r)?!1:(n=lw(e.clientX,e.clientY),n!==null&&(n=B.$getNearestNodeFromDOMNode(n.node),B.$isDecoratorNode(n)&&e.preventDefault()),!0)},B.COMMAND_PRIORITY_EDITOR),t.registerCommand(B.SELECT_ALL_COMMAND,()=>(B.$selectAll(),!0),B.COMMAND_PRIORITY_EDITOR),t.registerCommand(B.COPY_COMMAND,e=>(bh.copyToClipboard(t,Cr.objectKlassEquals(e,ClipboardEvent)?e:null),!0),B.COMMAND_PRIORITY_EDITOR),t.registerCommand(B.CUT_COMMAND,e=>(n9(e,t),!0),B.COMMAND_PRIORITY_EDITOR),t.registerCommand(B.PASTE_COMMAND,e=>{const[,n,r]=Ta(e);if(0<n.length&&!r)return t.dispatchCommand(Qg,n),!0;if(B.isSelectionCapturedInDecoratorInput(e.target))return!1;const i=B.$getSelection();return B.$INTERNAL_isPointSelection(i)?(t9(e,t),!0):!1},B.COMMAND_PRIORITY_EDITOR))};const r9=Vr;var UR=r9;const cw={}.hasOwnProperty;function i9(t,e){const n=e||{};function r(i,...s){let o=r.invalid;const l=r.handlers;if(i&&cw.call(i,t)){const a=String(i[t]);o=cw.call(l,a)?l[a]:r.unknown}if(o)return o.call(this,i,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}function Ad(t,e){let n=-1,r;if(e.extensions)for(;++n<e.extensions.length;)Ad(t,e.extensions[n]);for(r in e)r==="extensions"||(r==="unsafe"||r==="join"?t[r]=[...t[r]||[],...e[r]||[]]:r==="handlers"?t[r]=Object.assign(t[r],e[r]||{}):t.options[r]=e[r]);return t}function s9(t,e,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(t,s.current()),o9);return i(),o}function o9(t,e,n){return">"+(n?"":" ")+t}function jR(t,e){return dw(t,e.inConstruct,!0)&&!dw(t,e.notInConstruct,!1)}function dw(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function hw(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&jR(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function l9(t,e){const n=String(t);let r=n.indexOf(e),i=r,s=0,o=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+e.length,r=n.indexOf(e,i);return o}function Yg(t,e){return!!(!e.options.fences&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function a9(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function u9(t,e,n,r){const i=a9(n),s=t.value||"",o=i==="`"?"GraveAccent":"Tilde";if(Yg(t,n)){const h=n.enter("codeIndented"),f=n.indentLines(s,c9);return h(),f}const l=n.createTracker(r),a=i.repeat(Math.max(l9(s,i)+1,3)),u=n.enter("codeFenced");let d=l.move(a);if(t.lang){const h=n.enter(`codeFencedLang${o}`);d+=l.move(n.safe(t.lang,{before:d,after:" ",encode:["`"],...l.current()})),h()}if(t.lang&&t.meta){const h=n.enter(`codeFencedMeta${o}`);d+=l.move(" "),d+=l.move(n.safe(t.meta,{before:d,after:`
`,encode:["`"],...l.current()})),h()}return d+=l.move(`
`),s&&(d+=l.move(s+`
`)),d+=l.move(a),u(),d}function c9(t,e,n){return(n?"":"    ")+t}function $0(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function d9(t,e,n,r){const i=$0(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let l=n.enter("label");const a=n.createTracker(r);let u=a.move("[");return u+=a.move(n.safe(n.associationId(t),{before:u,after:"]",...a.current()})),u+=a.move("]: "),l(),!t.url||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(t.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(l=n.enter("destinationRaw"),u+=a.move(n.safe(t.url,{before:u,after:t.title?" ":`
`,...a.current()}))),l(),t.title&&(l=n.enter(`title${s}`),u+=a.move(" "+i),u+=a.move(n.safe(t.title,{before:u,after:i,...a.current()})),u+=a.move(i),l()),o(),u}function h9(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}zR.peek=f9;function zR(t,e,n,r){const i=h9(n),s=n.enter("emphasis"),o=n.createTracker(r);let l=o.move(i);return l+=o.move(n.containerPhrasing(t,{before:l,after:i,...o.current()})),l+=o.move(i),s(),l}function f9(t,e,n){return n.options.emphasis||"*"}const V0=function(t){if(t==null)return _9;if(typeof t=="string")return g9(t);if(typeof t=="object")return Array.isArray(t)?p9(t):m9(t);if(typeof t=="function")return bf(t);throw new Error("Expected function, string, or object as test")};function p9(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=V0(t[n]);return bf(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].call(this,...i))return!0;return!1}}function m9(t){return bf(e);function e(n){let r;for(r in t)if(n[r]!==t[r])return!1;return!0}}function g9(t){return bf(e);function e(n){return n&&n.type===t}}function bf(t){return e;function e(n,...r){return!!(n&&typeof n=="object"&&"type"in n&&t.call(this,n,...r))}}function _9(){return!0}const y9=!0,Xg=!1,v9="skip",E9=function(t,e,n,r){typeof e=="function"&&typeof n!="function"&&(r=n,n=e,e=null);const i=V0(e),s=r?-1:1;o(t,void 0,[])();function o(l,a,u){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const f=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(f?"<"+f+">":""))+")"})}return h;function h(){let f=[],p,y,w;if((!e||i(l,a,u[u.length-1]||null))&&(f=x9(n(l,u)),f[0]===Xg))return f;if(l.children&&f[0]!==v9)for(y=(r?l.children.length:-1)+s,w=u.concat(l);y>-1&&y<l.children.length;){if(p=o(l.children[y],y,w)(),p[0]===Xg)return p;y=typeof p[1]=="number"?p[1]:y+s}return f}}};function x9(t){return Array.isArray(t)?t:typeof t=="number"?[y9,t]:[t]}const w9=function(t,e,n,r){typeof e=="function"&&typeof n!="function"&&(r=n,n=e,e=null),E9(t,e,i,r);function i(s,o){const l=o[o.length-1];return n(s,l?l.children.indexOf(s):null,l)}},T9={};function B0(t,e){const n=T9,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return WR(t,r,i)}function WR(t,e,n){if(C9(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return fw(t.children,e,n)}return Array.isArray(t)?fw(t,e,n):""}function fw(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=WR(t[i],e,n);return r.join("")}function C9(t){return!!(t&&typeof t=="object")}function HR(t,e){let n=!1;return w9(t,r=>{if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Xg}),!!((!t.depth||t.depth<3)&&B0(t)&&(e.options.setext||n))}function S9(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(r);if(HR(t,n)){const d=n.enter("headingSetext"),h=n.enter("phrasing"),f=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return h(),d(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const o="#".repeat(i),l=n.enter("headingAtx"),a=n.enter("phrasing");s.move(o+" ");let u=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(u)&&(u="&#x"+u.charCodeAt(0).toString(16).toUpperCase()+";"+u.slice(1)),u=u?o+" "+u:o,n.options.closeAtx&&(u+=" "+o),a(),l(),u}KR.peek=A9;function KR(t){return t.value||""}function A9(){return"<"}qR.peek=I9;function qR(t,e,n,r){const i=$0(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let l=n.enter("label");const a=n.createTracker(r);let u=a.move("![");return u+=a.move(n.safe(t.alt,{before:u,after:"]",...a.current()})),u+=a.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(t.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(l=n.enter("destinationRaw"),u+=a.move(n.safe(t.url,{before:u,after:t.title?" ":")",...a.current()}))),l(),t.title&&(l=n.enter(`title${s}`),u+=a.move(" "+i),u+=a.move(n.safe(t.title,{before:u,after:i,...a.current()})),u+=a.move(i),l()),u+=a.move(")"),o(),u}function I9(){return"!"}GR.peek=k9;function GR(t,e,n,r){const i=t.referenceType,s=n.enter("imageReference");let o=n.enter("label");const l=n.createTracker(r);let a=l.move("![");const u=n.safe(t.alt,{before:a,after:"]",...l.current()});a+=l.move(u+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const h=n.safe(n.associationId(t),{before:a,after:"]",...l.current()});return o(),n.stack=d,s(),i==="full"||!u||u!==h?a+=l.move(h+"]"):i==="shortcut"?a=a.slice(0,-1):a+=l.move("]"),a}function k9(){return"!"}function JR(t){if(!t._compiled){const e=(t.atBreak?"[\\r\\n][\\t ]*":"")+(t.before?"(?:"+t.before+")":"");t._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(t.after?"(?:"+t.after+")":""),"g")}return t._compiled}QR.peek=R9;function QR(t,e,n){let r=t.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],l=JR(o);let a;if(o.atBreak)for(;a=l.exec(r);){let u=a.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(a.index+1)}}return i+r+i}function R9(){return"`"}function YR(t,e){const n=B0(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}XR.peek=N9;function XR(t,e,n,r){const i=$0(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let l,a;if(YR(t,n)){const d=n.stack;n.stack=[],l=n.enter("autolink");let h=o.move("<");return h+=o.move(n.containerPhrasing(t,{before:h,after:">",...o.current()})),h+=o.move(">"),l(),n.stack=d,h}l=n.enter("link"),a=n.enter("label");let u=o.move("[");return u+=o.move(n.containerPhrasing(t,{before:u,after:"](",...o.current()})),u+=o.move("]("),a(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(n.safe(t.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(a=n.enter("destinationRaw"),u+=o.move(n.safe(t.url,{before:u,after:t.title?" ":")",...o.current()}))),a(),t.title&&(a=n.enter(`title${s}`),u+=o.move(" "+i),u+=o.move(n.safe(t.title,{before:u,after:i,...o.current()})),u+=o.move(i),a()),u+=o.move(")"),l(),u}function N9(t,e,n){return YR(t,n)?"<":"["}ZR.peek=P9;function ZR(t,e,n,r){const i=t.referenceType,s=n.enter("linkReference");let o=n.enter("label");const l=n.createTracker(r);let a=l.move("[");const u=n.containerPhrasing(t,{before:a,after:"]",...l.current()});a+=l.move(u+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const h=n.safe(n.associationId(t),{before:a,after:"]",...l.current()});return o(),n.stack=d,s(),i==="full"||!u||u!==h?a+=l.move(h+"]"):i==="shortcut"?a=a.slice(0,-1):a+=l.move("]"),a}function P9(){return"["}function U0(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function D9(t){const e=U0(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function eN(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function b9(t){const e=eN(t),n=t.options.bulletOrderedOther;if(!n)return e==="."?")":".";if(n!=="."&&n!==")")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOrderedOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bulletOrdered` (`"+e+"`) and `bulletOrderedOther` (`"+n+"`) to be different");return n}function tN(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function O9(t,e,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=t.ordered?eN(n):U0(n);const l=t.ordered?b9(n):D9(n),a=n.bulletLastUsed;let u=!1;if(e&&(t.ordered?n.options.bulletOrderedOther:n.options.bulletOther)&&a&&o===a&&(u=!0),!t.ordered){const h=t.children?t.children[0]:void 0;if((o==="*"||o==="-")&&h&&(!h.children||!h.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(u=!0),tN(n)===o&&h){let f=-1;for(;++f<t.children.length;){const p=t.children[f];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(o=l),n.bulletCurrent=o;const d=n.containerFlow(t,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),d}function F9(t){const e=t.options.listItemIndent||"tab";if(e===1||e==="1")return"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function M9(t,e,n,r){const i=F9(n);let s=n.bulletCurrent||U0(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(o=Math.ceil(o/4)*4);const l=n.createTracker(r);l.move(s+" ".repeat(o-s.length)),l.shift(o);const a=n.enter("listItem"),u=n.indentLines(n.containerFlow(t,l.current()),d);return a(),u;function d(h,f,p){return f?(p?"":" ".repeat(o))+h:(p?s:s+" ".repeat(o-s.length))+h}}function L9(t,e,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(t,r);return s(),i(),o}const $9=V0(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","link","linkReference","strong","text"]);function V9(t,e,n,r){return(t.children.some(o=>$9(o))?n.containerPhrasing:n.containerFlow).call(n,t,r)}function B9(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}nN.peek=U9;function nN(t,e,n,r){const i=B9(n),s=n.enter("strong"),o=n.createTracker(r);let l=o.move(i+i);return l+=o.move(n.containerPhrasing(t,{before:l,after:i,...o.current()})),l+=o.move(i+i),s(),l}function U9(t,e,n){return n.options.strong||"*"}function j9(t,e,n,r){return n.safe(t.value,r)}function z9(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function W9(t,e,n){const r=(tN(n)+(n.options.ruleSpaces?" ":"")).repeat(z9(n));return n.options.ruleSpaces?r.slice(0,-1):r}const H9={blockquote:s9,break:hw,code:u9,definition:d9,emphasis:zR,hardBreak:hw,heading:S9,html:KR,image:qR,imageReference:GR,inlineCode:QR,link:XR,linkReference:ZR,list:O9,listItem:M9,paragraph:L9,root:V9,strong:nN,text:j9,thematicBreak:W9},K9=[q9];function q9(t,e,n,r){if(e.type==="code"&&Yg(e,r)&&(t.type==="list"||t.type===e.type&&Yg(t,r))||t.type==="list"&&t.type===e.type&&!!t.ordered==!!e.ordered&&!(t.ordered?r.options.bulletOrderedOther:r.options.bulletOther))return!1;if("spread"in n&&typeof n.spread=="boolean")return t.type==="paragraph"&&(t.type===e.type||e.type==="definition"||e.type==="heading"&&HR(e,r))?void 0:n.spread?1:0}const ks=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],G9=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:ks},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:ks},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:ks},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:ks},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:ks},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:ks},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:ks},{atBreak:!0,character:"~"}],pw=document.createElement("i");function bu(t){const e="&"+t+";";pw.innerHTML=e;const n=pw.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function rN(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCharCode(n)}const J9=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function iN(t){return t.replace(J9,Q9)}function Q9(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return rN(n.slice(s?2:1),s?16:10)}return bu(n)||t}function Y9(t){return t.label||!t.identifier?t.label||"":iN(t.identifier)}function sN(t,e,n){const r=e.indexStack,i=t.children||[],s=[];let o=-1,l=n.before;r.push(-1);let a=e.createTracker(n);for(;++o<i.length;){const u=i[o];let d;if(r[r.length-1]=o,o+1<i.length){let h=e.handle.handlers[i[o+1].type];h&&h.peek&&(h=h.peek),d=h?h(i[o+1],t,e,{before:"",after:"",...a.current()}).charAt(0):""}else d=n.after;s.length>0&&(l==="\r"||l===`
`)&&u.type==="html"&&(s[s.length-1]=s[s.length-1].replace(/(\r?\n|\r)$/," "),l=" ",a=e.createTracker(n),a.move(s.join(""))),s.push(a.move(e.handle(u,t,e,{...a.current(),before:l,after:d}))),l=s[s.length-1].slice(-1)}return r.pop(),s.join("")}function X9(t,e,n){const r=e.indexStack,i=t.children||[],s=e.createTracker(n),o=[];let l=-1;for(r.push(-1);++l<i.length;){const a=i[l];r[r.length-1]=l,o.push(s.move(e.handle(a,t,e,{before:`
`,after:`
`,...s.current()}))),a.type!=="list"&&(e.bulletLastUsed=void 0),l<i.length-1&&o.push(s.move(Z9(a,i[l+1],t,e)))}return r.pop(),o.join("")}function Z9(t,e,n,r){let i=r.join.length;for(;i--;){const s=r.join[i](t,e,n,r);if(s===!0||s===1)break;if(typeof s=="number")return`
`.repeat(1+s);if(s===!1)return`

<!---->

`}return`

`}const eU=/\r?\n|\r/g;function oN(t,e){const n=[];let r=0,i=0,s;for(;s=eU.exec(t);)o(t.slice(r,s.index)),n.push(s[0]),r=s.index+s[0].length,i++;return o(t.slice(r)),n.join("");function o(l){n.push(e(l,i,!l))}}function tU(t,e,n){const r=(n.before||"")+(e||"")+(n.after||""),i=[],s=[],o={};let l=-1;for(;++l<t.unsafe.length;){const d=t.unsafe[l];if(!jR(t.stack,d))continue;const h=JR(d);let f;for(;f=h.exec(r);){const p="before"in d||!!d.atBreak,y="after"in d,w=f.index+(p?f[1].length:0);i.includes(w)?(o[w].before&&!p&&(o[w].before=!1),o[w].after&&!y&&(o[w].after=!1)):(i.push(w),o[w]={before:p,after:y})}}i.sort(nU);let a=n.before?n.before.length:0;const u=r.length-(n.after?n.after.length:0);for(l=-1;++l<i.length;){const d=i[l];d<a||d>=u||d+1<u&&i[l+1]===d+1&&o[d].after&&!o[d+1].before&&!o[d+1].after||i[l-1]===d-1&&o[d].before&&!o[d-1].before&&!o[d-1].after||(a!==d&&s.push(mw(r.slice(a,d),"\\")),a=d,/[!-/:-@[-`{-~]/.test(r.charAt(d))&&(!n.encode||!n.encode.includes(r.charAt(d)))?s.push("\\"):(s.push("&#x"+r.charCodeAt(d).toString(16).toUpperCase()+";"),a++))}return s.push(mw(r.slice(a,u),n.after)),s.join("")}function nU(t,e){return t-e}function mw(t,e){const n=/\\(?=[!-/:-@[-`{-~])/g,r=[],i=[],s=t+e;let o=-1,l=0,a;for(;a=n.exec(s);)r.push(a.index);for(;++o<r.length;)l!==r[o]&&i.push(t.slice(l,r[o])),i.push("\\"),l=r[o];return i.push(t.slice(l)),i.join("")}function Zg(t){const e=t||{},n=e.now||{};let r=e.lineShift||0,i=n.line||1,s=n.column||1;return{move:a,current:o,shift:l};function o(){return{now:{line:i,column:s},lineShift:r}}function l(u){r+=u}function a(u){const d=u||"",h=d.split(/\r?\n|\r/g),f=h[h.length-1];return i+=h.length-1,s=h.length===1?s+f.length:1+f.length+r,d}}function lN(t,e={}){const n={enter:i,indentLines:oN,associationId:Y9,containerPhrasing:oU,containerFlow:lU,createTracker:Zg,safe:aU,stack:[],unsafe:[],join:[],handlers:{},options:{},indexStack:[],handle:void 0};Ad(n,{unsafe:G9,join:K9,handlers:H9}),Ad(n,e),n.options.tightDefinitions&&Ad(n,{join:[sU]}),n.handle=i9("type",{invalid:rU,unknown:iU,handlers:n.handlers});let r=n.handle(t,void 0,n,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return r&&r.charCodeAt(r.length-1)!==10&&r.charCodeAt(r.length-1)!==13&&(r+=`
`),r;function i(s){return n.stack.push(s),o;function o(){n.stack.pop()}}}function rU(t){throw new Error("Cannot handle value `"+t+"`, expected node")}function iU(t){throw new Error("Cannot handle unknown node `"+t.type+"`")}function sU(t,e){if(t.type==="definition"&&t.type===e.type)return 0}function oU(t,e){return sN(t,this,e)}function lU(t,e){return X9(t,this,e)}function aU(t,e){return tU(this,t,e)}const uU=["mdxJsxTextElement","mdxJsxFlowElement"];function aN(t){var e;return uU.includes(t.type)&&cU.includes(((e=t.name)==null?void 0:e.toLowerCase())??"")}const cU=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","input","ins","kbd","label","legend","li","link","main","map","mark","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function dU(t,e){const n=gw(t),r=gw(e),i={...n,...r};return hU(i)}function gw(t){const e={};return t.split(";").filter(r=>r.trim()!=="").forEach(r=>{const[i,s]=r.split(":").map(o=>o.trim());e[i]=s}),e}function hU(t){return Object.entries(t).map(([e,n])=>`${e}: ${n}`).join("; ")}function fU(t){return t.children instanceof Array}function pU({root:t,visitors:e,jsxComponentDescriptors:n,jsxIsAvailable:r,addImportStatements:i=!0}){let s=null;const o=new Set;e=e.sort((C,_)=>(_.priority??0)-(C.priority??0)),d(t,null);function l(C){o.add(C)}function a(C,_){if(s===null)return s=_,s;if(!fU(C))throw new Error("Attempting to append children to a non-parent");const E=C.children,v=E.at(-1);if(v){const N=e.find(L=>{var k;return(k=L.shouldJoin)==null?void 0:k.call(L,v,_)});if(N){const L=N.join(v,_);return E.splice(E.length-1,1,L),L}}return E.push(_),_}function u(C,_){C.getChildren().forEach(E=>{d(E,_)})}function d(C,_){var E;const v=e.find(N=>{var L;return(L=N.testLexicalNode)==null?void 0:L.call(N,C)});if(!v)throw new Error(`no lexical visitor found for ${C.getType()}`,{cause:C});(E=v.visitLexicalNode)==null||E.call(v,{lexicalNode:C,mdastParent:_,actions:{addAndStepInto(N,L={},k=!0){const T={type:N,...L,...k?{children:[]}:{}};a(_,T),_e.$isElementNode(C)&&k&&u(C,T)},appendToParent:a,visitChildren:u,registerReferredComponent:l}})}if(s===null)throw new Error("traversal ended with no root element");const h=new Map,f=new Map;for(const C of o){const _=n.find(E=>E.name===C);if(!_)throw new Error(`Component ${C} is used but not imported`);if(_.source)if(_.defaultExport)f.set(C,_.source);else{const{source:E}=_,v=h.get(E);v?v.push(C):h.set(E,[C])}}const p=Array.from(h).map(([C,_])=>({type:"mdxjsEsm",value:`import { ${_.join(", ")} } from '${C}'`}));p.push(...Array.from(f).map(([C,_])=>({type:"mdxjsEsm",value:`import ${C} from '${_}'`})));const y=s,w=y.children.find(C=>C.type==="yaml");return i&&(w?y.children.splice(y.children.indexOf(w)+1,0,...p):y.children.unshift(...p)),Id(y,[]),uN(y),r||cN(y),y}function uN(t){if("children"in t&&t.children){if(aN(t)&&t.children.length===1){const e=t.children[0];e.type==="mdxJsxTextElement"&&e.name==="span"&&((e.attributes||[]).forEach(n=>{var r;if(n.type==="mdxJsxAttribute"){const i=(r=t.attributes)==null?void 0:r.find(s=>s.type==="mdxJsxAttribute"&&s.name===n.name);if(i)if(n.name==="className"){const s=new Set([...i.value.split(" "),...n.value.split(" ")]);i.value=Array.from(s).join(" ")}else n.name==="style"&&(i.value=dU(i.value,n.value));else t.attributes.push(n)}}),t.children=e.children)}t.children.forEach(e=>uN(e))}}function cN(t){if(Object.hasOwn(t,"children")){const e=t,n=[];e.children.forEach(r=>{r.type==="mdxJsxTextElement"&&r.name==="u"?n.push({type:"html",value:"<u>"},...r.children,{type:"html",value:"</u>"}):(n.push(r),cN(r))}),e.children=n}}const _w=/\s+$/,yw=/^\s+/;function Id(t,e){if(t.type==="strong"||t.type==="emphasis"){const n=t.children.at(-1);if((n==null?void 0:n.type)==="text"){const i=n.value.match(_w);if(i){n.value=n.value.replace(_w,"");const s=e.at(-1);s&&(s.children.splice(s.children.indexOf(t)+1,0,{type:"text",value:i[0]}),Id(s,e.slice(0,-1)))}}const r=t.children.at(0);if((r==null?void 0:r.type)==="text"){const i=r.value.match(yw);if(i){r.value=r.value.replace(yw,"");const s=e.at(-1);s&&(s.children.splice(s.children.indexOf(t),0,{type:"text",value:i[0]}),Id(s,e.slice(0,-1)))}}}if("children"in t&&t.children){const n=t;n.children.forEach(r=>Id(r,[...e,n]))}}function mU({root:t,toMarkdownOptions:e,toMarkdownExtensions:n,visitors:r,jsxComponentDescriptors:i,jsxIsAvailable:s}){return lN(pU({root:t,visitors:r,jsxComponentDescriptors:i,jsxIsAvailable:s}),{extensions:n,...e})}function Or(t,e,n,r){const i=t.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),t.splice(...o),s+=1e4,e+=1e4}function Xn(t,e){return t.length>0?(Or(t,t.length,0,e),t):e}const vw={}.hasOwnProperty;function gU(t){const e={};let n=-1;for(;++n<t.length;)_U(e,t[n]);return e}function _U(t,e){let n;for(n in e){const i=(vw.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;if(s)for(o in s){vw.call(i,o)||(i[o]=[]);const l=s[o];yU(i[o],Array.isArray(l)?l:l?[l]:[])}}}function yU(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Or(t,0,0,r)}const vU=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,wr=vs(/[A-Za-z]/),dr=vs(/[\dA-Za-z]/),EU=vs(/[#-'*+\--9=?A-Z^-~]/);function e_(t){return t!==null&&(t<32||t===127)}const t_=vs(/\d/),xU=vs(/[\dA-Fa-f]/),wU=vs(/[!-/:-@[-`{-~]/);function me(t){return t!==null&&t<-2}function It(t){return t!==null&&(t<0||t===32)}function Ve(t){return t===-2||t===-1||t===32}const TU=vs(vU),Hr=vs(/\s/);function vs(t){return e;function e(n){return n!==null&&t.test(String.fromCharCode(n))}}function Ze(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(a){return Ve(a)?(t.enter(n),l(a)):e(a)}function l(a){return Ve(a)&&s++<i?(t.consume(a),l):(t.exit(n),e(a))}}const CU={tokenize:SU};function SU(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),Ze(t,e,"linePrefix")}function i(l){return t.enter("paragraph"),s(l)}function s(l){const a=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=a),n=a,o(l)}function o(l){if(l===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(l);return}return me(l)?(t.consume(l),t.exit("chunkText"),s):(t.consume(l),o)}}const AU={tokenize:IU},Ew={tokenize:kU};function IU(t){const e=this,n=[];let r=0,i,s,o;return l;function l(v){if(r<n.length){const N=n[r];return e.containerState=N[1],t.attempt(N[0].continuation,a,u)(v)}return u(v)}function a(v){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&E();const N=e.events.length;let L=N,k;for(;L--;)if(e.events[L][0]==="exit"&&e.events[L][1].type==="chunkFlow"){k=e.events[L][1].end;break}_(r);let T=N;for(;T<e.events.length;)e.events[T][1].end=Object.assign({},k),T++;return Or(e.events,L+1,0,e.events.slice(N)),e.events.length=T,u(v)}return l(v)}function u(v){if(r===n.length){if(!i)return f(v);if(i.currentConstruct&&i.currentConstruct.concrete)return y(v);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Ew,d,h)(v)}function d(v){return i&&E(),_(r),f(v)}function h(v){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,y(v)}function f(v){return e.containerState={},t.attempt(Ew,p,y)(v)}function p(v){return r++,n.push([e.currentConstruct,e.containerState]),f(v)}function y(v){if(v===null){i&&E(),_(0),t.consume(v);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),w(v)}function w(v){if(v===null){C(t.exit("chunkFlow"),!0),_(0),t.consume(v);return}return me(v)?(t.consume(v),C(t.exit("chunkFlow")),r=0,e.interrupt=void 0,l):(t.consume(v),w)}function C(v,N){const L=e.sliceStream(v);if(N&&L.push(null),v.previous=s,s&&(s.next=v),s=v,i.defineSkip(v.start),i.write(L),e.parser.lazy[v.start.line]){let k=i.events.length;for(;k--;)if(i.events[k][1].start.offset<o&&(!i.events[k][1].end||i.events[k][1].end.offset>o))return;const T=e.events.length;let x=T,I,P;for(;x--;)if(e.events[x][0]==="exit"&&e.events[x][1].type==="chunkFlow"){if(I){P=e.events[x][1].end;break}I=!0}for(_(r),k=T;k<e.events.length;)e.events[k][1].end=Object.assign({},P),k++;Or(e.events,x+1,0,e.events.slice(T)),e.events.length=k}}function _(v){let N=n.length;for(;N-- >v;){const L=n[N];e.containerState=L[1],L[0].exit.call(e,t)}n.length=v}function E(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function kU(t,e,n){return Ze(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function xw(t){if(t===null||It(t)||Hr(t))return 1;if(TU(t))return 2}function j0(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const n_={name:"attention",tokenize:NU,resolveAll:RU};function RU(t,e){let n=-1,r,i,s,o,l,a,u,d;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;a=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const h=Object.assign({},t[r][1].end),f=Object.assign({},t[n][1].start);ww(h,-a),ww(f,a),o={type:a>1?"strongSequence":"emphasisSequence",start:h,end:Object.assign({},t[r][1].end)},l={type:a>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[n][1].start),end:f},s={type:a>1?"strongText":"emphasisText",start:Object.assign({},t[r][1].end),end:Object.assign({},t[n][1].start)},i={type:a>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},l.end)},t[r][1].end=Object.assign({},o.start),t[n][1].start=Object.assign({},l.end),u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=Xn(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=Xn(u,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),u=Xn(u,j0(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=Xn(u,[["exit",s,e],["enter",l,e],["exit",l,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(d=2,u=Xn(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):d=0,Or(t,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function NU(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=xw(r);let s;return o;function o(a){return s=a,t.enter("attentionSequence"),l(a)}function l(a){if(a===s)return t.consume(a),l;const u=t.exit("attentionSequence"),d=xw(a),h=!d||d===2&&i||n.includes(a),f=!i||i===2&&d||n.includes(r);return u._open=!!(s===42?h:h&&(i||!f)),u._close=!!(s===42?f:f&&(d||!h)),e(a)}}function ww(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const PU={name:"autolink",tokenize:DU};function DU(t,e,n){let r=0;return i;function i(p){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(p){return wr(p)?(t.consume(p),o):u(p)}function o(p){return p===43||p===45||p===46||dr(p)?(r=1,l(p)):u(p)}function l(p){return p===58?(t.consume(p),r=0,a):(p===43||p===45||p===46||dr(p))&&r++<32?(t.consume(p),l):(r=0,u(p))}function a(p){return p===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):p===null||p===32||p===60||e_(p)?n(p):(t.consume(p),a)}function u(p){return p===64?(t.consume(p),d):EU(p)?(t.consume(p),u):n(p)}function d(p){return dr(p)?h(p):n(p)}function h(p){return p===46?(t.consume(p),r=0,d):p===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):f(p)}function f(p){if((p===45||dr(p))&&r++<63){const y=p===45?f:h;return t.consume(p),y}return n(p)}}const Of={tokenize:bU,partial:!0};function bU(t,e,n){return r;function r(s){return Ve(s)?Ze(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||me(s)?e(s):n(s)}}const dN={name:"blockQuote",tokenize:OU,continuation:{tokenize:FU},exit:MU};function OU(t,e,n){const r=this;return i;function i(o){if(o===62){const l=r.containerState;return l.open||(t.enter("blockQuote",{_container:!0}),l.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return Ve(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function FU(t,e,n){const r=this;return i;function i(o){return Ve(o)?Ze(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return t.attempt(dN,e,n)(o)}}function MU(t){t.exit("blockQuote")}const hN={name:"characterEscape",tokenize:LU};function LU(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return wU(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const fN={name:"characterReference",tokenize:$U};function $U(t,e,n){const r=this;let i=0,s,o;return l;function l(h){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),a}function a(h){return h===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(h),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),s=31,o=dr,d(h))}function u(h){return h===88||h===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(h),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=xU,d):(t.enter("characterReferenceValue"),s=7,o=t_,d(h))}function d(h){if(h===59&&i){const f=t.exit("characterReferenceValue");return o===dr&&!bu(r.sliceSerialize(f))?n(h):(t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(h)&&i++<s?(t.consume(h),d):n(h)}}const Tw={tokenize:BU,partial:!0},Cw={name:"codeFenced",tokenize:VU,concrete:!0};function VU(t,e,n){const r=this,i={tokenize:L,partial:!0};let s=0,o=0,l;return a;function a(k){return u(k)}function u(k){const T=r.events[r.events.length-1];return s=T&&T[1].type==="linePrefix"?T[2].sliceSerialize(T[1],!0).length:0,l=k,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),d(k)}function d(k){return k===l?(o++,t.consume(k),d):o<3?n(k):(t.exit("codeFencedFenceSequence"),Ve(k)?Ze(t,h,"whitespace")(k):h(k))}function h(k){return k===null||me(k)?(t.exit("codeFencedFence"),r.interrupt?e(k):t.check(Tw,w,N)(k)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),f(k))}function f(k){return k===null||me(k)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),h(k)):Ve(k)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Ze(t,p,"whitespace")(k)):k===96&&k===l?n(k):(t.consume(k),f)}function p(k){return k===null||me(k)?h(k):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),y(k))}function y(k){return k===null||me(k)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),h(k)):k===96&&k===l?n(k):(t.consume(k),y)}function w(k){return t.attempt(i,N,C)(k)}function C(k){return t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),_}function _(k){return s>0&&Ve(k)?Ze(t,E,"linePrefix",s+1)(k):E(k)}function E(k){return k===null||me(k)?t.check(Tw,w,N)(k):(t.enter("codeFlowValue"),v(k))}function v(k){return k===null||me(k)?(t.exit("codeFlowValue"),E(k)):(t.consume(k),v)}function N(k){return t.exit("codeFenced"),e(k)}function L(k,T,x){let I=0;return P;function P(pe){return k.enter("lineEnding"),k.consume(pe),k.exit("lineEnding"),R}function R(pe){return k.enter("codeFencedFence"),Ve(pe)?Ze(k,D,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(pe):D(pe)}function D(pe){return pe===l?(k.enter("codeFencedFenceSequence"),O(pe)):x(pe)}function O(pe){return pe===l?(I++,k.consume(pe),O):I>=o?(k.exit("codeFencedFenceSequence"),Ve(pe)?Ze(k,ve,"whitespace")(pe):ve(pe)):x(pe)}function ve(pe){return pe===null||me(pe)?(k.exit("codeFencedFence"),T(pe)):x(pe)}}}function BU(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const Qp={name:"codeIndented",tokenize:jU},UU={tokenize:zU,partial:!0};function jU(t,e,n){const r=this;return i;function i(u){return t.enter("codeIndented"),Ze(t,s,"linePrefix",5)(u)}function s(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?a(u):me(u)?t.attempt(UU,o,a)(u):(t.enter("codeFlowValue"),l(u))}function l(u){return u===null||me(u)?(t.exit("codeFlowValue"),o(u)):(t.consume(u),l)}function a(u){return t.exit("codeIndented"),e(u)}}function zU(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):me(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):Ze(t,s,"linePrefix",5)(o)}function s(o){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(o):me(o)?i(o):n(o)}}const WU={name:"codeText",tokenize:qU,resolve:HU,previous:KU};function HU(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function KU(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function qU(t,e,n){let r=0,i,s;return o;function o(h){return t.enter("codeText"),t.enter("codeTextSequence"),l(h)}function l(h){return h===96?(t.consume(h),r++,l):(t.exit("codeTextSequence"),a(h))}function a(h){return h===null?n(h):h===32?(t.enter("space"),t.consume(h),t.exit("space"),a):h===96?(s=t.enter("codeTextSequence"),i=0,d(h)):me(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),a):(t.enter("codeTextData"),u(h))}function u(h){return h===null||h===32||h===96||me(h)?(t.exit("codeTextData"),a(h)):(t.consume(h),u)}function d(h){return h===96?(t.consume(h),i++,d):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(h)):(s.type="codeTextData",u(h))}}function pN(t){const e={};let n=-1,r,i,s,o,l,a,u;for(;++n<t.length;){for(;n in e;)n=e[n];if(r=t[n],n&&r[1].type==="chunkFlow"&&t[n-1][1].type==="listItemPrefix"&&(a=r[1]._tokenizer.events,s=0,s<a.length&&a[s][1].type==="lineEndingBlank"&&(s+=2),s<a.length&&a[s][1].type==="content"))for(;++s<a.length&&a[s][1].type!=="content";)a[s][1].type==="chunkText"&&(a[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,GU(t,n)),n=e[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(o=t[s],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(t[i][1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},t[i][1].start),l=t.slice(i,n),l.unshift(r),Or(t,i,n-i+1,l))}}return!u}function GU(t,e){const n=t[e][1],r=t[e][2];let i=e-1;const s=[],o=n._tokenizer||r.parser[n.contentType](n.start),l=o.events,a=[],u={};let d,h,f=-1,p=n,y=0,w=0;const C=[w];for(;p;){for(;t[++i][1]!==p;);s.push(i),p._tokenizer||(d=r.sliceStream(p),p.next||d.push(null),h&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),h=p,p=p.next}for(p=n;++f<l.length;)l[f][0]==="exit"&&l[f-1][0]==="enter"&&l[f][1].type===l[f-1][1].type&&l[f][1].start.line!==l[f][1].end.line&&(w=f+1,C.push(w),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):C.pop(),f=C.length;f--;){const _=l.slice(C[f],C[f+1]),E=s.pop();a.unshift([E,E+_.length-1]),Or(t,E,2,_)}for(f=-1;++f<a.length;)u[y+a[f][0]]=y+a[f][1],y+=a[f][1]-a[f][0]-1;return u}const JU={tokenize:XU,resolve:YU},QU={tokenize:ZU,partial:!0};function YU(t){return pN(t),t}function XU(t,e){let n;return r;function r(l){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?s(l):me(l)?t.check(QU,o,s)(l):(t.consume(l),i)}function s(l){return t.exit("chunkContent"),t.exit("content"),e(l)}function o(l){return t.consume(l),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function ZU(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Ze(t,s,"linePrefix")}function s(o){if(o===null||me(o))return n(o);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function mN(t,e,n,r,i,s,o,l,a){const u=a||Number.POSITIVE_INFINITY;let d=0;return h;function h(_){return _===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(_),t.exit(s),f):_===null||_===32||_===41||e_(_)?n(_):(t.enter(r),t.enter(o),t.enter(l),t.enter("chunkString",{contentType:"string"}),w(_))}function f(_){return _===62?(t.enter(s),t.consume(_),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(l),t.enter("chunkString",{contentType:"string"}),p(_))}function p(_){return _===62?(t.exit("chunkString"),t.exit(l),f(_)):_===null||_===60||me(_)?n(_):(t.consume(_),_===92?y:p)}function y(_){return _===60||_===62||_===92?(t.consume(_),p):p(_)}function w(_){return!d&&(_===null||_===41||It(_))?(t.exit("chunkString"),t.exit(l),t.exit(o),t.exit(r),e(_)):d<u&&_===40?(t.consume(_),d++,w):_===41?(t.consume(_),d--,w):_===null||_===32||_===40||e_(_)?n(_):(t.consume(_),_===92?C:w)}function C(_){return _===40||_===41||_===92?(t.consume(_),w):w(_)}}function gN(t,e,n,r,i,s){const o=this;let l=0,a;return u;function u(p){return t.enter(r),t.enter(i),t.consume(p),t.exit(i),t.enter(s),d}function d(p){return l>999||p===null||p===91||p===93&&!a||p===94&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?n(p):p===93?(t.exit(s),t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):me(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),d):(t.enter("chunkString",{contentType:"string"}),h(p))}function h(p){return p===null||p===91||p===93||me(p)||l++>999?(t.exit("chunkString"),d(p)):(t.consume(p),a||(a=!Ve(p)),p===92?f:h)}function f(p){return p===91||p===92||p===93?(t.consume(p),l++,h):h(p)}}function _N(t,e,n,r,i,s){let o;return l;function l(f){return f===34||f===39||f===40?(t.enter(r),t.enter(i),t.consume(f),t.exit(i),o=f===40?41:f,a):n(f)}function a(f){return f===o?(t.enter(i),t.consume(f),t.exit(i),t.exit(r),e):(t.enter(s),u(f))}function u(f){return f===o?(t.exit(s),a(o)):f===null?n(f):me(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),Ze(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),d(f))}function d(f){return f===o||f===null||me(f)?(t.exit("chunkString"),u(f)):(t.consume(f),f===92?h:d)}function h(f){return f===o||f===92?(t.consume(f),d):d(f)}}function Ka(t,e){let n;return r;function r(i){return me(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Ve(i)?Ze(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}function rl(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const ej={name:"definition",tokenize:nj},tj={tokenize:rj,partial:!0};function nj(t,e,n){const r=this;let i;return s;function s(p){return t.enter("definition"),o(p)}function o(p){return gN.call(r,t,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function l(p){return i=rl(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),a):n(p)}function a(p){return It(p)?Ka(t,u)(p):u(p)}function u(p){return mN(t,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function d(p){return t.attempt(tj,h,h)(p)}function h(p){return Ve(p)?Ze(t,f,"whitespace")(p):f(p)}function f(p){return p===null||me(p)?(t.exit("definition"),r.parser.defined.push(i),e(p)):n(p)}}function rj(t,e,n){return r;function r(l){return It(l)?Ka(t,i)(l):n(l)}function i(l){return _N(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function s(l){return Ve(l)?Ze(t,o,"whitespace")(l):o(l)}function o(l){return l===null||me(l)?e(l):n(l)}}const ij={name:"hardBreakEscape",tokenize:sj};function sj(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return me(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const oj={name:"headingAtx",tokenize:aj,resolve:lj};function lj(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Or(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function aj(t,e,n){let r=0;return i;function i(d){return t.enter("atxHeading"),s(d)}function s(d){return t.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(t.consume(d),o):d===null||It(d)?(t.exit("atxHeadingSequence"),l(d)):n(d)}function l(d){return d===35?(t.enter("atxHeadingSequence"),a(d)):d===null||me(d)?(t.exit("atxHeading"),e(d)):Ve(d)?Ze(t,l,"whitespace")(d):(t.enter("atxHeadingText"),u(d))}function a(d){return d===35?(t.consume(d),a):(t.exit("atxHeadingSequence"),l(d))}function u(d){return d===null||d===35||It(d)?(t.exit("atxHeadingText"),l(d)):(t.consume(d),u)}}const uj=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Sw=["pre","script","style","textarea"],cj={name:"htmlFlow",tokenize:pj,resolveTo:fj,concrete:!0},dj={tokenize:gj,partial:!0},hj={tokenize:mj,partial:!0};function fj(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function pj(t,e,n){const r=this;let i,s,o,l,a;return u;function u(M){return d(M)}function d(M){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(M),h}function h(M){return M===33?(t.consume(M),f):M===47?(t.consume(M),s=!0,w):M===63?(t.consume(M),i=3,r.interrupt?e:F):wr(M)?(t.consume(M),o=String.fromCharCode(M),C):n(M)}function f(M){return M===45?(t.consume(M),i=2,p):M===91?(t.consume(M),i=5,l=0,y):wr(M)?(t.consume(M),i=4,r.interrupt?e:F):n(M)}function p(M){return M===45?(t.consume(M),r.interrupt?e:F):n(M)}function y(M){const je="CDATA[";return M===je.charCodeAt(l++)?(t.consume(M),l===je.length?r.interrupt?e:D:y):n(M)}function w(M){return wr(M)?(t.consume(M),o=String.fromCharCode(M),C):n(M)}function C(M){if(M===null||M===47||M===62||It(M)){const je=M===47,Ye=o.toLowerCase();return!je&&!s&&Sw.includes(Ye)?(i=1,r.interrupt?e(M):D(M)):uj.includes(o.toLowerCase())?(i=6,je?(t.consume(M),_):r.interrupt?e(M):D(M)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(M):s?E(M):v(M))}return M===45||dr(M)?(t.consume(M),o+=String.fromCharCode(M),C):n(M)}function _(M){return M===62?(t.consume(M),r.interrupt?e:D):n(M)}function E(M){return Ve(M)?(t.consume(M),E):P(M)}function v(M){return M===47?(t.consume(M),P):M===58||M===95||wr(M)?(t.consume(M),N):Ve(M)?(t.consume(M),v):P(M)}function N(M){return M===45||M===46||M===58||M===95||dr(M)?(t.consume(M),N):L(M)}function L(M){return M===61?(t.consume(M),k):Ve(M)?(t.consume(M),L):v(M)}function k(M){return M===null||M===60||M===61||M===62||M===96?n(M):M===34||M===39?(t.consume(M),a=M,T):Ve(M)?(t.consume(M),k):x(M)}function T(M){return M===a?(t.consume(M),a=null,I):M===null||me(M)?n(M):(t.consume(M),T)}function x(M){return M===null||M===34||M===39||M===47||M===60||M===61||M===62||M===96||It(M)?L(M):(t.consume(M),x)}function I(M){return M===47||M===62||Ve(M)?v(M):n(M)}function P(M){return M===62?(t.consume(M),R):n(M)}function R(M){return M===null||me(M)?D(M):Ve(M)?(t.consume(M),R):n(M)}function D(M){return M===45&&i===2?(t.consume(M),Ne):M===60&&i===1?(t.consume(M),fe):M===62&&i===4?(t.consume(M),Ce):M===63&&i===3?(t.consume(M),F):M===93&&i===5?(t.consume(M),ae):me(M)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(dj,we,O)(M)):M===null||me(M)?(t.exit("htmlFlowData"),O(M)):(t.consume(M),D)}function O(M){return t.check(hj,ve,we)(M)}function ve(M){return t.enter("lineEnding"),t.consume(M),t.exit("lineEnding"),pe}function pe(M){return M===null||me(M)?O(M):(t.enter("htmlFlowData"),D(M))}function Ne(M){return M===45?(t.consume(M),F):D(M)}function fe(M){return M===47?(t.consume(M),o="",q):D(M)}function q(M){if(M===62){const je=o.toLowerCase();return Sw.includes(je)?(t.consume(M),Ce):D(M)}return wr(M)&&o.length<8?(t.consume(M),o+=String.fromCharCode(M),q):D(M)}function ae(M){return M===93?(t.consume(M),F):D(M)}function F(M){return M===62?(t.consume(M),Ce):M===45&&i===2?(t.consume(M),F):D(M)}function Ce(M){return M===null||me(M)?(t.exit("htmlFlowData"),we(M)):(t.consume(M),Ce)}function we(M){return t.exit("htmlFlow"),e(M)}}function mj(t,e,n){const r=this;return i;function i(o){return me(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function gj(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Of,e,n)}}const _j={name:"htmlText",tokenize:yj};function yj(t,e,n){const r=this;let i,s,o;return l;function l(F){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(F),a}function a(F){return F===33?(t.consume(F),u):F===47?(t.consume(F),L):F===63?(t.consume(F),v):wr(F)?(t.consume(F),x):n(F)}function u(F){return F===45?(t.consume(F),d):F===91?(t.consume(F),s=0,y):wr(F)?(t.consume(F),E):n(F)}function d(F){return F===45?(t.consume(F),p):n(F)}function h(F){return F===null?n(F):F===45?(t.consume(F),f):me(F)?(o=h,fe(F)):(t.consume(F),h)}function f(F){return F===45?(t.consume(F),p):h(F)}function p(F){return F===62?Ne(F):F===45?f(F):h(F)}function y(F){const Ce="CDATA[";return F===Ce.charCodeAt(s++)?(t.consume(F),s===Ce.length?w:y):n(F)}function w(F){return F===null?n(F):F===93?(t.consume(F),C):me(F)?(o=w,fe(F)):(t.consume(F),w)}function C(F){return F===93?(t.consume(F),_):w(F)}function _(F){return F===62?Ne(F):F===93?(t.consume(F),_):w(F)}function E(F){return F===null||F===62?Ne(F):me(F)?(o=E,fe(F)):(t.consume(F),E)}function v(F){return F===null?n(F):F===63?(t.consume(F),N):me(F)?(o=v,fe(F)):(t.consume(F),v)}function N(F){return F===62?Ne(F):v(F)}function L(F){return wr(F)?(t.consume(F),k):n(F)}function k(F){return F===45||dr(F)?(t.consume(F),k):T(F)}function T(F){return me(F)?(o=T,fe(F)):Ve(F)?(t.consume(F),T):Ne(F)}function x(F){return F===45||dr(F)?(t.consume(F),x):F===47||F===62||It(F)?I(F):n(F)}function I(F){return F===47?(t.consume(F),Ne):F===58||F===95||wr(F)?(t.consume(F),P):me(F)?(o=I,fe(F)):Ve(F)?(t.consume(F),I):Ne(F)}function P(F){return F===45||F===46||F===58||F===95||dr(F)?(t.consume(F),P):R(F)}function R(F){return F===61?(t.consume(F),D):me(F)?(o=R,fe(F)):Ve(F)?(t.consume(F),R):I(F)}function D(F){return F===null||F===60||F===61||F===62||F===96?n(F):F===34||F===39?(t.consume(F),i=F,O):me(F)?(o=D,fe(F)):Ve(F)?(t.consume(F),D):(t.consume(F),ve)}function O(F){return F===i?(t.consume(F),i=void 0,pe):F===null?n(F):me(F)?(o=O,fe(F)):(t.consume(F),O)}function ve(F){return F===null||F===34||F===39||F===60||F===61||F===96?n(F):F===47||F===62||It(F)?I(F):(t.consume(F),ve)}function pe(F){return F===47||F===62||It(F)?I(F):n(F)}function Ne(F){return F===62?(t.consume(F),t.exit("htmlTextData"),t.exit("htmlText"),e):n(F)}function fe(F){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(F),t.exit("lineEnding"),q}function q(F){return Ve(F)?Ze(t,ae,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):ae(F)}function ae(F){return t.enter("htmlTextData"),o(F)}}const z0={name:"labelEnd",tokenize:Cj,resolveTo:Tj,resolveAll:wj},vj={tokenize:Sj},Ej={tokenize:Aj},xj={tokenize:Ij};function wj(t){let e=-1;for(;++e<t.length;){const n=t[e][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(t.splice(e+1,n.type==="labelImage"?4:2),n.type="data",e++)}return t}function Tj(t,e){let n=t.length,r=0,i,s,o,l;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const a={type:t[s][1].type==="labelLink"?"link":"image",start:Object.assign({},t[s][1].start),end:Object.assign({},t[t.length-1][1].end)},u={type:"label",start:Object.assign({},t[s][1].start),end:Object.assign({},t[o][1].end)},d={type:"labelText",start:Object.assign({},t[s+r+2][1].end),end:Object.assign({},t[o-2][1].start)};return l=[["enter",a,e],["enter",u,e]],l=Xn(l,t.slice(s+1,s+r+3)),l=Xn(l,[["enter",d,e]]),l=Xn(l,j0(e.parser.constructs.insideSpan.null,t.slice(s+r+4,o-3),e)),l=Xn(l,[["exit",d,e],t[o-2],t[o-1],["exit",u,e]]),l=Xn(l,t.slice(o+1)),l=Xn(l,[["exit",a,e]]),Or(t,s,t.length,l),t}function Cj(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return l;function l(f){return s?s._inactive?h(f):(o=r.parser.defined.includes(rl(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelEnd"),a):n(f)}function a(f){return f===40?t.attempt(vj,d,o?d:h)(f):f===91?t.attempt(Ej,d,o?u:h)(f):o?d(f):h(f)}function u(f){return t.attempt(xj,d,h)(f)}function d(f){return e(f)}function h(f){return s._balanced=!0,n(f)}}function Sj(t,e,n){return r;function r(h){return t.enter("resource"),t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),i}function i(h){return It(h)?Ka(t,s)(h):s(h)}function s(h){return h===41?d(h):mN(t,o,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function o(h){return It(h)?Ka(t,a)(h):d(h)}function l(h){return n(h)}function a(h){return h===34||h===39||h===40?_N(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):d(h)}function u(h){return It(h)?Ka(t,d)(h):d(h)}function d(h){return h===41?(t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),t.exit("resource"),e):n(h)}}function Aj(t,e,n){const r=this;return i;function i(l){return gN.call(r,t,s,o,"reference","referenceMarker","referenceString")(l)}function s(l){return r.parser.defined.includes(rl(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(l):n(l)}function o(l){return n(l)}}function Ij(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const kj={name:"labelStartImage",tokenize:Rj,resolveAll:z0.resolveAll};function Rj(t,e,n){const r=this;return i;function i(l){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(l),t.exit("labelImageMarker"),s}function s(l){return l===91?(t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelImage"),o):n(l)}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}const Nj={name:"labelStartLink",tokenize:Pj,resolveAll:z0.resolveAll};function Pj(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const Yp={name:"lineEnding",tokenize:Dj};function Dj(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Ze(t,e,"linePrefix")}}const kd={name:"thematicBreak",tokenize:bj};function bj(t,e,n){let r=0,i;return s;function s(u){return t.enter("thematicBreak"),o(u)}function o(u){return i=u,l(u)}function l(u){return u===i?(t.enter("thematicBreakSequence"),a(u)):r>=3&&(u===null||me(u))?(t.exit("thematicBreak"),e(u)):n(u)}function a(u){return u===i?(t.consume(u),r++,a):(t.exit("thematicBreakSequence"),Ve(u)?Ze(t,l,"whitespace")(u):l(u))}}const kn={name:"list",tokenize:Mj,continuation:{tokenize:Lj},exit:Vj},Oj={tokenize:Bj,partial:!0},Fj={tokenize:$j,partial:!0};function Mj(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return l;function l(p){const y=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(y==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:t_(p)){if(r.containerState.type||(r.containerState.type=y,t.enter(y,{_container:!0})),y==="listUnordered")return t.enter("listItemPrefix"),p===42||p===45?t.check(kd,n,u)(p):u(p);if(!r.interrupt||p===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),a(p)}return n(p)}function a(p){return t_(p)&&++o<10?(t.consume(p),a):(!r.interrupt||o<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(t.exit("listItemValue"),u(p)):n(p)}function u(p){return t.enter("listItemMarker"),t.consume(p),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,t.check(Of,r.interrupt?n:d,t.attempt(Oj,f,h))}function d(p){return r.containerState.initialBlankLine=!0,s++,f(p)}function h(p){return Ve(p)?(t.enter("listItemPrefixWhitespace"),t.consume(p),t.exit("listItemPrefixWhitespace"),f):n(p)}function f(p){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(p)}}function Lj(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Of,i,s);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ze(t,e,"listItemIndent",r.containerState.size+1)(l)}function s(l){return r.containerState.furtherBlankLines||!Ve(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(Fj,e,o)(l))}function o(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ze(t,t.attempt(kn,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function $j(t,e,n){const r=this;return Ze(t,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):n(s)}}function Vj(t){t.exit(this.containerState.type)}function Bj(t,e,n){const r=this;return Ze(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!Ve(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const Aw={name:"setextUnderline",tokenize:jj,resolveTo:Uj};function Uj(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:Object.assign({},t[i][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",o,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end=Object.assign({},t[s][1].end)):t[r][1]=o,t.push(["exit",o,e]),t}function jj(t,e,n){const r=this;let i;return s;function s(u){let d=r.events.length,h;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){h=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(t.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return t.enter("setextHeadingLineSequence"),l(u)}function l(u){return u===i?(t.consume(u),l):(t.exit("setextHeadingLineSequence"),Ve(u)?Ze(t,a,"lineSuffix")(u):a(u))}function a(u){return u===null||me(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const zj={tokenize:Wj};function Wj(t){const e=this,n=t.attempt(Of,r,t.attempt(this.parser.constructs.flowInitial,i,Ze(t,t.attempt(this.parser.constructs.flow,i,t.attempt(JU,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const Hj={resolveAll:vN()},Kj=yN("string"),qj=yN("text");function yN(t){return{tokenize:e,resolveAll:vN(t==="text"?Gj:void 0)};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,o,l);return o;function o(d){return u(d)?s(d):l(d)}function l(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),a}function a(d){return u(d)?(n.exit("data"),s(d)):(n.consume(d),a)}function u(d){if(d===null)return!0;const h=i[d];let f=-1;if(h)for(;++f<h.length;){const p=h[f];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function vN(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function Gj(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,o=-1,l=0,a;for(;s--;){const u=i[s];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)l++,o--;if(o)break;o=-1}else if(u===-2)a=!0,l++;else if(u!==-1){s++;break}}if(l){const u={type:n===t.length||a||l<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-l,offset:r.end.offset-l,_index:r.start._index+s,_bufferIndex:s?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},u.start),r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}function Jj(t,e,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},s=[];let o=[],l=[];const a={consume:E,enter:v,exit:N,attempt:T(L),check:T(k),interrupt:T(k,{interrupt:!0})},u={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:p,sliceSerialize:f,now:y,defineSkip:w,write:h};let d=e.tokenize.call(u,a);return e.resolveAll&&s.push(e),u;function h(R){return o=Xn(o,R),C(),o[o.length-1]!==null?[]:(x(e,0),u.events=j0(s,u.events,u),u.events)}function f(R,D){return Yj(p(R),D)}function p(R){return Qj(o,R)}function y(){const{line:R,column:D,offset:O,_index:ve,_bufferIndex:pe}=r;return{line:R,column:D,offset:O,_index:ve,_bufferIndex:pe}}function w(R){i[R.line]=R.column,P()}function C(){let R;for(;r._index<o.length;){const D=o[r._index];if(typeof D=="string")for(R=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===R&&r._bufferIndex<D.length;)_(D.charCodeAt(r._bufferIndex));else _(D)}}function _(R){d=d(R)}function E(R){me(R)?(r.line++,r.column=1,r.offset+=R===-3?2:1,P()):R!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=R}function v(R,D){const O=D||{};return O.type=R,O.start=y(),u.events.push(["enter",O,u]),l.push(O),O}function N(R){const D=l.pop();return D.end=y(),u.events.push(["exit",D,u]),D}function L(R,D){x(R,D.from)}function k(R,D){D.restore()}function T(R,D){return O;function O(ve,pe,Ne){let fe,q,ae,F;return Array.isArray(ve)?we(ve):"tokenize"in ve?we([ve]):Ce(ve);function Ce(Pe){return W;function W(G){const Q=G!==null&&Pe[G],Z=G!==null&&Pe.null,te=[...Array.isArray(Q)?Q:Q?[Q]:[],...Array.isArray(Z)?Z:Z?[Z]:[]];return we(te)(G)}}function we(Pe){return fe=Pe,q=0,Pe.length===0?Ne:M(Pe[q])}function M(Pe){return W;function W(G){return F=I(),ae=Pe,Pe.partial||(u.currentConstruct=Pe),Pe.name&&u.parser.constructs.disable.null.includes(Pe.name)?Ye():Pe.tokenize.call(D?Object.assign(Object.create(u),D):u,a,je,Ye)(G)}}function je(Pe){return R(ae,F),pe}function Ye(Pe){return F.restore(),++q<fe.length?M(fe[q]):Ne}}}function x(R,D){R.resolveAll&&!s.includes(R)&&s.push(R),R.resolve&&Or(u.events,D,u.events.length-D,R.resolve(u.events.slice(D),u)),R.resolveTo&&(u.events=R.resolveTo(u.events,u))}function I(){const R=y(),D=u.previous,O=u.currentConstruct,ve=u.events.length,pe=Array.from(l);return{restore:Ne,from:ve};function Ne(){r=R,u.previous=D,u.currentConstruct=O,u.events.length=ve,l=pe,P()}}function P(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Qj(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,s)];else{if(o=t.slice(n,i),r>-1){const l=o[0];typeof l=="string"?o[0]=l.slice(r):o.shift()}s>0&&o.push(t[i].slice(0,s))}return o}function Yj(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}const Xj={42:kn,43:kn,45:kn,48:kn,49:kn,50:kn,51:kn,52:kn,53:kn,54:kn,55:kn,56:kn,57:kn,62:dN},Zj={91:ej},e8={[-2]:Qp,[-1]:Qp,32:Qp},t8={35:oj,42:kd,45:[Aw,kd],60:cj,61:Aw,95:kd,96:Cw,126:Cw},n8={38:fN,92:hN},r8={[-5]:Yp,[-4]:Yp,[-3]:Yp,33:kj,38:fN,42:n_,60:[PU,_j],91:Nj,92:[ij,hN],93:z0,95:n_,96:WU},i8={null:[n_,Hj]},s8={null:[42,95]},o8={null:[]},l8=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:s8,contentInitial:Zj,disable:o8,document:Xj,flow:t8,flowInitial:e8,insideSpan:i8,string:n8,text:r8},Symbol.toStringTag,{value:"Module"}));function a8(t){const n=gU([l8,...(t||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(CU),document:i(AU),flow:i(zj),string:i(Kj),text:i(qj)};return r;function i(s){return o;function o(l){return Jj(r,s,l)}}}const Iw=/[\0\t\n\r]/g;function u8(){let t=1,e="",n=!0,r;return i;function i(s,o,l){const a=[];let u,d,h,f,p;for(s=e+s.toString(o),h=0,e="",n&&(s.charCodeAt(0)===65279&&h++,n=void 0);h<s.length;){if(Iw.lastIndex=h,u=Iw.exec(s),f=u&&u.index!==void 0?u.index:s.length,p=s.charCodeAt(f),!u){e=s.slice(h);break}if(p===10&&h===f&&r)a.push(-3),r=void 0;else switch(r&&(a.push(-5),r=void 0),h<f&&(a.push(s.slice(h,f)),t+=f-h),p){case 0:{a.push(65533),t++;break}case 9:{for(d=Math.ceil(t/4)*4,a.push(-2);t++<d;)a.push(-1);break}case 10:{a.push(-4),t=1;break}default:r=!0,t=1}h=f+1}return l&&(r&&a.push(-5),e&&a.push(e),a.push(null)),a}}function c8(t){for(;!pN(t););return t}function ti(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?kw(t.position):"start"in t||"end"in t?kw(t):"line"in t||"column"in t?r_(t):""}function r_(t){return Rw(t&&t.line)+":"+Rw(t&&t.column)}function kw(t){return r_(t&&t.start)+"-"+r_(t&&t.end)}function Rw(t){return t&&typeof t=="number"?t:1}const EN={}.hasOwnProperty,d8=function(t,e,n){return typeof e!="string"&&(n=e,e=void 0),h8(n)(c8(a8(n).document().write(u8()(t,e,!0))))};function h8(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(Le),autolinkProtocol:R,autolinkEmail:R,atxHeading:l(ze),blockQuote:l(te),characterEscape:R,characterReference:R,codeFenced:l(Be),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:l(Be,a),codeText:l(qe,a),codeTextData:R,data:R,codeFlowValue:R,definition:l(et),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:l(Nt),hardBreakEscape:l(xe),hardBreakTrailing:l(xe),htmlFlow:l(Ke,a),htmlFlowData:R,htmlText:l(Ke,a),htmlTextData:R,image:l(Fe),label:a,link:l(Le),listItem:l(ne),listItemValue:y,listOrdered:l(St,p),listUnordered:l(St),paragraph:l(ee),reference:Ye,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:l(ze),strong:l(ie),thematicBreak:l(ke)},exit:{atxHeading:d(),atxHeadingSequence:T,autolink:d(),autolinkEmail:Z,autolinkProtocol:Q,blockQuote:d(),characterEscapeValue:D,characterReferenceMarkerHexadecimal:W,characterReferenceMarkerNumeric:W,characterReferenceValue:G,codeFenced:d(E),codeFencedFence:_,codeFencedFenceInfo:w,codeFencedFenceMeta:C,codeFlowValue:D,codeIndented:d(v),codeText:d(fe),codeTextData:D,data:D,definition:d(),definitionDestinationString:k,definitionLabelString:N,definitionTitleString:L,emphasis:d(),hardBreakEscape:d(ve),hardBreakTrailing:d(ve),htmlFlow:d(pe),htmlFlowData:D,htmlText:d(Ne),htmlTextData:D,image:d(ae),label:Ce,labelText:F,lineEnding:O,link:d(q),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:Pe,resourceDestinationString:we,resourceTitleString:M,resource:je,setextHeading:d(P),setextHeadingLineSequence:I,setextHeadingText:x,strong:d(),thematicBreak:d()}};xN(e,(t||{}).mdastExtensions||[]);const n={};return r;function r($){let S={type:"root",children:[]};const ue={stack:[S],tokenStack:[],config:e,enter:u,exit:h,buffer:a,resume:f,setData:s,getData:o},be=[];let Ge=-1;for(;++Ge<$.length;)if($[Ge][1].type==="listOrdered"||$[Ge][1].type==="listUnordered")if($[Ge][0]==="enter")be.push(Ge);else{const Kt=be.pop();Ge=i($,Kt,Ge)}for(Ge=-1;++Ge<$.length;){const Kt=e[$[Ge][0]];EN.call(Kt,$[Ge][1].type)&&Kt[$[Ge][1].type].call(Object.assign({sliceSerialize:$[Ge][2].sliceSerialize},ue),$[Ge][1])}if(ue.tokenStack.length>0){const Kt=ue.tokenStack[ue.tokenStack.length-1];(Kt[1]||Nw).call(ue,void 0,Kt[0])}for(S.position={start:wi($.length>0?$[0][1].start:{line:1,column:1,offset:0}),end:wi($.length>0?$[$.length-2][1].end:{line:1,column:1,offset:0})},Ge=-1;++Ge<e.transforms.length;)S=e.transforms[Ge](S)||S;return S}function i($,S,ue){let be=S-1,Ge=-1,Kt=!1,ir,Gn,Br,xs;for(;++be<=ue;){const dt=$[be];if(dt[1].type==="listUnordered"||dt[1].type==="listOrdered"||dt[1].type==="blockQuote"?(dt[0]==="enter"?Ge++:Ge--,xs=void 0):dt[1].type==="lineEndingBlank"?dt[0]==="enter"&&(ir&&!xs&&!Ge&&!Br&&(Br=be),xs=void 0):dt[1].type==="linePrefix"||dt[1].type==="listItemValue"||dt[1].type==="listItemMarker"||dt[1].type==="listItemPrefix"||dt[1].type==="listItemPrefixWhitespace"||(xs=void 0),!Ge&&dt[0]==="enter"&&dt[1].type==="listItemPrefix"||Ge===-1&&dt[0]==="exit"&&(dt[1].type==="listUnordered"||dt[1].type==="listOrdered")){if(ir){let ws=be;for(Gn=void 0;ws--;){const Jn=$[ws];if(Jn[1].type==="lineEnding"||Jn[1].type==="lineEndingBlank"){if(Jn[0]==="exit")continue;Gn&&($[Gn][1].type="lineEndingBlank",Kt=!0),Jn[1].type="lineEnding",Gn=ws}else if(!(Jn[1].type==="linePrefix"||Jn[1].type==="blockQuotePrefix"||Jn[1].type==="blockQuotePrefixWhitespace"||Jn[1].type==="blockQuoteMarker"||Jn[1].type==="listItemIndent"))break}Br&&(!Gn||Br<Gn)&&(ir._spread=!0),ir.end=Object.assign({},Gn?$[Gn][1].start:dt[1].end),$.splice(Gn||be,0,["exit",ir,dt[2]]),be++,ue++}dt[1].type==="listItemPrefix"&&(ir={type:"listItem",_spread:!1,start:Object.assign({},dt[1].start),end:void 0},$.splice(be,0,["enter",ir,dt[2]]),be++,ue++,Br=void 0,xs=!0)}}return $[S][1]._spread=Kt,ue}function s($,S){n[$]=S}function o($){return n[$]}function l($,S){return ue;function ue(be){u.call(this,$(be),be),S&&S.call(this,be)}}function a(){this.stack.push({type:"fragment",children:[]})}function u($,S,ue){return this.stack[this.stack.length-1].children.push($),this.stack.push($),this.tokenStack.push([S,ue]),$.position={start:wi(S.start)},$}function d($){return S;function S(ue){$&&$.call(this,ue),h.call(this,ue)}}function h($,S){const ue=this.stack.pop(),be=this.tokenStack.pop();if(be)be[0].type!==$.type&&(S?S.call(this,$,be[0]):(be[1]||Nw).call(this,$,be[0]));else throw new Error("Cannot close `"+$.type+"` ("+ti({start:$.start,end:$.end})+"): it’s not open");return ue.position.end=wi($.end),ue}function f(){return B0(this.stack.pop())}function p(){s("expectingFirstListItemValue",!0)}function y($){if(o("expectingFirstListItemValue")){const S=this.stack[this.stack.length-2];S.start=Number.parseInt(this.sliceSerialize($),10),s("expectingFirstListItemValue")}}function w(){const $=this.resume(),S=this.stack[this.stack.length-1];S.lang=$}function C(){const $=this.resume(),S=this.stack[this.stack.length-1];S.meta=$}function _(){o("flowCodeInside")||(this.buffer(),s("flowCodeInside",!0))}function E(){const $=this.resume(),S=this.stack[this.stack.length-1];S.value=$.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),s("flowCodeInside")}function v(){const $=this.resume(),S=this.stack[this.stack.length-1];S.value=$.replace(/(\r?\n|\r)$/g,"")}function N($){const S=this.resume(),ue=this.stack[this.stack.length-1];ue.label=S,ue.identifier=rl(this.sliceSerialize($)).toLowerCase()}function L(){const $=this.resume(),S=this.stack[this.stack.length-1];S.title=$}function k(){const $=this.resume(),S=this.stack[this.stack.length-1];S.url=$}function T($){const S=this.stack[this.stack.length-1];if(!S.depth){const ue=this.sliceSerialize($).length;S.depth=ue}}function x(){s("setextHeadingSlurpLineEnding",!0)}function I($){const S=this.stack[this.stack.length-1];S.depth=this.sliceSerialize($).charCodeAt(0)===61?1:2}function P(){s("setextHeadingSlurpLineEnding")}function R($){const S=this.stack[this.stack.length-1];let ue=S.children[S.children.length-1];(!ue||ue.type!=="text")&&(ue=Re(),ue.position={start:wi($.start)},S.children.push(ue)),this.stack.push(ue)}function D($){const S=this.stack.pop();S.value+=this.sliceSerialize($),S.position.end=wi($.end)}function O($){const S=this.stack[this.stack.length-1];if(o("atHardBreak")){const ue=S.children[S.children.length-1];ue.position.end=wi($.end),s("atHardBreak");return}!o("setextHeadingSlurpLineEnding")&&e.canContainEols.includes(S.type)&&(R.call(this,$),D.call(this,$))}function ve(){s("atHardBreak",!0)}function pe(){const $=this.resume(),S=this.stack[this.stack.length-1];S.value=$}function Ne(){const $=this.resume(),S=this.stack[this.stack.length-1];S.value=$}function fe(){const $=this.resume(),S=this.stack[this.stack.length-1];S.value=$}function q(){const $=this.stack[this.stack.length-1];if(o("inReference")){const S=o("referenceType")||"shortcut";$.type+="Reference",$.referenceType=S,delete $.url,delete $.title}else delete $.identifier,delete $.label;s("referenceType")}function ae(){const $=this.stack[this.stack.length-1];if(o("inReference")){const S=o("referenceType")||"shortcut";$.type+="Reference",$.referenceType=S,delete $.url,delete $.title}else delete $.identifier,delete $.label;s("referenceType")}function F($){const S=this.sliceSerialize($),ue=this.stack[this.stack.length-2];ue.label=iN(S),ue.identifier=rl(S).toLowerCase()}function Ce(){const $=this.stack[this.stack.length-1],S=this.resume(),ue=this.stack[this.stack.length-1];if(s("inReference",!0),ue.type==="link"){const be=$.children;ue.children=be}else ue.alt=S}function we(){const $=this.resume(),S=this.stack[this.stack.length-1];S.url=$}function M(){const $=this.resume(),S=this.stack[this.stack.length-1];S.title=$}function je(){s("inReference")}function Ye(){s("referenceType","collapsed")}function Pe($){const S=this.resume(),ue=this.stack[this.stack.length-1];ue.label=S,ue.identifier=rl(this.sliceSerialize($)).toLowerCase(),s("referenceType","full")}function W($){s("characterReferenceType",$.type)}function G($){const S=this.sliceSerialize($),ue=o("characterReferenceType");let be;ue?(be=rN(S,ue==="characterReferenceMarkerNumeric"?10:16),s("characterReferenceType")):be=bu(S);const Ge=this.stack.pop();Ge.value+=be,Ge.position.end=wi($.end)}function Q($){D.call(this,$);const S=this.stack[this.stack.length-1];S.url=this.sliceSerialize($)}function Z($){D.call(this,$);const S=this.stack[this.stack.length-1];S.url="mailto:"+this.sliceSerialize($)}function te(){return{type:"blockquote",children:[]}}function Be(){return{type:"code",lang:null,meta:null,value:""}}function qe(){return{type:"inlineCode",value:""}}function et(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Nt(){return{type:"emphasis",children:[]}}function ze(){return{type:"heading",depth:void 0,children:[]}}function xe(){return{type:"break"}}function Ke(){return{type:"html",value:""}}function Fe(){return{type:"image",title:null,url:"",alt:null}}function Le(){return{type:"link",title:null,url:"",children:[]}}function St($){return{type:"list",ordered:$.type==="listOrdered",start:null,spread:$._spread,children:[]}}function ne($){return{type:"listItem",spread:$._spread,checked:null,children:[]}}function ee(){return{type:"paragraph",children:[]}}function ie(){return{type:"strong",children:[]}}function Re(){return{type:"text",value:""}}function ke(){return{type:"thematicBreak"}}}function wi(t){return{line:t.line,column:t.column,offset:t.offset}}function xN(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?xN(t,r):f8(t,r)}}function f8(t,e){let n;for(n in e)if(EN.call(e,n)){if(n==="canContainEols"){const r=e[n];r&&t[n].push(...r)}else if(n==="transforms"){const r=e[n];r&&t[n].push(...r)}else if(n==="enter"||n==="exit"){const r=e[n];r&&Object.assign(t[n],r)}}}function Nw(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+ti({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+ti({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+ti({start:e.start,end:e.end})+") is still open")}function Pw(t){return t.children instanceof Array}class i_ extends Error{constructor(e,n){super(e),this.name="MarkdownParseError",this.cause=n}}class wN extends Error{constructor(e){super(e),this.name="UnrecognizedMarkdownConstructError"}}function p8({root:t,markdown:e,visitors:n,syntaxExtensions:r,mdastExtensions:i}){var s;let o;try{o=d8(e,{extensions:r,mdastExtensions:i})}catch(l){throw l instanceof Error?new i_(`Error parsing markdown: ${l.message}`,l):new i_(`Error parsing markdown: ${l}`,l)}o.children.length===0&&o.children.push({type:"paragraph",children:[]}),((s=o.children.at(-1))==null?void 0:s.type)!=="paragraph"&&o.children.push({type:"paragraph",children:[]}),m8({root:t,mdastRoot:o,visitors:n})}function m8({root:t,mdastRoot:e,visitors:n}){const r=new WeakMap;n=n.sort((o,l)=>(l.priority??0)-(o.priority??0));function i(o,l){if(!Pw(o))throw new Error("Attempting to visit children of a non-parent");o.children.forEach(a=>s(a,l,o))}function s(o,l,a){const u=n.find(d=>typeof d.testNode=="string"?d.testNode===o.type:d.testNode(o));if(!u)throw new wN(`Unsupported markdown syntax: ${lN(o)}`);u.visitNode({mdastNode:o,lexicalParent:l,mdastParent:a,actions:{visitChildren:i,addAndStepInto(d){l.append(d),Pw(o)&&i(o,d)},addFormatting(d,h=o){r.set(h,d|(r.get(a)??0))},removeFormatting(d,h=o){r.set(h,d^(r.get(a)??0))},getParentFormatting(){return r.get(a)??0}}})}s(e,t,null)}const g8={testLexicalNode:_e.$isLineBreakNode,visitLexicalNode:({mdastParent:t,actions:e})=>{e.appendToParent(t,{type:"text",value:`
`})}},_8={testLexicalNode:_e.$isParagraphNode,visitLexicalNode:({actions:t})=>{t.addAndStepInto("paragraph")}},y8={testLexicalNode:_e.$isRootNode,visitLexicalNode:({actions:t})=>{t.addAndStepInto("root")}},Rd=1,Nd=2,il=8,Pd=16;function Dw(t){return t.type==="text"}const v8=["u","span"],E8={shouldJoin:(t,e)=>{if(["text","emphasis","strong"].includes(t.type))return t.type===e.type;if(t.type==="mdxJsxTextElement"&&e.type==="mdxJsxTextElement"&&v8.includes(e.name)){const n=e;return t.name===n.name&&JSON.stringify(t.attributes)===JSON.stringify(n.attributes)}return!1},join(t,e){return Dw(t)&&Dw(e)?{type:"text",value:t.value+e.value}:{...t,children:[...t.children,...e.children]}},testLexicalNode:_e.$isTextNode,visitLexicalNode:({lexicalNode:t,mdastParent:e,actions:n})=>{const r=t.getPreviousSibling(),i=_e.$isTextNode(r)?r.getFormat():0,s=t.getTextContent(),o=t.getFormat()??0,l=t.getStyle();if(o&Pd){n.addAndStepInto("inlineCode",{value:s});return}let a=e;l&&(a=n.appendToParent(a,{type:"mdxJsxTextElement",name:"span",children:[],attributes:[{type:"mdxJsxAttribute",name:"style",value:l}]})),i&o&Nd&&(a=n.appendToParent(a,{type:"emphasis",children:[]})),i&o&Rd&&(a=n.appendToParent(a,{type:"strong",children:[]})),i&o&il&&(a=n.appendToParent(a,{type:"mdxJsxTextElement",name:"u",children:[],attributes:[]})),o&Nd&&!(i&Nd)&&(a=n.appendToParent(a,{type:"emphasis",children:[]})),o&Rd&&!(i&Rd)&&(a=n.appendToParent(a,{type:"strong",children:[]})),o&il&&!(i&il)&&(a=n.appendToParent(a,{type:"mdxJsxTextElement",name:"u",children:[],attributes:[]})),n.appendToParent(a,{type:"text",value:s})}};function bw(t){return t.type==="html"&&t.value==="<u>"}function Ow(t){return t.type==="html"&&t.value==="</u>"}function Fw(t){return t.type==="mdxJsxTextElement"&&t.name==="u"}const x8={testNode(t){return t.type==="emphasis"||t.type==="strong"||Fw(t)||bw(t)||Ow(t)},visitNode({mdastNode:t,lexicalParent:e,actions:n,mdastParent:r}){if(bw(t)){n.addFormatting(il,r);return}if(Ow(t)){n.removeFormatting(il,r);return}t.type==="emphasis"?n.addFormatting(Nd):t.type==="strong"?n.addFormatting(Rd):Fw(t)&&n.addFormatting(il),n.visitChildren(t,e)}};function Mw(t){return t.type==="html"&&t.value==="<code>"}function Lw(t){return t.type==="html"&&t.value==="</code>"}const w8={testNode:t=>t.type==="inlineCode"||Mw(t)||Lw(t),visitNode({mdastNode:t,actions:e,mdastParent:n}){if(Mw(t)){e.addFormatting(Pd,n);return}if(Lw(t)){e.removeFormatting(Pd,n);return}e.addAndStepInto(_e.$createTextNode(t.value).setFormat(Pd))}},T8=["listitem","quote","admonition"],C8={testNode:"paragraph",visitNode:function({mdastNode:t,lexicalParent:e,actions:n}){T8.includes(e.getType())?n.visitChildren(t,e):n.addAndStepInto(_e.$createParagraphNode())}},S8={testNode:"root",visitNode({actions:t,mdastNode:e,lexicalParent:n}){t.visitChildren(e,n)}},A8={testNode:"text",visitNode({mdastNode:t,actions:e}){e.addAndStepInto(_e.$createTextNode(t.value).setFormat(e.getParentFormatting()))}},I8=()=>{const[t]=ac.useEmitterValues("historyState");return ye.createElement(kR.HistoryPlugin,{externalHistoryState:t})};function Xp(t,e){return e(t),t}function qa(){}const k8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",R8=k8&&/Mac|iPod|iPhone|iPad/.test(navigator.platform);function N8(t,e){return R8?t:e}const P8={testNode:"break",visitNode:function({lexicalParent:t}){t.append(_e.$createLineBreakNode())}};function $w(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}const D8=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],Vw={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};function TN(t){const e=typeof t=="string"?t.charCodeAt(0):t;return e>=48&&e<=57}function b8(t){const e=typeof t=="string"?t.charCodeAt(0):t;return e>=97&&e<=102||e>=65&&e<=70||e>=48&&e<=57}function O8(t){const e=typeof t=="string"?t.charCodeAt(0):t;return e>=97&&e<=122||e>=65&&e<=90}function Bw(t){return O8(t)||TN(t)}const Eo=String.fromCharCode,F8=["","Named character references must be terminated by a semicolon","Numeric character references must be terminated by a semicolon","Named character references cannot be empty","Numeric character references cannot be empty","Named character references must be known","Numeric character references cannot be disallowed","Numeric character references cannot be outside the permissible Unicode range"];function M8(t,e={}){const n=typeof e.additional=="string"?e.additional.charCodeAt(0):e.additional,r=[];let i=0,s=-1,o="",l,a;e.position&&("start"in e.position||"indent"in e.position?(a=e.position.indent,l=e.position.start):l=e.position);let u=(l?l.line:0)||1,d=(l?l.column:0)||1,h=p(),f;for(i--;++i<=t.length;)if(f===10&&(d=(a?a[s]:0)||1),f=t.charCodeAt(i),f===38){const C=t.charCodeAt(i+1);if(C===9||C===10||C===12||C===32||C===38||C===60||Number.isNaN(C)||n&&C===n){o+=Eo(f),d++;continue}const _=i+1;let E=_,v=_,N;if(C===35){v=++E;const D=t.charCodeAt(v);D===88||D===120?(N="hexadecimal",v=++E):N="decimal"}else N="named";let L="",k="",T="";const x=N==="named"?Bw:N==="decimal"?TN:b8;for(v--;++v<=t.length;){const D=t.charCodeAt(v);if(!x(D))break;T+=Eo(D),N==="named"&&D8.includes(T)&&(L=T,k=bu(T))}let I=t.charCodeAt(v)===59;if(I){v++;const D=N==="named"?bu(T):!1;D&&(L=T,k=D)}let P=1+v-_,R="";if(!(!I&&e.nonTerminated===!1))if(!T)N!=="named"&&y(4,P);else if(N==="named"){if(I&&!k)y(5,1);else if(L!==T&&(v=E+L.length,P=1+v-E,I=!1),!I){const D=L?1:3;if(e.attribute){const O=t.charCodeAt(v);O===61?(y(D,P),k=""):Bw(O)?k="":y(D,P)}else y(D,P)}R=k}else{I||y(2,P);let D=Number.parseInt(T,N==="hexadecimal"?16:10);if(L8(D))y(7,P),R=Eo(65533);else if(D in Vw)y(6,P),R=Vw[D];else{let O="";$8(D)&&y(6,P),D>65535&&(D-=65536,O+=Eo(D>>>10|55296),D=56320|D&1023),R=O+Eo(D)}}if(R){w(),h=p(),i=v-1,d+=v-_+1,r.push(R);const D=p();D.offset++,e.reference&&e.reference.call(e.referenceContext,R,{start:h,end:D},t.slice(_-1,v)),h=D}else T=t.slice(_-1,v),o+=T,d+=T.length,i=v-1}else f===10&&(u++,s++,d=0),Number.isNaN(f)?w():(o+=Eo(f),d++);return r.join("");function p(){return{line:u,column:d,offset:i+((l?l.offset:0)||0)}}function y(C,_){let E;e.warning&&(E=p(),E.column+=_,E.offset+=_,e.warning.call(e.warningContext,F8[C],E,C))}function w(){o&&(r.push(o),e.text&&e.text.call(e.textContext,o,{start:h,end:p()}),o="")}}function L8(t){return t>=55296&&t<=57343||t>1114111}function $8(t){return t>=1&&t<=8||t===11||t>=13&&t<=31||t>=127&&t<=159||t>=64976&&t<=65007||(t&65535)===65535||(t&65535)===65534}class nt extends Error{constructor(e,n,r){const i=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const o=r.indexOf(":");o===-1?i[1]=r:(i[0]=r.slice(0,o),i[1]=r.slice(o+1))}n&&("type"in n||"position"in n?n.position&&(s=n.position):"start"in n||"end"in n?s=n:("line"in n||"column"in n)&&(s.start=n)),this.name=ti(n)||"1:1",this.message=typeof e=="object"?e.message:e,this.stack="",typeof e=="object"&&e.stack&&(this.stack=e.stack),this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.position=s,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}}nt.prototype.file="";nt.prototype.name="";nt.prototype.reason="";nt.prototype.message="";nt.prototype.stack="";nt.prototype.fatal=null;nt.prototype.column=null;nt.prototype.line=null;nt.prototype.source=null;nt.prototype.ruleId=null;nt.prototype.position=null;const V8=/["&'<>`]/g,B8=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,U8=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,j8=/[|\\{}()[\]^$+*?.]/g,Uw=new WeakMap;function z8(t,e){if(t=t.replace(e.subset?W8(e.subset):V8,r),e.subset||e.escapeOnly)return t;return t.replace(B8,n).replace(U8,r);function n(i,s,o){return e.format((i.charCodeAt(0)-55296)*1024+i.charCodeAt(1)-56320+65536,o.charCodeAt(s+2),e)}function r(i,s,o){return e.format(i.charCodeAt(0),o.charCodeAt(s+1),e)}}function W8(t){let e=Uw.get(t);return e||(e=H8(t),Uw.set(t,e)),e}function H8(t){const e=[];let n=-1;for(;++n<t.length;)e.push(t[n].replace(j8,"\\$&"));return new RegExp("(?:"+e.join("|")+")","g")}function K8(t){return"&#x"+t.toString(16).toUpperCase()+";"}function q8(t,e){return z8(t,Object.assign({format:K8},e))}const CN="  ";function G8(){return{canContainEols:["mdxJsxTextElement"],enter:{mdxJsxFlowTag:n,mdxJsxFlowTagClosingMarker:r,mdxJsxFlowTagAttribute:d,mdxJsxFlowTagExpressionAttribute:h,mdxJsxFlowTagAttributeValueLiteral:t,mdxJsxFlowTagAttributeValueExpression:t,mdxJsxFlowTagSelfClosingMarker:s,mdxJsxTextTag:n,mdxJsxTextTagClosingMarker:r,mdxJsxTextTagAttribute:d,mdxJsxTextTagExpressionAttribute:h,mdxJsxTextTagAttributeValueLiteral:t,mdxJsxTextTagAttributeValueExpression:t,mdxJsxTextTagSelfClosingMarker:s},exit:{mdxJsxFlowTagClosingMarker:o,mdxJsxFlowTagNamePrimary:l,mdxJsxFlowTagNameMember:a,mdxJsxFlowTagNameLocal:u,mdxJsxFlowTagExpressionAttribute:f,mdxJsxFlowTagExpressionAttributeValue:e,mdxJsxFlowTagAttributeNamePrimary:p,mdxJsxFlowTagAttributeNameLocal:y,mdxJsxFlowTagAttributeValueLiteral:w,mdxJsxFlowTagAttributeValueLiteralValue:e,mdxJsxFlowTagAttributeValueExpression:C,mdxJsxFlowTagAttributeValueExpressionValue:e,mdxJsxFlowTagSelfClosingMarker:_,mdxJsxFlowTag:E,mdxJsxTextTagClosingMarker:o,mdxJsxTextTagNamePrimary:l,mdxJsxTextTagNameMember:a,mdxJsxTextTagNameLocal:u,mdxJsxTextTagExpressionAttribute:f,mdxJsxTextTagExpressionAttributeValue:e,mdxJsxTextTagAttributeNamePrimary:p,mdxJsxTextTagAttributeNameLocal:y,mdxJsxTextTagAttributeValueLiteral:w,mdxJsxTextTagAttributeValueLiteralValue:e,mdxJsxTextTagAttributeValueExpression:C,mdxJsxTextTagAttributeValueExpressionValue:e,mdxJsxTextTagSelfClosingMarker:_,mdxJsxTextTag:E}};function t(){this.buffer()}function e(k){this.config.enter.data.call(this,k),this.config.exit.data.call(this,k)}function n(k){const T={name:void 0,attributes:[],close:!1,selfClosing:!1,start:k.start,end:k.end};this.getData("mdxJsxTagStack")||this.setData("mdxJsxTagStack",[]),this.setData("mdxJsxTag",T),this.buffer()}function r(k){if(this.getData("mdxJsxTagStack").length===0)throw new nt("Unexpected closing slash `/` in tag, expected an open tag first",{start:k.start,end:k.end},"mdast-util-mdx-jsx:unexpected-closing-slash")}function i(k){if(this.getData("mdxJsxTag").close)throw new nt("Unexpected attribute in closing tag, expected the end of the tag",{start:k.start,end:k.end},"mdast-util-mdx-jsx:unexpected-attribute")}function s(k){if(this.getData("mdxJsxTag").close)throw new nt("Unexpected self-closing slash `/` in closing tag, expected the end of the tag",{start:k.start,end:k.end},"mdast-util-mdx-jsx:unexpected-self-closing-slash")}function o(){const k=this.getData("mdxJsxTag");k.close=!0}function l(k){const T=this.getData("mdxJsxTag");T.name=this.sliceSerialize(k)}function a(k){const T=this.getData("mdxJsxTag");T.name+="."+this.sliceSerialize(k)}function u(k){const T=this.getData("mdxJsxTag");T.name+=":"+this.sliceSerialize(k)}function d(k){const T=this.getData("mdxJsxTag");i.call(this,k),T.attributes.push({type:"mdxJsxAttribute",name:"",value:null})}function h(k){const T=this.getData("mdxJsxTag");i.call(this,k),T.attributes.push({type:"mdxJsxExpressionAttribute",value:""}),this.buffer()}function f(k){const T=this.getData("mdxJsxTag"),x=T.attributes[T.attributes.length-1],I=k.estree;x.value=this.resume(),I&&(x.data={estree:I})}function p(k){const T=this.getData("mdxJsxTag"),x=T.attributes[T.attributes.length-1];x.name=this.sliceSerialize(k)}function y(k){const T=this.getData("mdxJsxTag"),x=T.attributes[T.attributes.length-1];x.name+=":"+this.sliceSerialize(k)}function w(){const k=this.getData("mdxJsxTag");k.attributes[k.attributes.length-1].value=M8(this.resume(),{nonTerminated:!1})}function C(k){const T=this.getData("mdxJsxTag"),x=T.attributes[T.attributes.length-1],I={type:"mdxJsxAttributeValueExpression",value:this.resume()},P=k.estree;P&&(I.data={estree:P}),x.value=I}function _(){const k=this.getData("mdxJsxTag");k.selfClosing=!0}function E(k){const T=this.getData("mdxJsxTag"),x=this.getData("mdxJsxTagStack"),I=x[x.length-1];if(T.close&&I.name!==T.name)throw new nt("Unexpected closing tag `"+L(T)+"`, expected corresponding closing tag for `"+L(I)+"` ("+ti(I)+")",{start:k.start,end:k.end},"mdast-util-mdx-jsx:end-tag-mismatch");this.resume(),T.close?x.pop():this.enter({type:k.type==="mdxJsxTextTag"?"mdxJsxTextElement":"mdxJsxFlowElement",name:T.name||null,attributes:T.attributes,children:[]},k,v),T.selfClosing||T.close?this.exit(k,N):x.push(T)}function v(k,T){const x=this.getData("mdxJsxTag"),I=k?" before the end of `"+k.type+"`":"",P=k?{start:k.start,end:k.end}:void 0;throw new nt("Expected a closing tag for `"+L(x)+"` ("+ti({start:T.start,end:T.end})+")"+I,P,"mdast-util-mdx-jsx:end-tag-mismatch")}function N(k,T){const x=this.getData("mdxJsxTag");throw new nt("Expected the closing tag `"+L(x)+"` either after the end of `"+T.type+"` ("+ti(T.end)+") or another opening tag after the start of `"+T.type+"` ("+ti(T.start)+")",{start:k.start,end:k.end},"mdast-util-mdx-jsx:end-tag-mismatch")}function L(k){return"<"+(k.close?"/":"")+(k.name||"")+">"}}function J8(t){const e={},n=e.quote||'"',r=e.quoteSmart||!1,i=e.tightSelfClosing||!1,s=e.printWidth||Number.POSITIVE_INFINITY,o=n==='"'?"'":'"';if(n!=='"'&&n!=="'")throw new Error("Cannot serialize attribute values with `"+n+"` for `options.quote`, expected `\"`, or `'`");return l.peek=Y8,{handlers:{mdxJsxFlowElement:l,mdxJsxTextElement:l},unsafe:[{character:"<",inConstruct:["phrasing"]},{atBreak:!0,character:"<"}],fences:!0,resourceLink:!0};function l(a,u,d,h){const f=a.type==="mdxJsxFlowElement",p=a.name?!a.children||a.children.length===0:!1,y=SN(d),w=AN(y),C=Zg(h),_=Zg(h),E=[],v=(f?w:"")+"<"+(a.name||""),N=d.enter(a.type);if(C.move(v),_.move(v),a.attributes&&a.attributes.length>0){if(!a.name)throw new Error("Cannot serialize fragment w/ attributes");let I=-1;for(;++I<a.attributes.length;){const P=a.attributes[I];let R;if(P.type==="mdxJsxExpressionAttribute")R="{"+(P.value||"")+"}";else{if(!P.name)throw new Error("Cannot serialize attribute w/o name");const D=P.value,O=P.name;let ve="";if(D!=null)if(typeof D=="object")ve="{"+(D.value||"")+"}";else{const pe=r&&$w(D,n)>$w(D,o)?o:n;ve=pe+q8(D,{subset:[pe]})+pe}R=O+(ve?"=":"")+ve}E.push(R)}}let L=!1;const k=E.join(" ");f&&(/\r?\n|\r/.test(k)||C.current().now.column+k.length+(p?i?2:3:1)>s)&&(L=!0);let T=C,x=v;if(L){T=_;let I=-1;for(;++I<E.length;)E[I]=w+CN+E[I];x+=T.move(`
`+E.join(`
`)+`
`+w)}else k&&(x+=T.move(" "+k));return p&&(x+=T.move((i||L?"":" ")+"/")),x+=T.move(">"),a.children&&a.children.length>0&&(a.type==="mdxJsxTextElement"?x+=T.move(sN(a,d,{...T.current(),before:">",after:"<"})):(T.shift(2),x+=T.move(`
`),x+=T.move(Q8(a,d,T.current())),x+=T.move(`
`))),p||(x+=T.move((f?w:"")+"</"+(a.name||"")+">")),N(),x}}function Q8(t,e,n){const r=e.indexStack,i=t.children,s=e.createTracker(n),o=AN(SN(e)),l=[];let a=-1;for(r.push(-1);++a<i.length;){const u=i[a];r[r.length-1]=a;const d={before:`
`,after:`
`,...s.current()},h=e.handle(u,t,e,d),f=u.type==="mdxJsxFlowElement"?h:oN(h,function(p,y,w){return(w?"":o)+p});l.push(s.move(f)),u.type!=="list"&&(e.bulletLastUsed=void 0),a<i.length-1&&l.push(s.move(`

`))}return r.pop(),l.join("")}function SN(t){let e=0;for(const n of t.stack)n==="mdxJsxFlowElement"&&e++;return e}function AN(t){return CN.repeat(t)}function Y8(){return"<"}const IN=/[$A-Z_a-z\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,X8=/[\d\u00B7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u200C\u200D\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F]/;function lr(t){return IN.test(String.fromCharCode(t))}function ca(t){const e=String.fromCharCode(t);return IN.test(e)||X8.test(e)}const Z8={}.hasOwnProperty,ez=Symbol("continue"),Zp=Symbol("exit"),tz=Symbol("skip");function nz(t,e){let n,r;typeof e=="function"?n=e:e&&typeof e=="object"&&(e.enter&&(n=e.enter),e.leave&&(r=e.leave)),i(t,null,null,[])();function i(s,o,l,a){return em(s)&&(u.displayName="node ("+s.type+")"),u;function u(){const d=n?jw(n(s,o,l,a)):[];if(d[0]===Zp)return d;if(d[0]!==tz){let h;for(h in s)if(Z8.call(s,h)&&s[h]&&typeof s[h]=="object"&&h!=="data"&&h!=="position"){const f=a.concat(s),p=s[h];if(Array.isArray(p)){const y=p;let w=0;for(;w>-1&&w<y.length;){const C=y[w];if(em(C)){const _=i(C,h,w,f)();if(_[0]===Zp)return _;w=typeof _[1]=="number"?_[1]:w+1}else w++}}else if(em(p)){const y=i(p,h,null,f)();if(y[0]===Zp)return y}}}return r?jw(r(s,o,l,a)):d}}}function jw(t){return Array.isArray(t)?t:typeof t=="number"?[ez,t]:[t]}function em(t){return!!(t&&typeof t=="object"&&"type"in t&&typeof t.type=="string"&&t.type.length>0)}function rz(t,e){const n=e.prefix||"",r=e.suffix||"",i=Object.assign({},e.acornOptions),s=[],o=[],l=i.onComment,a=i.onToken;let u=!1,d,h;const f=Object.assign({},i,{onComment:s,preserveParens:!0});a&&(f.onToken=o);const p=iz(t,["lineEnding","expressionChunk","mdxFlowExpressionChunk","mdxTextExpressionChunk","mdxJsxTextTagExpressionAttributeValue","mdxJsxTextTagAttributeValueExpressionValue","mdxJsxFlowTagExpressionAttributeValue","mdxJsxFlowTagAttributeValueExpressionValue","mdxjsEsmData"]),y=p.value,w=n+y+r,C=zw(y);if(C&&!e.allowEmpty)throw new nt("Unexpected empty expression",E(0),"micromark-extension-mdx-expression:unexpected-empty-expression");try{d=e.expression&&!C?e.acorn.parseExpressionAt(w,0,f):e.acorn.parse(w,f)}catch(v){const N=v,L=E(N.pos);N.message=String(N.message).replace(/ \(\d+:\d+\)$/,""),N.pos=L.offset,N.loc={line:L.line,column:L.column-1},h=N,u=N.raisedAt>=n.length+y.length||N.message==="Unterminated comment"}if(d&&e.expression&&!C)if(zw(w.slice(d.end,w.length-r.length)))d={type:"Program",start:0,end:n.length+y.length,body:[{type:"ExpressionStatement",expression:d,start:0,end:n.length+y.length}],sourceType:"module",comments:[]};else{const v=E(d.end),N=new Error("Unexpected content after expression");N.pos=v.offset,N.loc={line:v.line,column:v.column-1},h=N,d=void 0}if(d){if(d.comments=s,nz(d,(v,N,L,k)=>{let T=k[k.length-1],x=N;v.type==="ParenthesizedExpression"&&T&&x&&(typeof L=="number"&&(T=T[x],x=L),T[x]=v.expression),_(v)}),Array.isArray(l))l.push(...s);else if(typeof l=="function")for(const v of s)l(v.type==="Block",v.value,v.start,v.end,v.loc.start,v.loc.end);for(const v of o)v.end<=n.length||v.start-n.length>=y.length||(_(v),Array.isArray(a)?a.push(v):a(v))}return{estree:d,error:h,swallow:u};function _(v){const N=E(v.start),L=E(v.end);v.start=N.offset,v.end=L.offset,v.loc={start:{line:N.line,column:N.column-1,offset:N.offset},end:{line:L.line,column:L.column-1,offset:L.offset}},v.range=[v.start,v.end]}function E(v){let N=v-n.length;N<0?N=0:N>y.length&&(N=y.length);let L=sz(p.stops,N);return L||(L={line:e.start.line,column:e.start.column,offset:e.start.offset}),L}}function zw(t){return/^\s*$/.test(t.replace(/\/\*[\s\S]*?\*\//g,"").replace(/\/\/[^\r\n]*(\r\n|\n|\r)/g,""))}function iz(t,e){const n={value:"",stops:[]};let r=-1;for(;++r<t.length;){const i=t[r];if(i[0]==="enter"&&e.includes(i[1].type)){const s=i[2].sliceStream(i[1]);for(;s.length>0&&s[0]===-1;)s.shift();const o=oz(s);n.stops.push([n.value.length,i[1].start]),n.value+=o,n.stops.push([n.value.length,i[1].end])}}return n}function sz(t,e){let n=0;for(;n<t.length&&t[n][0]<=e;)n+=1;if(n===0)return;const[r,i]=t[n-1],s=e-r;return{line:i.line,column:i.column+s,offset:i.offset+s}}function oz(t){let e=-1;const n=[];let r;for(;++e<t.length;){const i=t[e];let s;if(typeof i=="string")s=i;else switch(i){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s="	";break}case-1:{if(r)continue;s=" ";break}default:s=String.fromCharCode(i)}r=i===-2,n.push(s)}return n.join("")}function tm(t){const e=t||{},n=e.loc||{},r=e.range||[0,0],i=n.start?xo(n.start.column):void 0,s=n.end?xo(n.end.column):void 0;return{start:{line:n.start?xo(n.start.line):void 0,column:i===void 0?void 0:i+1,offset:xo(r[0]||e.start)},end:{line:n.end?xo(n.end.line):void 0,column:s===void 0?void 0:s+1,offset:xo(r[1]||e.end)}}}function xo(t){return typeof t=="number"&&t>-1?t:void 0}function Ww(t,e,n,r,i,s,o,l,a,u,d){const h=this,f=this.events.length+3;let p=0,y,w;return C;function C(N){return t.enter(n),t.enter(r),t.consume(N),t.exit(r),y=h.now(),_}function _(N){if(N===null)throw w||new nt("Unexpected end of file in expression, expected a corresponding closing brace for `{`",h.now(),"micromark-extension-mdx-expression:unexpected-eof");if(me(N))return t.enter("lineEnding"),t.consume(N),t.exit("lineEnding"),v;if(N===125&&p===0){const L=s?lz.call(h,s,o,f,y,u||!1,a||!1):{type:"ok",estree:void 0};if(L.type==="ok"){t.enter(r),t.consume(N),t.exit(r);const k=t.exit(n);return l&&L.estree&&Object.assign(k,{estree:L.estree}),e}return w=L.message,t.enter(i),t.consume(N),E}return t.enter(i),E(N)}function E(N){return N===125&&p===0||N===null||me(N)?(t.exit(i),_(N)):(N===123&&!s?p+=1:N===125&&(p-=1),t.consume(N),E)}function v(N){const L=h.now();if(L.line!==y.line&&!d&&h.parser.lazy[L.line])throw new nt("Unexpected end of file in expression, expected a corresponding closing brace for `{`",h.now(),"micromark-extension-mdx-expression:unexpected-eof");return _(N)}}function lz(t,e,n,r,i,s){const o=rz(this.events.slice(n),{acorn:t,acornOptions:e,start:r,expression:!0,allowEmpty:i,prefix:s?"({":"",suffix:s?"})":""}),l=o.estree;if(s&&l){const a=l.body[0];if(a.type!=="ExpressionStatement"||a.expression.type!=="ObjectExpression")throw new nt("Unexpected `"+a.type+"` in code: expected an object spread (`{...spread}`)",tm(a).start,"micromark-extension-mdx-expression:non-spread");if(a.expression.properties[1])throw new nt("Unexpected extra content in spread: only a single spread is supported",tm(a.expression.properties[1]).start,"micromark-extension-mdx-expression:spread-extra");if(a.expression.properties[0]&&a.expression.properties[0].type!=="SpreadElement")throw new nt("Unexpected `"+a.expression.properties[0].type+"` in code: only spread elements are supported",tm(a.expression.properties[0]).start,"micromark-extension-mdx-expression:non-spread")}return o.error?{type:"nok",message:new nt("Could not parse expression with acorn: "+o.error.message,{line:o.error.loc.line,column:o.error.loc.column+1,offset:o.error.pos},"micromark-extension-mdx-expression:acorn")}:{type:"ok",estree:l}}function kN(t,e,n,r,i,s,o,l,a,u,d,h,f,p,y,w,C,_,E,v,N,L,k,T,x,I,P,R,D,O,ve,pe){const Ne=this;let fe,q;return ae;function ae(S){return t.enter(l),t.enter(a),t.consume(S),t.exit(a),F}function F(S){return It(S)?n(S):(fe=Ce,ie(S))}function Ce(S){if(S===47)return t.enter(u),t.consume(S),t.exit(u),fe=we,ie;if(S===62)return ee(S);if(S!==null&&lr(S))return t.enter(h),t.enter(f),t.consume(S),M;$(S,"before name","a character that can start a name, such as a letter, `$`, or `_`"+(S===33?" (note: to create a comment in MDX, use `{/* text */}`)":""))}function we(S){if(S===62)return ee(S);if(S!==null&&lr(S))return t.enter(h),t.enter(f),t.consume(S),M;$(S,"before name","a character that can start a name, such as a letter, `$`, or `_`"+(S===42||S===47?" (note: JS comments in JSX tags are not supported in MDX)":""))}function M(S){if(S===45||S!==null&&ca(S))return t.consume(S),M;if(S===46||S===47||S===58||S===62||S===123||It(S)||Hr(S))return t.exit(f),fe=je,ie(S);$(S,"in name","a name character such as letters, digits, `$`, or `_`; whitespace before attributes; or the end of the tag"+(S===64?" (note: to create a link in MDX, use `[text](url)`)":""))}function je(S){if(S===46)return t.enter(p),t.consume(S),t.exit(p),fe=Ye,ie;if(S===58)return t.enter(w),t.consume(S),t.exit(w),fe=G,ie;if(S===47||S===62||S===123||S!==null&&lr(S))return t.exit(h),te(S);$(S,"after name","a character that can start an attribute name, such as a letter, `$`, or `_`; whitespace before attributes; or the end of the tag")}function Ye(S){if(S!==null&&lr(S))return t.enter(y),t.consume(S),Pe;$(S,"before member name","a character that can start an attribute name, such as a letter, `$`, or `_`; whitespace before attributes; or the end of the tag")}function Pe(S){if(S===45||S!==null&&ca(S))return t.consume(S),Pe;if(S===46||S===47||S===62||S===123||It(S)||Hr(S))return t.exit(y),fe=W,ie(S);$(S,"in member name","a name character such as letters, digits, `$`, or `_`; whitespace before attributes; or the end of the tag"+(S===64?" (note: to create a link in MDX, use `[text](url)`)":""))}function W(S){if(S===46)return t.enter(p),t.consume(S),t.exit(p),fe=Ye,ie;if(S===47||S===62||S===123||S!==null&&lr(S))return t.exit(h),te(S);$(S,"after member name","a character that can start an attribute name, such as a letter, `$`, or `_`; whitespace before attributes; or the end of the tag")}function G(S){if(S!==null&&lr(S))return t.enter(C),t.consume(S),Q;$(S,"before local name","a character that can start a name, such as a letter, `$`, or `_`"+(S===43||S!==null&&S>46&&S<58?" (note: to create a link in MDX, use `[text](url)`)":""))}function Q(S){if(S===45||S!==null&&ca(S))return t.consume(S),Q;if(S===47||S===62||S===123||It(S)||Hr(S))return t.exit(C),fe=Z,ie(S);$(S,"in local name","a name character such as letters, digits, `$`, or `_`; whitespace before attributes; or the end of the tag")}function Z(S){if(S===47||S===62||S===123||S!==null&&lr(S))return t.exit(h),te(S);$(S,"after local name","a character that can start an attribute name, such as a letter, `$`, or `_`; whitespace before attributes; or the end of the tag")}function te(S){if(S===47)return t.enter(d),t.consume(S),t.exit(d),fe=ne,ie;if(S===62)return ee(S);if(S===123)return Ww.call(Ne,t,Be,_,E,v,r,i,s,!0,!1,o)(S);if(S!==null&&lr(S))return t.enter(N),t.enter(L),t.enter(k),t.consume(S),qe;$(S,"before attribute name","a character that can start an attribute name, such as a letter, `$`, or `_`; whitespace before attributes; or the end of the tag")}function Be(S){return fe=te,ie(S)}function qe(S){if(S===45||S!==null&&ca(S))return t.consume(S),qe;if(S===47||S===58||S===61||S===62||S===123||It(S)||Hr(S))return t.exit(k),fe=et,ie(S);$(S,"in attribute name","an attribute name character such as letters, digits, `$`, or `_`; `=` to initialize a value; whitespace before attributes; or the end of the tag")}function et(S){if(S===58)return t.enter(T),t.consume(S),t.exit(T),fe=Nt,ie;if(S===61)return t.exit(L),t.enter(I),t.consume(S),t.exit(I),fe=Ke,ie;if(S===47||S===62||S===123||It(S)||Hr(S)||S!==null&&lr(S))return t.exit(L),t.exit(N),fe=te,ie(S);$(S,"after attribute name","a character that can start an attribute name, such as a letter, `$`, or `_`; `=` to initialize a value; or the end of the tag")}function Nt(S){if(S!==null&&lr(S))return t.enter(x),t.consume(S),ze;$(S,"before local attribute name","a character that can start an attribute name, such as a letter, `$`, or `_`; `=` to initialize a value; or the end of the tag")}function ze(S){if(S===45||S!==null&&ca(S))return t.consume(S),ze;if(S===47||S===61||S===62||S===123||It(S)||Hr(S))return t.exit(x),t.exit(L),fe=xe,ie(S);$(S,"in local attribute name","an attribute name character such as letters, digits, `$`, or `_`; `=` to initialize a value; whitespace before attributes; or the end of the tag")}function xe(S){if(S===61)return t.enter(I),t.consume(S),t.exit(I),fe=Ke,ie;if(S===47||S===62||S===123||S!==null&&lr(S))return t.exit(N),te(S);$(S,"after local attribute name","a character that can start an attribute name, such as a letter, `$`, or `_`; `=` to initialize a value; or the end of the tag")}function Ke(S){if(S===34||S===39)return t.enter(P),t.enter(R),t.consume(S),t.exit(R),q=S,Le;if(S===123)return Ww.call(Ne,t,Fe,O,ve,pe,r,i,s,!1,!1,o)(S);$(S,"before attribute value","a character that can start an attribute value, such as `\"`, `'`, or `{`"+(S===60?" (note: to use an element or fragment as a prop value in MDX, use `{<element />}`)":""))}function Fe(S){return t.exit(N),fe=te,ie(S)}function Le(S){return S===null&&$(S,"in attribute value","a corresponding closing quote `"+String.fromCodePoint(q)+"`"),S===q?(t.enter(R),t.consume(S),t.exit(R),t.exit(P),t.exit(N),q=void 0,fe=te,ie):me(S)?(fe=Le,ie(S)):(t.enter(D),St(S))}function St(S){return S===null||S===q||me(S)?(t.exit(D),Le(S)):(t.consume(S),St)}function ne(S){if(S===62)return ee(S);$(S,"after self-closing slash","`>` to end the tag"+(S===42||S===47?" (note: JS comments in JSX tags are not supported in MDX)":""))}function ee(S){return t.enter(a),t.consume(S),t.exit(a),t.exit(l),e}function ie(S){return me(S)?(t.enter("lineEnding"),t.consume(S),t.exit("lineEnding"),ke):Ve(S)||Hr(S)?(t.enter("esWhitespace"),Re(S)):fe(S)}function Re(S){return me(S)?(t.exit("esWhitespace"),ie(S)):Ve(S)||Hr(S)?(t.consume(S),Re):(t.exit("esWhitespace"),fe(S))}function ke(S){if(!o&&Ne.parser.lazy[Ne.now().line])throw new nt("Unexpected lazy line in container, expected line to be prefixed with `>` when in a block quote, whitespace when in a list, etc",Ne.now(),"micromark-extension-mdx-jsx:unexpected-eof");return ie(S)}function $(S,ue,be){throw new nt("Unexpected "+(S===null?"end of file":"character `"+(S===96?"` ` `":String.fromCodePoint(S))+"` ("+az(S)+")")+" "+ue+", expected "+be,Ne.now(),"micromark-extension-mdx-jsx:unexpected-"+(S===null?"eof":"character"))}}function az(t){return"U+"+t.toString(16).toUpperCase().padStart(4,"0")}function uz(t,e,n){return{tokenize:r};function r(i,s,o){return kN.call(this,i,s,o,t,e,n,!0,"mdxJsxTextTag","mdxJsxTextTagMarker","mdxJsxTextTagClosingMarker","mdxJsxTextTagSelfClosingMarker","mdxJsxTextTagName","mdxJsxTextTagNamePrimary","mdxJsxTextTagNameMemberMarker","mdxJsxTextTagNameMember","mdxJsxTextTagNamePrefixMarker","mdxJsxTextTagNameLocal","mdxJsxTextTagExpressionAttribute","mdxJsxTextTagExpressionAttributeMarker","mdxJsxTextTagExpressionAttributeValue","mdxJsxTextTagAttribute","mdxJsxTextTagAttributeName","mdxJsxTextTagAttributeNamePrimary","mdxJsxTextTagAttributeNamePrefixMarker","mdxJsxTextTagAttributeNameLocal","mdxJsxTextTagAttributeInitializerMarker","mdxJsxTextTagAttributeValueLiteral","mdxJsxTextTagAttributeValueLiteralMarker","mdxJsxTextTagAttributeValueLiteralValue","mdxJsxTextTagAttributeValueExpression","mdxJsxTextTagAttributeValueExpressionMarker","mdxJsxTextTagAttributeValueExpressionValue")}}function cz(t,e,n){return{tokenize:r,concrete:!0};function r(i,s,o){const l=this;return a;function a(f){return u(f)}function u(f){return kN.call(l,i,d,o,t,e,n,!1,"mdxJsxFlowTag","mdxJsxFlowTagMarker","mdxJsxFlowTagClosingMarker","mdxJsxFlowTagSelfClosingMarker","mdxJsxFlowTagName","mdxJsxFlowTagNamePrimary","mdxJsxFlowTagNameMemberMarker","mdxJsxFlowTagNameMember","mdxJsxFlowTagNamePrefixMarker","mdxJsxFlowTagNameLocal","mdxJsxFlowTagExpressionAttribute","mdxJsxFlowTagExpressionAttributeMarker","mdxJsxFlowTagExpressionAttributeValue","mdxJsxFlowTagAttribute","mdxJsxFlowTagAttributeName","mdxJsxFlowTagAttributeNamePrimary","mdxJsxFlowTagAttributeNamePrefixMarker","mdxJsxFlowTagAttributeNameLocal","mdxJsxFlowTagAttributeInitializerMarker","mdxJsxFlowTagAttributeValueLiteral","mdxJsxFlowTagAttributeValueLiteralMarker","mdxJsxFlowTagAttributeValueLiteralValue","mdxJsxFlowTagAttributeValueExpression","mdxJsxFlowTagAttributeValueExpressionMarker","mdxJsxFlowTagAttributeValueExpressionValue")(f)}function d(f){return Ve(f)?Ze(i,h,"whitespace")(f):h(f)}function h(f){return f===60?a(f):f===null||me(f)?s(f):o(f)}}}function dz(t){const e={},n=e.acorn;let r;if(n){if(!n.parse||!n.parseExpressionAt)throw new Error("Expected a proper `acorn` instance passed in as `options.acorn`");r=Object.assign({ecmaVersion:2020,sourceType:"module"},e.acornOptions,{locations:!0})}else if(e.acornOptions||e.addResult)throw new Error("Expected an `acorn` instance passed in as `options.acorn`");return{flow:{60:cz(n||void 0,r,e.addResult||!1)},text:{60:uz(n||void 0,r,e.addResult||!1)}}}var hz=Object.defineProperty,fz=(t,e,n)=>e in t?hz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nm=(t,e,n)=>(fz(t,typeof e!="symbol"?e+"":e,n),n);const Hw="generic-html";class lc extends _e.ElementNode{constructor(e,n,r,i){super(i),nm(this,"__tag"),nm(this,"__nodeType"),nm(this,"__attributes"),this.__tag=e,this.__nodeType=n,this.__attributes=r}static getType(){return Hw}static clone(e){return new lc(e.__tag,e.__nodeType,e.__attributes,e.__key)}getTag(){return this.__tag}getNodeType(){return this.__nodeType}getAttributes(){return this.__attributes}updateAttributes(e){const n=this.getWritable();n.__attributes=e}getStyle(){var e;return(e=this.__attributes.find(n=>n.name==="style"))==null?void 0:e.value}createDOM(){const e=this.__tag,n=document.createElement(e);return this.__attributes.forEach(r=>{n.setAttribute(r.name,r.value)}),n}updateDOM(){return!1}static importDOM(){return{}}exportDOM(e){const{element:n}=super.exportDOM(e);return{element:n}}static importJSON(e){const n=RN(e.tag,e.mdxType,e.attributes);return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}exportJSON(){return{...super.exportJSON(),tag:this.getTag(),attributes:this.__attributes,mdxType:this.__nodeType,type:Hw,version:1}}extractWithChild(){return!0}isInline(){return this.__nodeType==="mdxJsxTextElement"}}function RN(t,e,n){return _e.$applyNodeReplacement(new lc(t,e,n))}function pz(t){return t instanceof lc}const mz={testNode:aN,visitNode:function({mdastNode:t,actions:e}){e.addAndStepInto(RN(t.name,t.type,t.attributes))},priority:-100},gz={testLexicalNode:pz,visitLexicalNode({actions:t,lexicalNode:e}){t.addAndStepInto("mdxJsxTextElement",{name:e.getTag(),type:e.getNodeType(),attributes:e.getAttributes()})},priority:-100};function NN(){const t=[...Array(256).keys()].map(n=>n.toString(16).padStart(2,"0")),e=crypto.getRandomValues(new Uint8Array(16));return e[6]=e[6]&15|64,e[8]=e[8]&63|128,[...e.entries()].map(([n,r])=>[4,6,8,10].includes(n)?`-${t[r]}`:t[r]).join("")}var _z=Object.defineProperty,yz=(t,e,n)=>e in t?_z(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,PN=(t,e,n)=>(yz(t,e+"",n),n);function vz(t,e){return t===e}class Zc{constructor(){PN(this,"map",new Map)}getOrCreate(e){let n=this.map.get(e);return n||(n=new Set,this.map.set(e,n)),n}get(e){return this.map.get(e)}use(e,n){const r=this.get(e);r!==void 0&&n(r)}delete(e){return this.map.delete(e)}}class W0{constructor(e=new Map){PN(this,"map"),this.map=e}clone(){return new W0(new Map(this.map))}increment(e){const n=this.map.get(e)??0;this.map.set(e,n+1)}decrement(e,n){let r=this.map.get(e);r!==void 0&&(r-=1,this.map.set(e,r),r===0&&n())}}const da=Symbol("NO_VALUE");function Ez(){const t=new Zc,e=new Map,n=new Zc,r=new Map,i=new Map,s={};function o(W=da,G=!1){const Q=NN();return W!==da&&r.set(Q,W),G!==!1&&i.set(Q,G===!0?vz:G),{key:Q,toString:()=>Q}}function l({key:W},G){const Q=t.getOrCreate(W);return Q.add(G),()=>Q.delete(G)}function a({key:W},G){return G?e.set(W,G):e.delete(W),()=>e.delete(W)}function u(W,G){return a(s[W],G)}function d(){e.clear()}function h(W,G){const Q=o();return _({map:Z=>(...te)=>{Z(te)},sink:Q,sources:W}),l(Q,G)}function f(...W){const[G]=W.slice(-1),Q=W.slice(0,-1);return Q.length===1?l(Q[0],G):h(Q,G)}function p(W){const G=[],Q=new Set,Z=new Zc,te=new W0,Be=new Zc;function qe(et,Nt=0){te.increment(et),!Q.has(et)&&(Z.use(et,ze=>{Nt=Math.max(...Array.from(ze).map(xe=>G.indexOf(xe)))+1}),n.use(et,ze=>{ze.forEach(xe=>{xe.sources.has(et)?(Be.getOrCreate(xe.sink).add(xe),qe(xe.sink,Nt)):Z.getOrCreate(xe.sink).add(et)})}),Q.add(et),G.splice(Nt,0,et))}return W.forEach(et=>qe(et)),{participatingNodeKeys:G,pendingPulls:Z,projections:Be,refCount:te}}const y=new Map;function w(W){var G;const Q=Object.keys(W),Z=Q.join(",");y.has(Z)||y.set(Z,p(Q));const te=y.get(Z),Be=te.refCount.clone(),qe=te.participatingNodeKeys.slice(),et=new Map(r);function Nt(xe){n.use(xe,Ke=>{Ke.forEach(({sources:Fe,sink:Le})=>{Fe.has(xe)&&Be.decrement(Le,()=>{qe.splice(qe.indexOf(Le),1),Nt(Le)})})})}let ze;for(;ze=qe.shift();){let xe=!1;const Ke=Fe=>{if(i.has(ze)&&i.get(ze)(r.get(ze),Fe)){xe=!1;return}xe=!0,et.set(ze,Fe),r.has(ze)&&r.set(ze,Fe)};if(Object.prototype.hasOwnProperty.call(W,ze)?Ke(W[ze]):te.projections.use(ze,Fe=>{Fe.forEach(Le=>{const St=[...Array.from(Le.sources),...Array.from(Le.pulls)].map(ne=>et.get(ne));Le.map(Ke)(...St)})}),xe){const Fe=et.get(ze);t.use(ze,Le=>{Le.forEach(St=>St(Fe))}),(G=e.get(ze))==null||G(Fe)}else Nt(ze)}}function C(W){return new Set(W.map(G=>G.key))}function _({sources:W,pulls:G=[],map:Q,sink:{key:Z}}){const te={map:Q,pulls:C(G),sink:Z,sources:C(W)};[...W,...G].forEach(({key:Be})=>{n.getOrCreate(Be).add(te)}),y.clear()}function E(...W){const G={};for(let Q=0;Q<W.length;Q+=2){const Z=W[Q];G[Z.key]=W[Q+1]}w(G)}function v(W){Object.assign(s,W)}function N(W,...G){for(const Q of G)W=Q(W);return W}function L(W,G){return G.map((Q,Z)=>Xp(o(Q,!0),te=>{_({map:Be=>qe=>{Be(qe[Z])},sink:te,sources:[W]})}))}function k(W,G){_({map:Q=>Z=>Q(Z),sink:G,sources:[W]})}function T(W,G){return Xp(o(G,!0),Q=>{_({map:Z=>te=>Z(te),sink:Q,sources:[W]})})}function x(W){return G=>{const Q=o();return _({map:Z=>te=>{Z(W(te))},sink:Q,sources:[G]}),Q}}function I(W){return G=>{const Q=o();return _({map:Z=>()=>Z(W),sink:Q,sources:[G]}),Q}}function P(W){return G=>{const Q=o();return _({map:Z=>te=>W(te)&&Z(te),sink:Q,sources:[G]}),Q}}function R(){return W=>{const G=o();let Q=!1;return _({map:Z=>te=>{Q||(Q=!0,Z(te))},sink:G,sources:[W]}),G}}function D(W,G){return Q=>{const Z=o();return _({map:te=>Be=>te(G=W(G,Be)),sink:Z,sources:[Q]}),Z}}function O(W){return G=>{const Q=o();let Z,te;return f(G,Be=>{Z=Be,!te&&(te=setTimeout(()=>{te=void 0,E(Q,Z)},W))}),Q}}function ve(){return W=>{const G=o();return f(W,Q=>queueMicrotask(()=>E(G,Q))),G}}function pe(W){return G=>{const Q=o();let Z,te;return f(G,Be=>{Z=Be,te&&clearTimeout(te),te=setTimeout(()=>{E(Q,Z)},W)}),Q}}function Ne(W){return G=>{const Q=o();let Z=da;return f(G,te=>Z=te),_({map:te=>Be=>{Z!==da&&(te([Z,Be]),Z=da)},sink:Q,sources:[W]}),Q}}function fe(W,G){return Q=>{const Z=o();let te=0;return f(W,()=>te=Date.now()),_({map:Be=>qe=>{Date.now()<te+r.get(G.key)&&Be(qe)},sink:Z,sources:[Q]}),Z}}function q(...W){return G=>{const Q=o();return _({map:Z=>(...te)=>Z(te),pulls:W,sink:Q,sources:[G]}),Q}}function ae(...W){const G=o();return _({map:Q=>(...Z)=>Q(Z),sink:G,sources:W}),G}function F(W,G){return f(s[W],G)}function Ce(W,G){const Q=W.map(Z=>s[Z]);return f(...Q.concat(G))}function we(W,G){M({[W]:G})}function M(W){const G=Object.entries(W).reduce((Q,[Z,te])=>Xp(Q,Be=>{const qe=s[Z];if(!qe)throw new Error(`No label for key ${Z}. Do you miss a plugin?`);return Be[qe.key]=te,te}),{});w(G)}function je(W){return r.get(s[W].key)}function Ye(W){return r.get(W.key)}function Pe(W){return W.map(G=>{const Q=s[G];if(!Q)throw new Error(`No label for key ${G}. Do you miss a plugin?`);return r.get(Q.key)})}return{combine:ae,connect:_,derive:T,getKeyValue:je,getValue:Ye,getKeyValues:Pe,label:v,labels:s,link:k,node:o,o:{delayWithMicrotask:ve,debounceTime:pe,filter:P,map:x,mapTo:I,onNext:Ne,scan:D,throttleTime:O,withLatestFrom:q,once:R,passOnlyAfterNodeHasEmittedBefore:fe},pipe:N,pub:E,pubIn:w,pubKey:we,pubKeys:M,resetSingletonSubs:d,singletonSub:a,singletonSubKey:u,spread:L,sub:f,subKey:F,subKeys:Ce}}function xz(t,e=[]){return{constructor:t,dependencies:e,id:NN()}}function wz(...t){const e=new Map,n=Ez(),r=({id:i,constructor:s,dependencies:o})=>{if(e.has(i))return e.get(i);const l=s(n,o.map(a=>r(t.find(u=>u.id===a.id))));return n.label(l),e.set(i,l),l};return t.forEach(r),n}const Tz=typeof document<"u"?ye.useLayoutEffect:ye.useEffect,DN=ye.createContext(void 0);function Cz(){const t=DN;return{useRealmContext:()=>ye.useContext(t),useEmitter:(o,l)=>{const a=ye.useContext(t);Tz(()=>a.subKey(o,l),[l])},useEmitterValues:(...o)=>{const l=ye.useContext(t),[a,u]=ye.useState(()=>l.getKeyValues(o));return H.useEffect(()=>l==null?void 0:l.subKeys(o,d=>{(()=>{o.length===1&&(d=[d]);for(let f=0;f<o.length;f++)d[f]!==a[f]&&u(d)})()}),[o,l,a]),a},usePubKeys:()=>ye.useContext(t).pubKeys,usePublisher:o=>{const l=ye.useContext(t);return ye.useCallback(a=>{l.pubKey(o,a)},[o,l])}}}const bN=ye.createContext(new Set);function Sz(t){return[n=>({systemSpec:t.systemSpec,pluginParams:n,applyParamsToSystem:t.applyParamsToSystem,init:t.init,id:t.id,dependencies:t.dependencies}),Cz()]}const Az=function({plugins:t,children:e}){const n=ye.useMemo(()=>{const s=t.map(l=>l.id);return t.filter(l=>l.dependencies&&l.dependencies.some(a=>!s.includes(a))?(console.warn("MDXEditor plugin",l.id,"has some missing dependencies",l.dependencies,", skipping"),!1):!0)},[t]),r=ye.useMemo(()=>{const s=n.map(a=>a.systemSpec),o=n.map(a=>a.id),l=wz(...s);return n.forEach(a=>{var u,d;(u=a.init)==null||u.call(a,l,a.pluginParams,o),(d=a.applyParamsToSystem)==null||d.call(a,l,a.pluginParams)}),l},[]);ye.useEffect(()=>{n.forEach(s=>{var o;(o=s.applyParamsToSystem)==null||o.call(s,r,s.pluginParams)})},[r,n]);const i=DN;return ye.createElement(i.Provider,{value:r},ye.createElement(bN.Provider,{value:new Set(t.map(s=>s.id))},e))};function Iz(t){return ye.useContext(bN).has(t)}const kz=_e.createCommand("NESTED_EDITOR_UPDATED_COMMAND"),Rz=xz(t=>{function e(ne){const ee=t.node();return t.link(t.pipe(ee,t.o.withLatestFrom(ne),t.o.map(([ie,Re])=>Re.includes(ie)?Re:[...Re,ie])),ne),ee}const n=t.node(null),r=t.node(null,!0),i=t.node(""),s=t.node(!1),o=t.node(""),l=t.node(!1),a=t.node(!1,!0),u=t.node(0,!0),d=t.node(null),h=t.node();t.link(t.pipe(d,t.o.filter(ne=>ne!==null)),h);const f=t.node(),p=t.node(null),y=t.node([]),w=t.node([]),C=t.node(null),_=t.node(),E=t.node(ne=>{throw new Error(`No icon component for ${ne}`)}),v=()=>t.o.scan((ne,[ee,ie])=>(ne.forEach(Re=>{if(!Re)throw new Error("You have a subscription that does not return a teardown");Re()}),ie?ee.map(Re=>Re(ie)):[]),[]);t.pipe(t.combine(y,r),v()),t.pipe(t.combine(w,n),v());const N=e(w),L=e(y);function k(){const ne=_e.$getSelection();_e.$isRangeSelection(ne)&&t.pubKeys({currentSelection:ne,currentFormat:ne.format})}t.pub(N,ne=>ne.registerCommand(_e.SELECTION_CHANGE_COMMAND,(ee,ie)=>(t.pubIn({[r.key]:ie,[a.key]:!0}),ie._parentEditor===null&&ie.getEditorState().read(()=>{t.pub(C,{rootNode:_e.$getRoot(),editorType:"lexical"})}),k(),!1),_e.COMMAND_PRIORITY_CRITICAL)),t.pub(N,ne=>ne.registerUpdateListener(({dirtyElements:ee,dirtyLeaves:ie,editorState:Re})=>{if(t.getValue(d)!==null||ee.size===0&&ie.size===0)return;let $;Re.read(()=>{$=mU({root:_e.$getRoot(),visitors:t.getValue(ve),jsxComponentDescriptors:t.getValue(q),toMarkdownExtensions:t.getValue(pe),toMarkdownOptions:t.getValue(Ne),jsxIsAvailable:t.getValue(fe)})}),t.pub(x,$.trim())}));const T=t.node(""),x=t.node("",!0),I=t.node();t.link(x,I),t.link(T,x);const P=t.node([]),R=t.node([]),D=t.node([]),O=t.node([]),ve=t.node([]),pe=t.node([]),Ne=t.node({},!0),fe=t.node(!1),q=t.node([]),ae=t.node(null),F=e(O),Ce=e(P),we=e(R),M=e(D),je=e(ve),Ye=e(pe),Pe=t.node();function W(ne){try{p8({root:_e.$getRoot(),visitors:t.getValue(P),mdastExtensions:t.getValue(D),markdown:ne,syntaxExtensions:t.getValue(R)}),t.pub(d,null)}catch(ee){if(ee instanceof i_||ee instanceof wN)t.pubIn({[x.key]:ne,[d.key]:{error:ee.message,source:x}});else throw ee}}t.sub(t.pipe(Pe,t.o.withLatestFrom(x,n,a),t.o.filter(([ne,ee])=>ne.trim()!==ee.trim())),([ne,,ee,ie])=>{ee==null||ee.update(()=>{_e.$getRoot().clear(),W(ne),ie?ee.focus():_e.$setSelection(null)})});const G=t.node(ne=>{t.pub(n,ne),t.pub(r,ne),W(t.getValue(T));const ee=t.getValue(l);if(ee){if(ee===!0){setTimeout(()=>ne.focus(qa,{defaultSelection:"rootStart"}));return}setTimeout(()=>ne.focus(qa,{defaultSelection:ee.defaultSelection??"rootStart"}))}});t.pub(L,ne=>ne.registerUpdateListener(({editorState:ee})=>{ee.read(()=>{k()})})),t.pub(L,ne=>ne.registerCommand(_e.BLUR_COMMAND,ee=>{var ie;const Re=t.getValue(n);return Re&&!((ie=Re.getRootElement())!=null&&ie.contains(ee.relatedTarget))&&t.pubIn({[a.key]:!1,[_.key]:ee}),!1},_e.COMMAND_PRIORITY_CRITICAL)),t.pub(N,ne=>ne.registerCommand(_e.FOCUS_COMMAND,()=>(t.pub(a,!0),!1),_e.COMMAND_PRIORITY_CRITICAL)),t.pub(N,ne=>ne.registerCommand(_e.KEY_DOWN_COMMAND,ee=>{const{keyCode:ie,ctrlKey:Re,metaKey:ke}=ee;if(ie===65&&N8(ke,Re)){let $=!1;if(ne.getEditorState().read(()=>{$=_e.$isDecoratorNode(_e.$getRoot().getFirstChild())||_e.$isDecoratorNode(_e.$getRoot().getLastChild())}),$)return ee.preventDefault(),ee.stopImmediatePropagation(),ne.update(()=>{var S;const ue=ne.getRootElement();(S=window.getSelection())==null||S.selectAllChildren(ue),ue.focus({preventScroll:!0})}),!0}return!1},_e.COMMAND_PRIORITY_CRITICAL));const Q=t.node([]),Z=e(Q),te=t.node([]),Be=e(te),qe=t.node([]),et=e(qe),Nt=t.node([]),ze=e(Nt),xe=t.node(kR.createEmptyHistoryState());t.sub(t.pipe(f,t.o.withLatestFrom(r)),([ne,ee])=>{ee==null||ee.dispatchCommand(_e.FORMAT_TEXT_COMMAND,ne)});const Ke=t.node(""),Fe=t.node();t.sub(t.pipe(p,t.o.withLatestFrom(r)),([ne,ee])=>{if(!ne||!ee)return;const ie=ne.anchor.getNode();let Re=ie.getKey()==="root"?ie:ts.$findMatchingParent(ie,S=>{const ue=S.getParent();return ue!==null&&_e.$isRootOrShadowRoot(ue)});Re===null&&(Re=ie.getTopLevelElementOrThrow());const ke=Re.getKey();if(ee.getElementByKey(ke)!==null){const S=UR.$isHeadingNode(Re)?Re.getTag():Re.getType();t.pub(Ke,S)}});const Le=t.node();t.sub(t.pipe(Le,t.o.withLatestFrom(r)),([ne,ee])=>{ee==null||ee.update(()=>{const ie=_e.$getSelection();_e.$isRangeSelection(ie)&&(oc.$setBlocksType(ie,ne),setTimeout(()=>{ee.focus()}))})});const St=t.node();return t.sub(t.pipe(St,t.o.withLatestFrom(r)),([ne,ee])=>{ee==null||ee.focus(()=>{ee.getEditorState().read(()=>{const ie=_e.$getSelection();_e.$isRangeSelection(ie)&&ie.focus.getNode()!==null&&(ee.update(()=>{const ke=ne();ke.isInline()?(_e.$insertNodes([ke]),_e.$isRootOrShadowRoot(ke.getParentOrThrow())&&ts.$wrapNodeInElement(ke,_e.$createParagraphNode).selectEnd()):ts.$insertNodeToNearestRoot(ke),"select"in ke&&typeof ke.select=="function"&&setTimeout(()=>ke.select())}),setTimeout(()=>{ee.dispatchCommand(kz,void 0)}))})},{defaultSelection:"rootEnd"})}),t.sub(t.pipe(s,t.o.withLatestFrom(n)),([ne,ee])=>{ee==null||ee.setEditable(!ne)}),{activeEditor:r,inFocus:a,historyState:xe,currentSelection:p,jsxIsAvailable:fe,jsxComponentDescriptors:q,initialRootEditorState:G,rootEditor:n,createRootEditorSubscription:N,createActiveEditorSubscription:L,importVisitors:P,syntaxExtensions:R,mdastExtensions:D,usedLexicalNodes:O,addImportVisitor:Ce,addLexicalNode:F,addSyntaxExtension:we,addMdastExtension:M,toMarkdownExtensions:pe,toMarkdownOptions:Ne,addToMarkdownExtension:Ye,addExportVisitor:je,exportVisitors:ve,initialMarkdown:T,setMarkdown:Pe,markdown:x,markdownSignal:I,editorRootElementRef:ae,contentEditableClassName:i,placeholder:o,autoFocus:l,readOnly:s,composerChildren:Q,addComposerChild:Z,topAreaChildren:te,addTopAreaChild:Be,nestedEditorChildren:Nt,addNestedEditorChild:ze,editorWrappers:qe,addEditorWrapper:et,currentFormat:u,editorInFocus:C,applyFormat:f,currentBlockType:Ke,applyBlockType:Fe,convertSelectionToNode:Le,insertDecoratorNode:St,onBlur:_,iconComponentFor:E,markdownProcessingError:d,markdownErrorSignal:h}},[]),[Nz,ac]=Sz({id:"core",systemSpec:Rz,applyParamsToSystem(t,e){t.pubKeys({contentEditableClassName:e.contentEditableClassName,toMarkdownOptions:e.toMarkdownOptions,autoFocus:e.autoFocus,placeholder:e.placeholder,readOnly:e.readOnly}),t.singletonSubKey("markdownSignal",e.onChange),t.singletonSubKey("onBlur",e.onBlur),t.singletonSubKey("markdownErrorSignal",e.onError)},init(t,e){t.pubKey("initialMarkdown",e.initialMarkdown.trim()),t.pubKey("iconComponentFor",e.iconComponentFor),t.pubKey("addImportVisitor",S8),t.pubKey("addImportVisitor",C8),t.pubKey("addImportVisitor",A8),t.pubKey("addImportVisitor",x8),t.pubKey("addImportVisitor",w8),t.pubKey("addImportVisitor",P8),t.pubKey("addLexicalNode",_e.ParagraphNode),t.pubKey("addLexicalNode",_e.TextNode),t.pubKey("addLexicalNode",lc),t.pubKey("addExportVisitor",y8),t.pubKey("addExportVisitor",_8),t.pubKey("addExportVisitor",E8),t.pubKey("addExportVisitor",g8),t.pubKey("addExportVisitor",gz),t.pubKey("addComposerChild",I8),e.suppressHtmlProcessing||(t.pubKey("addMdastExtension",G8()),t.pubKey("addSyntaxExtension",dz()),t.pubKey("addToMarkdownExtension",J8()),t.pubKey("addImportVisitor",mz))}}),Pz="_light-theme_1xkrx_1",Dz="_dark-theme_1xkrx_1",bz="_bold_1xkrx_10",Oz="_italic_1xkrx_14",Fz="_underline_1xkrx_18",Mz="_strikethrough_1xkrx_34",Lz="_underlineStrikethrough_1xkrx_38",$z="_subscript_1xkrx_42",Vz="_superscript_1xkrx_47",Bz="_code_1xkrx_52",Uz="_nestedListItem_1xkrx_59",jz="_listitem_1xkrx_69",zz="_listItemChecked_1xkrx_73",Wz="_listItemUnchecked_1xkrx_74",Hz="_admonitionDanger_1xkrx_151",Kz="_admonitionInfo_1xkrx_152",qz="_admonitionNote_1xkrx_153",Gz="_admonitionTip_1xkrx_154",Jz="_admonitionCaution_1xkrx_155",Gt={lightTheme:Pz,darkTheme:Dz,bold:bz,italic:Oz,underline:Fz,strikethrough:Mz,underlineStrikethrough:Lz,subscript:$z,superscript:Vz,code:Bz,nestedListItem:Uz,listitem:jz,listItemChecked:zz,listItemUnchecked:Wz,admonitionDanger:Hz,admonitionInfo:Kz,admonitionNote:qz,admonitionTip:Gz,admonitionCaution:Jz},Qz={text:{bold:Gt.bold,italic:Gt.italic,underline:Gt.underline,code:Gt.code,strikethrough:Gt.strikethrough,subscript:Gt.subscript,superscript:Gt.superscript,underlineStrikethrough:Gt.underlineStrikethrough},list:{listitem:Gt.listitem,listitemChecked:Gt.listItemChecked,listitemUnchecked:Gt.listItemUnchecked,nested:{listitem:Gt.nestedListItem}},admonition:{danger:Gt.admonitionDanger,info:Gt.admonitionInfo,note:Gt.admonitionNote,tip:Gt.admonitionTip,caution:Gt.admonitionCaution}};var ON={},Kw=ec,Ca=_e,Oh=H;let FN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";var Yz=FN?Oh.useLayoutEffect:Oh.useEffect;let ed={tag:"history-merge"};function Xz(t,e){if(e!==null){if(e===void 0)t.update(()=>{var n=Ca.$getRoot();if(n.isEmpty()){let r=Ca.$createParagraphNode();n.append(r),n=FN?document.activeElement:null,(Ca.$getSelection()!==null||n!==null&&n===t.getRootElement())&&r.select()}},ed);else if(e!==null)switch(typeof e){case"string":let n=t.parseEditorState(e);t.setEditorState(n,ed);break;case"object":t.setEditorState(e,ed);break;case"function":t.update(()=>{Ca.$getRoot().isEmpty()&&e(t)},ed)}}}ON.LexicalComposer=function({initialConfig:t,children:e}){let n=Oh.useMemo(()=>{const{theme:r,namespace:i,editor__DEPRECATED:s,nodes:o,onError:l,editorState:a,html:u}=t,d=Kw.createLexicalComposerContext(null,r);let h=s||null;if(h===null){const f=Ca.createEditor({editable:t.editable,html:u,namespace:i,nodes:o,onError:p=>l(p,f),theme:r});Xz(f,a),h=f}return[h,d]},[]);return Yz(()=>{let r=t.editable,[i]=n;i.setEditable(r!==void 0?r:!0)},[]),Oh.createElement(Kw.LexicalComposerContext.Provider,{value:n},e)};const Zz=ON;var e7=Zz;const t7="_editorRoot_lug8m_37",n7="_editorWrapper_lug8m_138",r7="_nestedListItem_lug8m_141",i7="_toolbarRoot_lug8m_145",s7="_readOnlyToolbarRoot_lug8m_168",o7="_toolbarModeSwitch_lug8m_176",l7="_toolbarToggleItem_lug8m_186",a7="_toolbarGroupOfGroups_lug8m_196",u7="_toolbarToggleSingleGroup_lug8m_201",c7="_toolbarButton_lug8m_215",d7="_activeToolbarButton_lug8m_246",h7="_toolbarNodeKindSelectContainer_lug8m_254",f7="_toolbarButtonDropdownContainer_lug8m_255",p7="_toolbarCodeBlockLanguageSelectContent_lug8m_256",m7="_selectContainer_lug8m_257",g7="_selectItem_lug8m_271",_7="_toolbarNodeKindSelectTrigger_lug8m_276",y7="_toolbarButtonSelectTrigger_lug8m_277",v7="_selectTrigger_lug8m_278",E7="_toolbarCodeBlockLanguageSelectTrigger_lug8m_312",x7="_toolbarNodeKindSelectItem_lug8m_318",w7="_toolbarNodeKindSelectDropdownArrow_lug8m_344",T7="_selectDropdownArrow_lug8m_345",C7="_contentEditable_lug8m_351",S7="_sandpackWrapper_lug8m_361",A7="_frontmatterWrapper_lug8m_365",I7="_frontmatterToggleButton_lug8m_375",k7="_propertyPanelTitle_lug8m_383",R7="_propertyEditorTable_lug8m_391",N7="_iconButton_lug8m_408",P7="_readOnlyColumnCell_lug8m_413",D7="_propertyEditorLabelCell_lug8m_418",b7="_buttonsFooter_lug8m_426",O7="_propertyEditorInput_lug8m_432",F7="_primaryButton_lug8m_453",M7="_secondaryButton_lug8m_453",L7="_smallButton_lug8m_467",$7="_dialogForm_lug8m_479",V7="_linkDialogEditForm_lug8m_485",B7="_linkDialogInputContainer_lug8m_493",U7="_linkDialogInputWrapper_lug8m_499",j7="_linkDialogInput_lug8m_493",z7="_dialogInput_lug8m_519",W7="_linkDialogAnchor_lug8m_529",H7="_linkDialogPopoverContent_lug8m_543",K7="_tableColumnEditorPopoverContent_lug8m_543",q7="_dialogContent_lug8m_543",G7="_largeDialogContent_lug8m_555",J7="_dialogTitle_lug8m_565",Q7="_dialogCloseButton_lug8m_571",Y7="_popoverContent_lug8m_578",X7="_popoverArrow_lug8m_590",Z7="_linkDialogPreviewAnchor_lug8m_594",eW="_tooltipTrigger_lug8m_615",tW="_tooltipContent_lug8m_619",nW="_actionButton_lug8m_633",rW="_primaryActionButton_lug8m_639",iW="_tableEditor_lug8m_648",sW="_toolCell_lug8m_659",oW="_tableColumnEditorTrigger_lug8m_676",lW="_tableRowEditorTrigger_lug8m_676",aW="_addRowButton_lug8m_676",uW="_addColumnButton_lug8m_676",cW="_tableColumnEditorToolbar_lug8m_710",dW="_toggleGroupRoot_lug8m_723",hW="_tableToolsColumn_lug8m_740",fW="_leftAlignedCell_lug8m_748",pW="_rightAlignedCell_lug8m_752",mW="_centeredCell_lug8m_756",gW="_dialogOverlay_lug8m_787",_W="_overlayShow_lug8m_1",yW="_contentShow_lug8m_1",vW="_focusedImage_lug8m_830",EW="_imageWrapper_lug8m_834",xW="_editImageButton_lug8m_846",wW="_inlineEditor_lug8m_858",TW="_blockEditor_lug8m_867",CW="_nestedEditor_lug8m_876",SW="_genericComponentName_lug8m_893",AW="_diffSourceToggle_lug8m_899",IW="_selectWithLabel_lug8m_912",kW="_toolbarTitleMode_lug8m_926",RW="_imageControlWrapperResizing_lug8m_932",NW="_imageResizer_lug8m_936",PW="_imageResizerN_lug8m_945",DW="_imageResizerNe_lug8m_951",bW="_imageResizerE_lug8m_957",OW="_imageResizerSe_lug8m_963",FW="_imageResizerS_lug8m_963",MW="_imageResizerSw_lug8m_975",LW="_imageResizerW_lug8m_981",$W="_imageResizerNw_lug8m_987",VW="_placeholder_lug8m_993",BW="_rootContentEditableWrapper_lug8m_1006",UW="_downshiftContainer_lug8m_1012",jW="_downshiftInputWrapper_lug8m_1018",zW="_downshiftInput_lug8m_1018",WW="_downshiftAutocompleteContainer_lug8m_1048",HW="_textInput_lug8m_1093",KW="_multiFieldForm_lug8m_1101",qW="_formField_lug8m_1107",GW="_markdownParseError_lug8m_1118",JW="_popupContainer_lug8m_1127",Vi={editorRoot:t7,editorWrapper:n7,nestedListItem:r7,toolbarRoot:i7,readOnlyToolbarRoot:s7,toolbarModeSwitch:o7,toolbarToggleItem:l7,toolbarGroupOfGroups:a7,toolbarToggleSingleGroup:u7,toolbarButton:c7,activeToolbarButton:d7,toolbarNodeKindSelectContainer:h7,toolbarButtonDropdownContainer:f7,toolbarCodeBlockLanguageSelectContent:p7,selectContainer:m7,selectItem:g7,toolbarNodeKindSelectTrigger:_7,toolbarButtonSelectTrigger:y7,selectTrigger:v7,toolbarCodeBlockLanguageSelectTrigger:E7,toolbarNodeKindSelectItem:x7,toolbarNodeKindSelectDropdownArrow:w7,selectDropdownArrow:T7,contentEditable:C7,sandpackWrapper:S7,frontmatterWrapper:A7,frontmatterToggleButton:I7,propertyPanelTitle:k7,propertyEditorTable:R7,iconButton:N7,readOnlyColumnCell:P7,propertyEditorLabelCell:D7,buttonsFooter:b7,propertyEditorInput:O7,primaryButton:F7,secondaryButton:M7,smallButton:L7,dialogForm:$7,linkDialogEditForm:V7,linkDialogInputContainer:B7,linkDialogInputWrapper:U7,linkDialogInput:j7,dialogInput:z7,linkDialogAnchor:W7,linkDialogPopoverContent:H7,tableColumnEditorPopoverContent:K7,dialogContent:q7,largeDialogContent:G7,dialogTitle:J7,dialogCloseButton:Q7,popoverContent:Y7,popoverArrow:X7,linkDialogPreviewAnchor:Z7,tooltipTrigger:eW,tooltipContent:tW,actionButton:nW,primaryActionButton:rW,tableEditor:iW,toolCell:sW,tableColumnEditorTrigger:oW,tableRowEditorTrigger:lW,addRowButton:aW,addColumnButton:uW,tableColumnEditorToolbar:cW,toggleGroupRoot:dW,tableToolsColumn:hW,leftAlignedCell:fW,rightAlignedCell:pW,centeredCell:mW,dialogOverlay:gW,overlayShow:_W,contentShow:yW,focusedImage:vW,imageWrapper:EW,editImageButton:xW,inlineEditor:wW,blockEditor:TW,nestedEditor:CW,genericComponentName:SW,diffSourceToggle:AW,selectWithLabel:IW,toolbarTitleMode:kW,imageControlWrapperResizing:RW,imageResizer:NW,imageResizerN:PW,imageResizerNe:DW,imageResizerE:bW,imageResizerSe:OW,imageResizerS:FW,imageResizerSw:MW,imageResizerW:LW,imageResizerNw:$W,placeholder:VW,rootContentEditableWrapper:BW,downshiftContainer:UW,downshiftInputWrapper:jW,downshiftInput:zW,downshiftAutocompleteContainer:WW,textInput:HW,multiFieldForm:KW,formField:qW,markdownParseError:GW,popupContainer:JW};var MN={},QW=ec,Ga=H,YW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?Ga.useLayoutEffect:Ga.useEffect;function XW(t){let[e]=QW.useLexicalComposerContext(),n=Ga.useMemo(()=>t(e),[e,t]),r=Ga.useRef(n.initialValueFn()),[i,s]=Ga.useState(r.current);return YW(()=>{let{initialValueFn:o,subscribe:l}=n,a=o();return r.current!==a&&(r.current=a,s(a)),l(u=>{r.current=u,s(u)})},[n,t]),i}function ZW(t){return{initialValueFn:()=>t.isEditable(),subscribe:e=>t.registerEditableListener(e)}}var eH=function(){return XW(ZW)};const tH=eH;var nH=tH,Es={},xn=_e;function H0(t,e=!0){return t?!1:(t=LN(),e&&(t=t.trim()),t==="")}function LN(){return xn.$getRoot().getTextContent()}function $N(t){if(!H0(t,!1))return!1;t=xn.$getRoot().getChildren();let e=t.length;if(1<e)return!1;for(let r=0;r<e;r++){var n=t[r];if(xn.$isDecoratorNode(n))return!1;if(xn.$isElementNode(n)){if(!xn.$isParagraphNode(n)||n.__indent!==0)return!1;n=n.getChildren();let i=n.length;for(let s=0;s<i;s++)if(!xn.$isTextNode(n[r]))return!1}}return!0}Es.$canShowPlaceholder=$N;Es.$canShowPlaceholderCurry=function(t){return()=>$N(t)};Es.$findTextIntersectionFromCharacters=function(t,e){var n=t.getFirstChild();t=0;e:for(;n!==null;){if(xn.$isElementNode(n)){var r=n.getFirstChild();if(r!==null){n=r;continue}}else if(xn.$isTextNode(n)){if(r=n.getTextContentSize(),t+r>e)return{node:n,offset:e-t};t+=r}if(r=n.getNextSibling(),r!==null)n=r;else{for(n=n.getParent();n!==null;){if(r=n.getNextSibling(),r!==null){n=r;continue e}n=n.getParent()}break}}return null};Es.$isRootTextContentEmpty=H0;Es.$isRootTextContentEmptyCurry=function(t,e){return()=>H0(t,e)};Es.$rootTextContent=LN;Es.registerLexicalTextEntity=function(t,e,n,r){let i=o=>{const l=xn.$createTextNode(o.getTextContent());l.setFormat(o.getFormat()),o.replace(l)},s=t.registerNodeTransform(xn.TextNode,o=>{if(o.isSimpleText()){var l=o.getPreviousSibling(),a=o.getTextContent(),u=o;if(xn.$isTextNode(l)){var d=l.getTextContent(),h=e(d+a);if(l instanceof n){if(h===null||l.getLatest().__mode!==0){i(l);return}if(h=h.end-d.length,0<h){u=a.slice(0,h),u=d+u,l.select(),l.setTextContent(u),h===a.length?o.remove():(l=a.slice(h),o.setTextContent(l));return}}else if(h===null||h.start<d.length)return}for(;;){if(o=e(a),a=h=o===null?"":a.slice(o.end),h===""){if(d=u.getNextSibling(),xn.$isTextNode(d)){if(h=u.getTextContent()+d.getTextContent(),h=e(h),h===null){d instanceof n?i(d):d.markDirty();break}else if(h.start!==0)break}}else if(d=e(h),d!==null&&d.start===0)break;if(o===null)break;if(o.start===0&&xn.$isTextNode(l)&&l.isTextEntity())continue;let f;if(o.start===0?[f,u]=u.splitText(o.end):[,f,u]=u.splitText(o.start,o.end),o=r(f),o.setFormat(f.getFormat()),f.replace(o),u==null)break}}});return t=t.registerNodeTransform(n,o=>{var l=o.getTextContent();const a=e(l);a===null||a.start!==0?i(o):l.length>a.end?o.splitText(a.end):(l=o.getPreviousSibling(),xn.$isTextNode(l)&&l.isTextEntity()&&(i(l),i(o)),l=o.getNextSibling(),xn.$isTextNode(l)&&l.isTextEntity()&&(i(l),o instanceof n&&i(o)))}),[s,t]};const rH=Es;var iH=rH,VN={},td=_e;VN.registerDragonSupport=function(t){let e=window.location.origin,n=r=>{if(r.origin===e){var i=t.getRootElement();if(document.activeElement===i&&(i=r.data,typeof i=="string")){try{var s=JSON.parse(i)}catch{return}if(s&&s.protocol==="nuanria_messaging"&&s.type==="request"&&(s=s.payload)&&s.functionId==="makeChanges"&&(s=s.args)){const[o,l,a,u,d]=s;t.update(()=>{const h=td.$getSelection();if(td.$isRangeSelection(h)){var f=h.anchor;let p=f.getNode(),y=0,w=0;td.$isTextNode(p)&&0<=o&&0<=l&&(y=o,w=o+l,h.setTextNodeRange(p,y,p,w)),(y!==w||a!=="")&&(h.insertRawText(a),p=f.getNode()),td.$isTextNode(p)&&(y=u,w=u+d,f=p.getTextContentSize(),y=y>f?f:y,w=w>f?f:w,h.setTextNodeRange(p,y,p,w)),r.stopImmediatePropagation()}})}}}};return window.addEventListener("message",n,!0),()=>{window.removeEventListener("message",n,!0)}};const sH=VN;var oH=sH,BN=ec,lH=nH,Zn=H,aH=iH,UN=ts,qw=cS,uH=oH,cH=UR,K0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?Zn.useLayoutEffect:Zn.useEffect;function Gw(t){return t.getEditorState().read(aH.$canShowPlaceholderCurry(t.isComposing()))}function dH(t){let[e,n]=Zn.useState(()=>Gw(t));return K0(()=>{function r(){let i=Gw(t);n(i)}return r(),UN.mergeRegister(t.registerUpdateListener(()=>{r()}),t.registerEditableListener(()=>{r()}))},[t]),e}function hH(t,e){let[n,r]=Zn.useState(()=>t.getDecorators());return K0(()=>t.registerDecoratorListener(i=>{qw.flushSync(()=>{r(i)})}),[t]),Zn.useEffect(()=>{r(t.getDecorators())},[t]),Zn.useMemo(()=>{let i=[],s=Object.keys(n);for(let o=0;o<s.length;o++){let l=s[o],a=Zn.createElement(e,{onError:d=>t._onError(d)},Zn.createElement(Zn.Suspense,{fallback:null},n[l])),u=t.getElementByKey(l);u!==null&&i.push(qw.createPortal(a,u,l))}return i},[e,n,t])}function fH(t){K0(()=>UN.mergeRegister(cH.registerRichText(t),uH.registerDragonSupport(t)),[t])}function pH({content:t}){var[e]=BN.useLexicalComposerContext();e=dH(e);let n=lH();return e?typeof t=="function"?t(n):t:null}MN.RichTextPlugin=function({contentEditable:t,placeholder:e,ErrorBoundary:n}){let[r]=BN.useLexicalComposerContext();return n=hH(r,n),fH(r),Zn.createElement(Zn.Fragment,null,t,Zn.createElement(pH,{content:e}),n)};const mH=MN;var gH=mH,jN={},_H=ec,Ja=H;function s_(){return s_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e],r;for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s_.apply(this,arguments)}var yH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?Ja.useLayoutEffect:Ja.useEffect;jN.ContentEditable=function({ariaActiveDescendant:t,ariaAutoComplete:e,ariaControls:n,ariaDescribedBy:r,ariaExpanded:i,ariaLabel:s,ariaLabelledBy:o,ariaMultiline:l,ariaOwns:a,ariaRequired:u,autoCapitalize:d,className:h,id:f,role:p="textbox",spellCheck:y=!0,style:w,tabIndex:C,"data-testid":_,...E}){let[v]=_H.useLexicalComposerContext(),[N,L]=Ja.useState(!1),k=Ja.useCallback(T=>{v.setRootElement(T)},[v]);return yH(()=>(L(v.isEditable()),v.registerEditableListener(T=>{L(T)})),[v]),Ja.createElement("div",s_({},E,{"aria-activedescendant":N?t:void 0,"aria-autocomplete":N?e:"none","aria-controls":N?n:void 0,"aria-describedby":r,"aria-expanded":N&&p==="combobox"?!!i:void 0,"aria-label":s,"aria-labelledby":o,"aria-multiline":l,"aria-owns":N?a:void 0,"aria-readonly":N?void 0:!0,"aria-required":u,autoCapitalize:d,className:h,contentEditable:N,"data-testid":_,id:f,ref:k,role:p,spellCheck:y,style:w,tabIndex:C}))};const vH=jN;var EH=vH,Qa=H;function o_(t,e){return o_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},o_(t,e)}function xH(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,o_(t,e)}function wH(t,e){return t===void 0&&(t=[]),e===void 0&&(e=[]),t.length!==e.length||t.some(function(n,r){return!Object.is(n,e[r])})}var Jw={error:null},TH=function(t){function e(){for(var r,i=arguments.length,s=Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s))||this,r.state=Jw,r.resetErrorBoundary=function(){for(var l,a=arguments.length,u=Array(a),d=0;d<a;d++)u[d]=arguments[d];r.props.onReset==null||(l=r.props).onReset.apply(l,u),r.reset()},r}xH(e,t),e.getDerivedStateFromError=function(r){return{error:r}};var n=e.prototype;return n.reset=function(){this.setState(Jw)},n.componentDidCatch=function(r,i){var s,o;(s=(o=this.props).onError)==null||s.call(o,r,i)},n.componentDidUpdate=function(r,i){var s=this.props.resetKeys;if(this.state.error!==null&&i.error!==null&&wH(r.resetKeys,s)){var o,l;(o=(l=this.props).onResetKeysChange)==null||o.call(l,r.resetKeys,s),this.reset()}},n.render=function(){var r=this.state.error,i=this.props,s=i.fallbackRender,o=i.FallbackComponent;if(i=i.fallback,r!==null){if(r={error:r,resetErrorBoundary:this.resetErrorBoundary},Qa.isValidElement(i))return i;if(typeof s=="function")return s(r);if(o)return Qa.createElement(o,r);throw Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},e}(Qa.Component),CH=function({children:t,onError:e}){return Qa.createElement(TH,{fallback:Qa.createElement("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"}},"An error was thrown."),onError:e},t)};const SH=CH;var AH=SH;const IH=Fh(AH);var zN={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(s=i(s,r(l)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var l in s)e.call(s,l)&&s[l]&&(o=i(o,l));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(zN);var kH=zN.exports;const Dd=Fh(kH),RH=({children:t})=>{const[e,n,r]=ac.useEmitterValues("initialRootEditorState","usedLexicalNodes","readOnly");return ye.createElement(e7.LexicalComposer,{initialConfig:{editable:!r,editorState:e,namespace:"MDXEditor",theme:Qz,nodes:n,onError:i=>{throw i}}},t)},NH=()=>{const[t,e,n,r,i]=ac.useEmitterValues("contentEditableClassName","composerChildren","topAreaChildren","editorWrappers","placeholder");return ye.createElement(ye.Fragment,null,n.map((s,o)=>ye.createElement(s,{key:o})),ye.createElement(WN,{wrappers:r},ye.createElement("div",{className:Dd(Vi.rootContentEditableWrapper)},ye.createElement(gH.RichTextPlugin,{contentEditable:ye.createElement(EH.ContentEditable,{className:Dd(Vi.contentEditable,t)}),placeholder:ye.createElement("div",{className:Dd(Vi.contentEditable,Vi.placeholder,t)},ye.createElement("p",null,i)),ErrorBoundary:IH}))),e.map((s,o)=>ye.createElement(s,{key:o})))},PH={listItemIndent:"one"},DH=ye.lazy(()=>O6(()=>import("./Icon-CepkREke.js"),[])),bH=()=>ye.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"}),OH=t=>ye.createElement(ye.Suspense,{fallback:ye.createElement(bH,null)},ye.createElement(DH,{name:t})),WN=({wrappers:t,children:e})=>{if(t.length===0)return ye.createElement(ye.Fragment,null,e);const n=t[0];return ye.createElement(n,null,ye.createElement(WN,{wrappers:t.slice(1)},e))},FH=({children:t,className:e})=>{const n=ye.useRef(null),r=ac.usePublisher("editorRootElementRef");return ye.useEffect(()=>{const i=document.createElement("div");return i.classList.add(Vi.editorRoot),i.classList.add(Vi.popupContainer),e&&e.split(" ").forEach(s=>{i.classList.add(s)}),document.body.appendChild(i),n.current=i,r(n),()=>{i.remove()}},[e,n,r]),ye.createElement("div",{className:Dd(Vi.editorRoot,Vi.editorWrapper,e,"mdxeditor")},t)},MH=({mdxRef:t})=>{const e=ac.useRealmContext(),n=Iz("diff-source");return ye.useImperativeHandle(t,()=>({getMarkdown:()=>n&&e.getKeyValue("viewMode")==="source"?e.getKeyValue("markdownSourceEditorValue"):e.getKeyValue("markdown"),setMarkdown:r=>{e.pubKey("setMarkdown",r)},focus:(r,i)=>{var s;(s=e.getKeyValue("rootEditor"))==null||s.focus(r,i)}}),[e,n]),null},LH=ye.forwardRef((t,e)=>ye.createElement(Az,{plugins:[Nz({contentEditableClassName:t.contentEditableClassName??"",initialMarkdown:t.markdown,onChange:t.onChange??qa,onBlur:t.onBlur??qa,toMarkdownOptions:t.toMarkdownOptions??PH,autoFocus:t.autoFocus??!1,placeholder:t.placeholder??"",readOnly:!!t.readOnly,iconComponentFor:t.iconComponentFor??OH,suppressHtmlProcessing:t.suppressHtmlProcessing??!1,onError:t.onError??qa}),...t.plugins||[]]},ye.createElement(FH,{className:t.className},ye.createElement(RH,null,ye.createElement(NH,null))),ye.createElement(MH,{mdxRef:e}))),Qw=()=>{const{id:t}=yS(),e=kl(),[n,r]=H.useState({title:"",slug:"",excerpt:"",content:"",image:"",readTime:""}),i=Ba(u=>u.posts),s=Ba(u=>u.addPost),o=Ba(u=>u.updatePost);H.useEffect(()=>{if(t){const u=i.find(d=>d.id===t);u&&r(u)}},[t,i]);const l=u=>{u.preventDefault(),t?o(t,n):s(n),e("/admin/dashboard")},a=u=>{const{name:d,value:h}=u.target;r(f=>({...f,[d]:h}))};return b.jsx("div",{className:"min-h-screen p-6 sm:p-8",children:b.jsxs("div",{className:"max-w-4xl mx-auto",children:[b.jsx("h1",{className:"text-3xl font-bold mb-8",children:t?"Edit Post":"New Post"}),b.jsxs("form",{onSubmit:l,className:"space-y-6",children:[b.jsxs("div",{className:"glass-effect rounded-xl p-6 space-y-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium mb-2",children:"Title"}),b.jsx("input",{type:"text",name:"title",value:n.title,onChange:a,className:"w-full px-4 py-2 bg-black/50 border border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium mb-2",children:"Slug"}),b.jsx("input",{type:"text",name:"slug",value:n.slug,onChange:a,className:"w-full px-4 py-2 bg-black/50 border border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium mb-2",children:"Image URL"}),b.jsx("input",{type:"url",name:"image",value:n.image,onChange:a,className:"w-full px-4 py-2 bg-black/50 border border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium mb-2",children:"Read Time"}),b.jsx("input",{type:"text",name:"readTime",value:n.readTime,onChange:a,className:"w-full px-4 py-2 bg-black/50 border border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium mb-2",children:"Excerpt"}),b.jsx("textarea",{name:"excerpt",value:n.excerpt,onChange:a,rows:3,className:"w-full px-4 py-2 bg-black/50 border border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium mb-2",children:"Content"}),b.jsx("div",{className:"prose-editor-wrapper rounded-lg overflow-hidden border border-gray-700",children:b.jsx(LH,{markdown:n.content,onChange:u=>r(d=>({...d,content:u})),className:"bg-black/50"})})]})]}),b.jsxs("div",{className:"flex justify-end gap-4",children:[b.jsx("button",{type:"button",onClick:()=>e("/admin/dashboard"),className:"px-4 py-2 border border-gray-700 rounded-lg hover:bg-white/5",children:"Cancel"}),b.jsxs("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[t?"Update":"Create"," Post"]})]})]})]})})},rm=({children:t})=>u0(n=>n.isAuthenticated)?b.jsx(b.Fragment,{children:t}):b.jsx(Rb,{to:"/admin/login",replace:!0}),Yw=()=>{const[t,e]=H.useState([]),[n,r]=H.useState(!0);H.useEffect(()=>{(async()=>{try{const o=ck(dk,"downloads"),l=await C6(o),a=await Promise.all(l.items.map(async u=>{const d=await uk(u),h=await T6(u);return{name:u.name,url:d,size:i(h.size),type:h.contentType||"Unknown",uploadDate:new Date(h.timeCreated).toLocaleDateString()}}));e(a)}catch(o){console.error("Error fetching files:",o)}finally{r(!1)}})()},[]);const i=s=>{if(s===0)return"0 Bytes";const o=1024,l=["Bytes","KB","MB","GB"],a=Math.floor(Math.log(s)/Math.log(o));return parseFloat((s/Math.pow(o,a)).toFixed(2))+" "+l[a]};return n?b.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:b.jsx(SS,{className:"w-8 h-8 animate-spin text-blue-500"})}):b.jsx("section",{id:"downloads",className:"py-20",children:b.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[b.jsx("h2",{className:"section-title",children:"Downloads"}),b.jsx("div",{className:"grid gap-6",children:t.length===0?b.jsx("div",{className:"text-center text-gray-400 py-12",children:"No files available for download."}):t.map((s,o)=>b.jsxs("div",{className:"glass-effect rounded-xl p-6 flex items-center justify-between gap-4 hover:border-white/20 transition-all",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("div",{className:"p-3 rounded-lg bg-blue-500/10",children:b.jsx(Gb,{className:"w-6 h-6 text-blue-400"})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-medium mb-1",children:s.name}),b.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[b.jsx("span",{children:s.size}),b.jsx("span",{children:"•"}),b.jsx("span",{children:s.type}),b.jsx("span",{children:"•"}),b.jsxs("span",{children:["Uploaded on ",s.uploadDate]})]})]})]}),b.jsxs("a",{href:s.url,download:s.name,className:"flex items-center gap-2 px-4 py-2 bg-blue-500/10 hover:bg-blue-500/20 text-blue-400 rounded-lg transition-colors",children:[b.jsx(Hb,{className:"w-4 h-4"}),"Download"]})]},o))})]})})};function $H(){const{pathname:t}=Il();return H.useEffect(()=>{window.scrollTo(0,0)},[t]),null}function VH(){const[t,e]=H.useState({x:0,y:0}),[n,r]=H.useState(0),[i,s]=H.useState(!0);return H.useEffect(()=>{const o=a=>{e({x:a.clientX,y:a.clientY})},l=()=>{const a=window.scrollY;a>n&&a>100?s(!1):s(!0),r(a)};return window.addEventListener("mousemove",o),window.addEventListener("scroll",l),()=>{window.removeEventListener("mousemove",o),window.removeEventListener("scroll",l)}},[n]),b.jsxs($b,{children:[b.jsx($H,{}),b.jsxs("div",{className:"wrapper",children:[b.jsx("div",{className:"light-beam",style:{left:`${t.x-400}px`,top:`${t.y-400}px`}}),b.jsx("header",{className:`fixed top-0 left-0 right-0 z-50 bg-black/50 backdrop-blur-sm border-b border-white/10 transition-transform duration-300 ${i?"translate-y-0":"-translate-y-full"}`,children:b.jsx("div",{className:"container mx-auto px-6 sm:px-8 py-4",children:b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx(ri,{to:"/",className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-400",children:"Oday Noman"}),b.jsxs("div",{className:"flex items-center gap-6",children:[b.jsxs("div",{className:"available-badge",children:[b.jsx("span",{className:"available-dot"}),"Available"]}),b.jsx(ri,{to:"/blog",className:"nav-link",children:"Blog"}),b.jsx(ri,{to:"/downloads",className:"nav-link",children:"Downloads"})]})]})})}),b.jsx("main",{className:"main-content px-6 sm:px-8",children:b.jsxs(Pb,{children:[b.jsx(Wr,{path:"/",element:b.jsxs(b.Fragment,{children:[b.jsx(aO,{}),b.jsx(uO,{}),b.jsx(cO,{}),b.jsx(Yw,{}),b.jsx(CO,{})]})}),b.jsx(Wr,{path:"/blog",element:b.jsx(AO,{})}),b.jsx(Wr,{path:"/blog/:slug",element:b.jsx(IO,{})}),b.jsx(Wr,{path:"/downloads",element:b.jsx(Yw,{})}),b.jsx(Wr,{path:"/admin/login",element:b.jsx(N6,{})}),b.jsx(Wr,{path:"/admin/dashboard",element:b.jsx(rm,{children:b.jsx(P6,{})})}),b.jsx(Wr,{path:"/admin/posts/new",element:b.jsx(rm,{children:b.jsx(Qw,{})})}),b.jsx(Wr,{path:"/admin/posts/edit/:id",element:b.jsx(rm,{children:b.jsx(Qw,{})})})]})}),b.jsx(SO,{})]})]})}dS(document.getElementById("root")).render(b.jsx(H.StrictMode,{children:b.jsx(VH,{})}));export{ye as R,H as r};
